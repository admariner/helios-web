{
  "version": 3,
  "sources": ["../../build/_snowpack/env.js", "../../build/_snowpack/pkg/gl-matrix.js", "../../build/_snowpack/pkg/@colormap/core.js", "../../build/_snowpack/pkg/@colormap/presets.js", "../../build/src/core/Network.js", "../../build/src/utils/webglutils.js", "../../build/src/utils/xnet.js", "../../build/_snowpack/pkg/common/select-9bda5bb9.js", "../../build/_snowpack/pkg/common/dispatch-a4cc9f48.js", "../../build/_snowpack/pkg/common/timer-0f89e737.js", "../../build/_snowpack/pkg/common/string-cfd0b55d.js", "../../build/_snowpack/pkg/common/color-a4ab9cc4.js", "../../build/_snowpack/pkg/common/rgb-90dc4bb7.js", "../../build/_snowpack/pkg/common/nodrag-5a51286e.js", "../../build/_snowpack/pkg/d3-zoom.js", "../../build/_snowpack/pkg/d3-drag.js", "../../build/_snowpack/pkg/common/index-06822a64.js", "../../build/_snowpack/pkg/common/_commonjsHelpers-edfea8af.js", "../../build/_snowpack/pkg/ngraph.forcelayout.js", "../../build/_snowpack/pkg/d3-force-3d.js", "../../build/_snowpack/pkg/pica.js", "../../build/src/layouts/d3force3dLayoutWorker.js", "../../build/src/core/Helios-Core.js"],
  "sourcesContent": ["export const MODE = \"production\";\nexport const NODE_ENV = \"production\";\nexport const SSR = false;", "/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nfunction setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};\n\nvar common = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  EPSILON: EPSILON,\n  get ARRAY_TYPE () { return ARRAY_TYPE; },\n  RANDOM: RANDOM,\n  setMatrixArrayType: setMatrixArrayType,\n  toRadian: toRadian,\n  equals: equals\n});\n\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nfunction create() {\n  var out = new ARRAY_TYPE(4);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nfunction clone(a) {\n  var out = new ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nfunction fromValues(m00, m01, m10, m11) {\n  var out = new ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nfunction set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nfunction invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nfunction adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nfunction determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nfunction multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nfunction rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nfunction scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {ReadonlyMat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nfunction str(a) {\n  return \"mat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {ReadonlyMat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {ReadonlyMat2} L the lower triangular matrix\r\n * @param {ReadonlyMat2} D the diagonal matrix\r\n * @param {ReadonlyMat2} U the upper triangular matrix\r\n * @param {ReadonlyMat2} a the input matrix to factorize\r\n */\n\nfunction LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2} a The first matrix.\r\n * @param {ReadonlyMat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction equals$1(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {ReadonlyMat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {ReadonlyMat2} a the first operand\r\n * @param {ReadonlyMat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nvar mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nvar sub = subtract;\n\nvar mat2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create,\n  clone: clone,\n  copy: copy,\n  identity: identity,\n  fromValues: fromValues,\n  set: set,\n  transpose: transpose,\n  invert: invert,\n  adjoint: adjoint,\n  determinant: determinant,\n  multiply: multiply,\n  rotate: rotate,\n  scale: scale,\n  fromRotation: fromRotation,\n  fromScaling: fromScaling,\n  str: str,\n  frob: frob,\n  LDU: LDU,\n  add: add,\n  subtract: subtract,\n  exactEquals: exactEquals,\n  equals: equals$1,\n  multiplyScalar: multiplyScalar,\n  multiplyScalarAndAdd: multiplyScalarAndAdd,\n  mul: mul,\n  sub: sub\n});\n\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, b,\r\n *  c, d,\r\n *  tx, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, b, 0,\r\n *  c, d, 0,\r\n *  tx, ty, 1]\r\n * </pre>\r\n * The last column is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nfunction create$1() {\n  var out = new ARRAY_TYPE(6);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nfunction clone$1(a) {\n  var out = new ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nfunction copy$1(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nfunction identity$1(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nfunction fromValues$1(a, b, c, d, tx, ty) {\n  var out = new ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nfunction set$1(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nfunction invert$1(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nfunction determinant$1(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nfunction multiply$1(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nfunction rotate$1(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nfunction scale$1(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to translate\r\n * @param {ReadonlyVec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nfunction translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nfunction fromRotation$1(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nfunction fromScaling$1(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nfunction str$1(a) {\n  return \"mat2d(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {ReadonlyMat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nfunction frob$1(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nfunction add$1(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nfunction subtract$1(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nfunction multiplyScalar$1(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {ReadonlyMat2d} a the first operand\r\n * @param {ReadonlyMat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nfunction multiplyScalarAndAdd$1(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction exactEquals$1(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat2d} a The first matrix.\r\n * @param {ReadonlyMat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction equals$2(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nvar mul$1 = multiply$1;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nvar sub$1 = subtract$1;\n\nvar mat2d = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$1,\n  clone: clone$1,\n  copy: copy$1,\n  identity: identity$1,\n  fromValues: fromValues$1,\n  set: set$1,\n  invert: invert$1,\n  determinant: determinant$1,\n  multiply: multiply$1,\n  rotate: rotate$1,\n  scale: scale$1,\n  translate: translate,\n  fromRotation: fromRotation$1,\n  fromScaling: fromScaling$1,\n  fromTranslation: fromTranslation,\n  str: str$1,\n  frob: frob$1,\n  add: add$1,\n  subtract: subtract$1,\n  multiplyScalar: multiplyScalar$1,\n  multiplyScalarAndAdd: multiplyScalarAndAdd$1,\n  exactEquals: exactEquals$1,\n  equals: equals$2,\n  mul: mul$1,\n  sub: sub$1\n});\n\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nfunction create$2() {\n  var out = new ARRAY_TYPE(9);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {ReadonlyMat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nfunction clone$2(a) {\n  var out = new ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nfunction copy$2(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nfunction fromValues$2(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nfunction set$2(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nfunction identity$2(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nfunction transpose$1(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nfunction invert$2(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nfunction adjoint$1(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nfunction determinant$2(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nfunction multiply$2(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to translate\r\n * @param {ReadonlyVec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nfunction translate$1(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nfunction rotate$2(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to rotate\r\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nfunction scale$2(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nfunction fromTranslation$1(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nfunction fromRotation$2(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyVec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nfunction fromScaling$2(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\n\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {ReadonlyMat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nfunction str$2(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nfunction frob$2(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nfunction add$2(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nfunction subtract$2(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {ReadonlyMat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nfunction multiplyScalar$2(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {ReadonlyMat3} a the first operand\r\n * @param {ReadonlyMat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nfunction multiplyScalarAndAdd$2(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction exactEquals$2(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat3} a The first matrix.\r\n * @param {ReadonlyMat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction equals$3(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nvar mul$2 = multiply$2;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nvar sub$2 = subtract$2;\n\nvar mat3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$2,\n  fromMat4: fromMat4,\n  clone: clone$2,\n  copy: copy$2,\n  fromValues: fromValues$2,\n  set: set$2,\n  identity: identity$2,\n  transpose: transpose$1,\n  invert: invert$2,\n  adjoint: adjoint$1,\n  determinant: determinant$2,\n  multiply: multiply$2,\n  translate: translate$1,\n  rotate: rotate$2,\n  scale: scale$2,\n  fromTranslation: fromTranslation$1,\n  fromRotation: fromRotation$2,\n  fromScaling: fromScaling$2,\n  fromMat2d: fromMat2d,\n  fromQuat: fromQuat,\n  normalFromMat4: normalFromMat4,\n  projection: projection,\n  str: str$2,\n  frob: frob$2,\n  add: add$2,\n  subtract: subtract$2,\n  multiplyScalar: multiplyScalar$2,\n  multiplyScalarAndAdd: multiplyScalarAndAdd$2,\n  exactEquals: exactEquals$2,\n  equals: equals$3,\n  mul: mul$2,\n  sub: sub$2\n});\n\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction create$3() {\n  var out = new ARRAY_TYPE(16);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nfunction clone$3(a) {\n  var out = new ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction copy$3(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nfunction fromValues$3(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nfunction set$3(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nfunction identity$3(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction transpose$2(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction invert$3(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nfunction adjoint$2(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nfunction determinant$3(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction multiply$3(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nfunction translate$2(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nfunction scale$3(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction rotate$3(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromTranslation$2(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromScaling$3(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotation$3(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nfunction fromQuat2(out, a) {\n  var translation = new ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nfunction getRotation(out, mat) {\n  var scaling = new ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nfunction fromQuat$1(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nfunction perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nfunction ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < EPSILON && Math.abs(eyey - centery) < EPSILON && Math.abs(eyez - centerz) < EPSILON) {\n    return identity$3(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nfunction str$3(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nfunction frob$3(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction add$3(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nfunction subtract$3(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalar$3(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nfunction multiplyScalarAndAdd$3(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction exactEquals$3(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nfunction equals$4(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nvar mul$3 = multiply$3;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nvar sub$3 = subtract$3;\n\nvar mat4 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$3,\n  clone: clone$3,\n  copy: copy$3,\n  fromValues: fromValues$3,\n  set: set$3,\n  identity: identity$3,\n  transpose: transpose$2,\n  invert: invert$3,\n  adjoint: adjoint$2,\n  determinant: determinant$3,\n  multiply: multiply$3,\n  translate: translate$2,\n  scale: scale$3,\n  rotate: rotate$3,\n  rotateX: rotateX,\n  rotateY: rotateY,\n  rotateZ: rotateZ,\n  fromTranslation: fromTranslation$2,\n  fromScaling: fromScaling$3,\n  fromRotation: fromRotation$3,\n  fromXRotation: fromXRotation,\n  fromYRotation: fromYRotation,\n  fromZRotation: fromZRotation,\n  fromRotationTranslation: fromRotationTranslation,\n  fromQuat2: fromQuat2,\n  getTranslation: getTranslation,\n  getScaling: getScaling,\n  getRotation: getRotation,\n  fromRotationTranslationScale: fromRotationTranslationScale,\n  fromRotationTranslationScaleOrigin: fromRotationTranslationScaleOrigin,\n  fromQuat: fromQuat$1,\n  frustum: frustum,\n  perspective: perspective,\n  perspectiveFromFieldOfView: perspectiveFromFieldOfView,\n  ortho: ortho,\n  lookAt: lookAt,\n  targetTo: targetTo,\n  str: str$3,\n  frob: frob$3,\n  add: add$3,\n  subtract: subtract$3,\n  multiplyScalar: multiplyScalar$3,\n  multiplyScalarAndAdd: multiplyScalarAndAdd$3,\n  exactEquals: exactEquals$3,\n  equals: equals$4,\n  mul: mul$3,\n  sub: sub$3\n});\n\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction create$4() {\n  var out = new ARRAY_TYPE(3);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction clone$4(a) {\n  var out = new ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nfunction fromValues$4(x, y, z) {\n  var out = new ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nfunction copy$4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nfunction set$4(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction add$4(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction subtract$4(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction multiply$4(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nfunction scale$4(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = RANDOM() * 2.0 * Math.PI;\n  var z = RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction rotateX$1(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction rotateY$1(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nfunction rotateZ$1(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction str$4(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction exactEquals$4(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction equals$5(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nvar sub$4 = subtract$4;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nvar mul$4 = multiply$4;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nvar div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nvar dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nvar len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach = function () {\n  var vec = create$4();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n\nvar vec3 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$4,\n  clone: clone$4,\n  length: length,\n  fromValues: fromValues$4,\n  copy: copy$4,\n  set: set$4,\n  add: add$4,\n  subtract: subtract$4,\n  multiply: multiply$4,\n  divide: divide,\n  ceil: ceil,\n  floor: floor,\n  min: min,\n  max: max,\n  round: round,\n  scale: scale$4,\n  scaleAndAdd: scaleAndAdd,\n  distance: distance,\n  squaredDistance: squaredDistance,\n  squaredLength: squaredLength,\n  negate: negate,\n  inverse: inverse,\n  normalize: normalize,\n  dot: dot,\n  cross: cross,\n  lerp: lerp,\n  hermite: hermite,\n  bezier: bezier,\n  random: random,\n  transformMat4: transformMat4,\n  transformMat3: transformMat3,\n  transformQuat: transformQuat,\n  rotateX: rotateX$1,\n  rotateY: rotateY$1,\n  rotateZ: rotateZ$1,\n  angle: angle,\n  zero: zero,\n  str: str$4,\n  exactEquals: exactEquals$4,\n  equals: equals$5,\n  sub: sub$4,\n  mul: mul$4,\n  div: div,\n  dist: dist,\n  sqrDist: sqrDist,\n  len: len,\n  sqrLen: sqrLen,\n  forEach: forEach\n});\n\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nfunction create$5() {\n  var out = new ARRAY_TYPE(4);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nfunction clone$5(a) {\n  var out = new ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nfunction fromValues$5(x, y, z, w) {\n  var out = new ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nfunction copy$5(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nfunction set$5(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction add$5(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction subtract$5(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction multiply$5(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction divide$1(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nfunction ceil$1(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nfunction floor$1(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction min$1(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nfunction max$1(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nfunction round$1(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nfunction scale$5(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nfunction scaleAndAdd$1(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance$1(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance$1(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction length$1(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength$1(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nfunction negate$1(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nfunction inverse$1(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nfunction normalize$1(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot$1(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nfunction cross$1(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nfunction lerp$1(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nfunction random$1(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = RANDOM() * 2 - 1;\n    v2 = RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = RANDOM() * 2 - 1;\n    v4 = RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nfunction transformMat4$1(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nfunction transformQuat$1(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nfunction zero$1(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction str$5(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction exactEquals$5(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction equals$6(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nvar sub$5 = subtract$5;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nvar mul$5 = multiply$5;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nvar div$1 = divide$1;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nvar dist$1 = distance$1;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist$1 = squaredDistance$1;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nvar len$1 = length$1;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen$1 = squaredLength$1;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach$1 = function () {\n  var vec = create$5();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();\n\nvar vec4 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$5,\n  clone: clone$5,\n  fromValues: fromValues$5,\n  copy: copy$5,\n  set: set$5,\n  add: add$5,\n  subtract: subtract$5,\n  multiply: multiply$5,\n  divide: divide$1,\n  ceil: ceil$1,\n  floor: floor$1,\n  min: min$1,\n  max: max$1,\n  round: round$1,\n  scale: scale$5,\n  scaleAndAdd: scaleAndAdd$1,\n  distance: distance$1,\n  squaredDistance: squaredDistance$1,\n  length: length$1,\n  squaredLength: squaredLength$1,\n  negate: negate$1,\n  inverse: inverse$1,\n  normalize: normalize$1,\n  dot: dot$1,\n  cross: cross$1,\n  lerp: lerp$1,\n  random: random$1,\n  transformMat4: transformMat4$1,\n  transformQuat: transformQuat$1,\n  zero: zero$1,\n  str: str$5,\n  exactEquals: exactEquals$5,\n  equals: equals$6,\n  sub: sub$5,\n  mul: mul$5,\n  div: div$1,\n  dist: dist$1,\n  sqrDist: sqrDist$1,\n  len: len$1,\n  sqrLen: sqrLen$1,\n  forEach: forEach$1\n});\n\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nfunction create$6() {\n  var out = new ARRAY_TYPE(4);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nfunction identity$4(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyVec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nfunction setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nfunction getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {ReadonlyQuat} a     Origin unit quaternion\r\n * @param  {ReadonlyQuat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nfunction getAngle(a, b) {\n  var dotproduct = dot$2(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n */\n\nfunction multiply$6(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nfunction rotateX$2(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nfunction rotateY$2(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {ReadonlyQuat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nfunction rotateZ$2(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nfunction calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nfunction exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nfunction ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nfunction pow(out, a, b) {\n  ln(out, a);\n  scale$6(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nfunction slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nfunction random$2(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = RANDOM();\n  var u2 = RANDOM();\n  var u3 = RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nfunction invert$4(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nfunction conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyMat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nfunction fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nfunction fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {ReadonlyQuat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction str$6(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nvar clone$6 = clone$5;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nvar fromValues$6 = fromValues$5;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nvar copy$6 = copy$5;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nvar set$6 = set$5;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nvar add$6 = add$5;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nvar mul$6 = multiply$6;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {ReadonlyQuat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nvar scale$6 = scale$5;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nvar dot$2 = dot$1;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nvar lerp$2 = lerp$1;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nvar length$2 = length$1;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nvar len$2 = length$2;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {ReadonlyQuat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nvar squaredLength$2 = squaredLength$1;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen$2 = squaredLength$2;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nvar normalize$2 = normalize$1;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat} a The first quaternion.\r\n * @param {ReadonlyQuat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nvar exactEquals$6 = exactEquals$5;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat} a The first vector.\r\n * @param {ReadonlyQuat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nvar equals$7 = equals$6;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {ReadonlyVec3} a the initial vector\r\n * @param {ReadonlyVec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nvar rotationTo = function () {\n  var tmpvec3 = create$4();\n  var xUnitVec3 = fromValues$4(1, 0, 0);\n  var yUnitVec3 = fromValues$4(0, 1, 0);\n  return function (out, a, b) {\n    var dot$1 = dot(a, b);\n\n    if (dot$1 < -0.999999) {\n      cross(tmpvec3, xUnitVec3, a);\n      if (len(tmpvec3) < 0.000001) cross(tmpvec3, yUnitVec3, a);\n      normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot$1 > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot$1;\n      return normalize$2(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {ReadonlyQuat} a the first operand\r\n * @param {ReadonlyQuat} b the second operand\r\n * @param {ReadonlyQuat} c the third operand\r\n * @param {ReadonlyQuat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nvar sqlerp = function () {\n  var temp1 = create$6();\n  var temp2 = create$6();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\r\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\r\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nvar setAxes = function () {\n  var matr = create$2();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize$2(out, fromMat3(out, matr));\n  };\n}();\n\nvar quat = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$6,\n  identity: identity$4,\n  setAxisAngle: setAxisAngle,\n  getAxisAngle: getAxisAngle,\n  getAngle: getAngle,\n  multiply: multiply$6,\n  rotateX: rotateX$2,\n  rotateY: rotateY$2,\n  rotateZ: rotateZ$2,\n  calculateW: calculateW,\n  exp: exp,\n  ln: ln,\n  pow: pow,\n  slerp: slerp,\n  random: random$2,\n  invert: invert$4,\n  conjugate: conjugate,\n  fromMat3: fromMat3,\n  fromEuler: fromEuler,\n  str: str$6,\n  clone: clone$6,\n  fromValues: fromValues$6,\n  copy: copy$6,\n  set: set$6,\n  add: add$6,\n  mul: mul$6,\n  scale: scale$6,\n  dot: dot$2,\n  lerp: lerp$2,\n  length: length$2,\n  len: len$2,\n  squaredLength: squaredLength$2,\n  sqrLen: sqrLen$2,\n  normalize: normalize$2,\n  exactEquals: exactEquals$6,\n  equals: equals$7,\n  rotationTo: rotationTo,\n  sqlerp: sqlerp,\n  setAxes: setAxes\n});\n\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nfunction create$7() {\n  var dq = new ARRAY_TYPE(8);\n\n  if (ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nfunction clone$7(a) {\n  var dq = new ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nfunction fromValues$7(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nfunction fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q a normalized quaternion\r\n * @param {ReadonlyVec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nfunction fromRotationTranslation$1(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyVec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nfunction fromTranslation$3(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {ReadonlyQuat2} dual quaternion receiving operation result\r\n * @param {ReadonlyQuat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nfunction fromRotation$4(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {ReadonlyMat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nfunction fromMat4$1(out, a) {\n  //TODO Optimize this\n  var outer = create$6();\n  getRotation(outer, a);\n  var t = new ARRAY_TYPE(3);\n  getTranslation(t, a);\n  fromRotationTranslation$1(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nfunction copy$7(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nfunction identity$5(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nfunction set$7(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nvar getReal = copy$6;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {ReadonlyQuat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nfunction getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nvar setReal = copy$6;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nfunction setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {ReadonlyQuat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nfunction getTranslation$1(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nfunction translate$3(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nfunction rotateX$3(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  rotateX$2(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nfunction rotateY$3(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  rotateY$2(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nfunction rotateZ$3(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  rotateZ$2(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nfunction rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat} q quaternion to rotate by\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nfunction rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the dual quaternion to rotate\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nfunction rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < EPSILON) {\n    return copy$7(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nfunction add$7(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nfunction multiply$7(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nvar mul$7 = multiply$7;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nfunction scale$7(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nvar dot$3 = dot$2;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {ReadonlyQuat2} a the first operand\r\n * @param {ReadonlyQuat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nfunction lerp$3(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot$3(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nfunction invert$5(out, a) {\n  var sqlen = squaredLength$3(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {ReadonlyQuat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nfunction conjugate$1(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nvar length$3 = length$2;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nvar len$3 = length$3;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {ReadonlyQuat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nvar squaredLength$3 = squaredLength$2;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen$3 = squaredLength$3;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {ReadonlyQuat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nfunction normalize$3(out, a) {\n  var magnitude = squaredLength$3(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {ReadonlyQuat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nfunction str$7(a) {\n  return \"quat2(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \")\";\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quaternion.\r\n * @param {ReadonlyQuat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nfunction exactEquals$7(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyQuat2} a the first dual quat.\r\n * @param {ReadonlyQuat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nfunction equals$8(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}\n\nvar quat2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$7,\n  clone: clone$7,\n  fromValues: fromValues$7,\n  fromRotationTranslationValues: fromRotationTranslationValues,\n  fromRotationTranslation: fromRotationTranslation$1,\n  fromTranslation: fromTranslation$3,\n  fromRotation: fromRotation$4,\n  fromMat4: fromMat4$1,\n  copy: copy$7,\n  identity: identity$5,\n  set: set$7,\n  getReal: getReal,\n  getDual: getDual,\n  setReal: setReal,\n  setDual: setDual,\n  getTranslation: getTranslation$1,\n  translate: translate$3,\n  rotateX: rotateX$3,\n  rotateY: rotateY$3,\n  rotateZ: rotateZ$3,\n  rotateByQuatAppend: rotateByQuatAppend,\n  rotateByQuatPrepend: rotateByQuatPrepend,\n  rotateAroundAxis: rotateAroundAxis,\n  add: add$7,\n  multiply: multiply$7,\n  mul: mul$7,\n  scale: scale$7,\n  dot: dot$3,\n  lerp: lerp$3,\n  invert: invert$5,\n  conjugate: conjugate$1,\n  length: length$3,\n  len: len$3,\n  squaredLength: squaredLength$3,\n  sqrLen: sqrLen$3,\n  normalize: normalize$3,\n  str: str$7,\n  exactEquals: exactEquals$7,\n  equals: equals$8\n});\n\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nfunction create$8() {\n  var out = new ARRAY_TYPE(2);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nfunction clone$8(a) {\n  var out = new ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nfunction fromValues$8(x, y) {\n  var out = new ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nfunction copy$8(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nfunction set$8(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction add$8(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction subtract$6(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction multiply$8(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction divide$2(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nfunction ceil$2(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nfunction floor$2(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction min$2(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nfunction max$2(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nfunction round$2(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nfunction scale$8(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nfunction scaleAndAdd$2(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nfunction distance$2(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nfunction squaredDistance$2(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nfunction length$4(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nfunction squaredLength$4(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nfunction negate$2(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nfunction inverse$2(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nfunction normalize$4(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nfunction dot$4(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nfunction cross$2(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nfunction lerp$4(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nfunction random$3(out, scale) {\n  scale = scale || 1.0;\n  var r = RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat3$1(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nfunction transformMat4$2(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nfunction rotate$4(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nfunction angle$1(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nfunction zero$2(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nfunction str$8(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction exactEquals$8(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nfunction equals$9(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nvar len$4 = length$4;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nvar sub$6 = subtract$6;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nvar mul$8 = multiply$8;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nvar div$2 = divide$2;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nvar dist$2 = distance$2;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nvar sqrDist$2 = squaredDistance$2;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nvar sqrLen$4 = squaredLength$4;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nvar forEach$2 = function () {\n  var vec = create$8();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();\n\nvar vec2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  create: create$8,\n  clone: clone$8,\n  fromValues: fromValues$8,\n  copy: copy$8,\n  set: set$8,\n  add: add$8,\n  subtract: subtract$6,\n  multiply: multiply$8,\n  divide: divide$2,\n  ceil: ceil$2,\n  floor: floor$2,\n  min: min$2,\n  max: max$2,\n  round: round$2,\n  scale: scale$8,\n  scaleAndAdd: scaleAndAdd$2,\n  distance: distance$2,\n  squaredDistance: squaredDistance$2,\n  length: length$4,\n  squaredLength: squaredLength$4,\n  negate: negate$2,\n  inverse: inverse$2,\n  normalize: normalize$4,\n  dot: dot$4,\n  cross: cross$2,\n  lerp: lerp$4,\n  random: random$3,\n  transformMat2: transformMat2,\n  transformMat2d: transformMat2d,\n  transformMat3: transformMat3$1,\n  transformMat4: transformMat4$2,\n  rotate: rotate$4,\n  angle: angle$1,\n  zero: zero$2,\n  str: str$8,\n  exactEquals: exactEquals$8,\n  equals: equals$9,\n  len: len$4,\n  sub: sub$6,\n  mul: mul$8,\n  div: div$2,\n  dist: dist$2,\n  sqrDist: sqrDist$2,\n  sqrLen: sqrLen$4,\n  forEach: forEach$2\n});\n\nexport { common as glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };\n", "function findIndex(nodes, value, start, stop) {\r\n    // Find the index in the color array for which\r\n    // nodes[index].value <= value < nodes[index + 1]\r\n    if (stop <= start) {\r\n        return start;\r\n    }\r\n    const index = Math.floor(start + (stop - start) / 2);\r\n    const delta = value - nodes[index].value;\r\n    const delta1 = value - nodes[index + 1].value;\r\n    if (delta < 0) {\r\n        return findIndex(nodes, value, start, index - 1);\r\n    }\r\n    else if (delta1 < 0) {\r\n        return index;\r\n    }\r\n    else {\r\n        return findIndex(nodes, value, index + 1, stop);\r\n    }\r\n}\r\nconst linearMixer = (value, lowerNodeValue, upperNodeValue) => {\r\n    const frac = (value - lowerNodeValue) / (upperNodeValue - lowerNodeValue);\r\n    return [1 - frac, frac];\r\n};\r\n\nfunction isNode(node) {\r\n    return node.value !== undefined && node.mapped !== undefined;\r\n}\r\nfunction isNodeArray(nodes) {\r\n    return nodes.length > 0 && isNode(nodes[0]);\r\n}\r\nfunction colorCombination(a, X, b, Y) {\r\n    return [\r\n        a * X[0] + b * Y[0],\r\n        a * X[1] + b * Y[1],\r\n        a * X[2] + b * Y[2]\r\n    ];\r\n}\r\nfunction ensureMixer(mixer) {\r\n    return mixer ? mixer : linearMixer;\r\n}\r\nfunction createColorMap(colors, scale, mixer) {\r\n    if (!Array.isArray(colors) || colors.length < 1) {\r\n        return noColorMap;\r\n    }\r\n    if (isNodeArray(colors)) {\r\n        return createMapFromNodes(colors, scale, ensureMixer(mixer), colorCombination);\r\n    }\r\n    else {\r\n        return createMapFromArray(colors, scale, ensureMixer(mixer), colorCombination);\r\n    }\r\n}\r\nfunction createMapFromNodes(nodes, scale, mixer, linearCombination) {\r\n    const sortedNodes = nodes.sort((a, b) => a.value < b.value ? -1 : 1);\r\n    return function (value) {\r\n        const scaledValue = scale(value);\r\n        const index = findIndex(sortedNodes, scaledValue, 0, sortedNodes.length - 1);\r\n        if (index == 0 && scaledValue < sortedNodes[0].value) {\r\n            return sortedNodes[index].mapped;\r\n        }\r\n        else if (index == sortedNodes.length - 1) {\r\n            return sortedNodes[index].mapped;\r\n        }\r\n        const [coeff0, coeff1] = mixer(scaledValue, sortedNodes[index].value, sortedNodes[index + 1].value);\r\n        return linearCombination(coeff0, sortedNodes[index].mapped, coeff1, sortedNodes[index + 1].mapped);\r\n    };\r\n}\r\nfunction createMapFromArray(arr, scale, mixer, linearCombination) {\r\n    return function (value) {\r\n        const scaledValue = scale(value);\r\n        const indexFloat = (arr.length - 1) * scaledValue;\r\n        if (indexFloat <= 0) {\r\n            return arr[0];\r\n        }\r\n        else if (indexFloat >= arr.length - 1) {\r\n            return arr[arr.length - 1];\r\n        }\r\n        const index = Math.floor(indexFloat);\r\n        const [coeff0, coeff1] = mixer(indexFloat, index, index + 1);\r\n        return linearCombination(coeff0, arr[index], coeff1, arr[index + 1]);\r\n    };\r\n}\r\nfunction noColorMap(_value) {\r\n    return [0, 0, 0];\r\n}\r\n\nfunction linearScale(domain, range) {\r\n    let [d0, d1] = domain;\r\n    const [r0, r1] = range;\r\n    if (Math.abs(d0 - d1) < Number.EPSILON) {\r\n        d1 = d0 + 1;\r\n    }\r\n    return function (value) {\r\n        return r0 + (r1 - r0) * ((value - d0) / (d1 - d0));\r\n    };\r\n}\n\nexport { createColorMap, linearScale };\n", "const colors = [\r\n    [0, 0, 0],\r\n    [1, 1, 1]\r\n];\n\nconst colors$1 = [\r\n    [0.0, 0.135112, 0.304751],\r\n    [0.0, 0.138068, 0.311105],\r\n    [0.0, 0.141013, 0.317579],\r\n    [0.0, 0.143951, 0.323982],\r\n    [0.0, 0.146877, 0.330479],\r\n    [0.0, 0.149791, 0.337065],\r\n    [0.0, 0.152673, 0.343704],\r\n    [0.0, 0.155377, 0.3505],\r\n    [0.0, 0.157932, 0.357521],\r\n    [0.0, 0.160495, 0.364534],\r\n    [0.0, 0.163058, 0.371608],\r\n    [0.0, 0.165621, 0.378769],\r\n    [0.0, 0.168204, 0.385902],\r\n    [0.0, 0.1708, 0.3931],\r\n    [0.0, 0.17342, 0.400353],\r\n    [0.0, 0.176082, 0.407577],\r\n    [0.0, 0.178802, 0.414764],\r\n    [0.0, 0.18161, 0.421859],\r\n    [0.0, 0.18455, 0.428802],\r\n    [0.0, 0.186915, 0.435532],\r\n    [0.0, 0.188769, 0.439563],\r\n    [0.0, 0.19095, 0.441085],\r\n    [0.0, 0.193366, 0.441561],\r\n    [0.003602, 0.195911, 0.441564],\r\n    [0.017852, 0.198528, 0.441248],\r\n    [0.03211, 0.201199, 0.440785],\r\n    [0.046205, 0.203903, 0.440196],\r\n    [0.058378, 0.206629, 0.439531],\r\n    [0.068968, 0.209372, 0.438863],\r\n    [0.078624, 0.212122, 0.438105],\r\n    [0.087465, 0.214879, 0.437342],\r\n    [0.095645, 0.217643, 0.436593],\r\n    [0.103401, 0.220406, 0.43579],\r\n    [0.110658, 0.22317, 0.435067],\r\n    [0.117612, 0.225935, 0.434308],\r\n    [0.124291, 0.228697, 0.433547],\r\n    [0.130669, 0.231458, 0.43284],\r\n    [0.13683, 0.234216, 0.432148],\r\n    [0.142852, 0.236972, 0.431404],\r\n    [0.148638, 0.239724, 0.430752],\r\n    [0.154261, 0.242475, 0.43012],\r\n    [0.159733, 0.245221, 0.429528],\r\n    [0.165113, 0.247965, 0.428908],\r\n    [0.170362, 0.250707, 0.428325],\r\n    [0.17549, 0.253444, 0.42779],\r\n    [0.180503, 0.25618, 0.427299],\r\n    [0.185453, 0.258914, 0.426788],\r\n    [0.190303, 0.261644, 0.426329],\r\n    [0.195057, 0.264372, 0.425924],\r\n    [0.199764, 0.267099, 0.425497],\r\n    [0.204385, 0.269823, 0.425126],\r\n    [0.208926, 0.272546, 0.424809],\r\n    [0.213431, 0.275266, 0.42448],\r\n    [0.217863, 0.277985, 0.424206],\r\n    [0.222264, 0.280702, 0.423914],\r\n    [0.226598, 0.283419, 0.423678],\r\n    [0.230871, 0.286134, 0.423498],\r\n    [0.23512, 0.288848, 0.423304],\r\n    [0.239312, 0.291562, 0.423167],\r\n    [0.243485, 0.294274, 0.423014],\r\n    [0.247605, 0.296986, 0.422917],\r\n    [0.251675, 0.299698, 0.422873],\r\n    [0.255731, 0.302409, 0.422814],\r\n    [0.25974, 0.30512, 0.42281],\r\n    [0.263738, 0.307831, 0.422789],\r\n    [0.267693, 0.310542, 0.422821],\r\n    [0.271639, 0.313253, 0.422837],\r\n    [0.275513, 0.315965, 0.422979],\r\n    [0.279411, 0.318677, 0.423031],\r\n    [0.28324, 0.32139, 0.423211],\r\n    [0.287065, 0.324103, 0.423373],\r\n    [0.290884, 0.326816, 0.423517],\r\n    [0.294669, 0.329531, 0.423716],\r\n    [0.298421, 0.332247, 0.423973],\r\n    [0.302169, 0.334963, 0.424213],\r\n    [0.305886, 0.337681, 0.424512],\r\n    [0.309601, 0.340399, 0.42479],\r\n    [0.313287, 0.34312, 0.42512],\r\n    [0.316941, 0.345842, 0.425512],\r\n    [0.320595, 0.348565, 0.425889],\r\n    [0.32425, 0.351289, 0.42625],\r\n    [0.327875, 0.354016, 0.42667],\r\n    [0.331474, 0.356744, 0.427144],\r\n    [0.335073, 0.359474, 0.427605],\r\n    [0.338673, 0.362206, 0.428053],\r\n    [0.342246, 0.364939, 0.428559],\r\n    [0.345793, 0.367676, 0.429127],\r\n    [0.349341, 0.370414, 0.429685],\r\n    [0.352892, 0.373153, 0.430226],\r\n    [0.356418, 0.375896, 0.430823],\r\n    [0.359916, 0.378641, 0.431501],\r\n    [0.363446, 0.381388, 0.432075],\r\n    [0.366923, 0.384139, 0.432796],\r\n    [0.37043, 0.38689, 0.433428],\r\n    [0.373884, 0.389646, 0.434209],\r\n    [0.377371, 0.392404, 0.43489],\r\n    [0.38083, 0.395164, 0.435653],\r\n    [0.384268, 0.397928, 0.436475],\r\n    [0.387705, 0.400694, 0.437305],\r\n    [0.391151, 0.403464, 0.438096],\r\n    [0.394568, 0.406236, 0.438986],\r\n    [0.397991, 0.409011, 0.439848],\r\n    [0.401418, 0.41179, 0.440708],\r\n    [0.40482, 0.414572, 0.441642],\r\n    [0.408226, 0.417357, 0.44257],\r\n    [0.411607, 0.420145, 0.443577],\r\n    [0.414992, 0.422937, 0.444578],\r\n    [0.418383, 0.425733, 0.44556],\r\n    [0.421748, 0.428531, 0.44664],\r\n    [0.42512, 0.431334, 0.447692],\r\n    [0.428462, 0.43414, 0.448864],\r\n    [0.431817, 0.43695, 0.449982],\r\n    [0.435168, 0.439763, 0.451134],\r\n    [0.438504, 0.44258, 0.452341],\r\n    [0.44181, 0.445402, 0.453659],\r\n    [0.445148, 0.448226, 0.454885],\r\n    [0.448447, 0.451053, 0.456264],\r\n    [0.451759, 0.453887, 0.457582],\r\n    [0.455072, 0.456718, 0.458976],\r\n    [0.458366, 0.459552, 0.460457],\r\n    [0.461616, 0.462405, 0.461969],\r\n    [0.464947, 0.465241, 0.463395],\r\n    [0.468254, 0.468083, 0.464908],\r\n    [0.471501, 0.47096, 0.466357],\r\n    [0.474812, 0.473832, 0.467681],\r\n    [0.478186, 0.476699, 0.468845],\r\n    [0.481622, 0.479573, 0.469767],\r\n    [0.485141, 0.482451, 0.470384],\r\n    [0.488697, 0.485318, 0.471008],\r\n    [0.492278, 0.488198, 0.471453],\r\n    [0.495913, 0.491076, 0.471751],\r\n    [0.499552, 0.49396, 0.472032],\r\n    [0.503185, 0.496851, 0.472305],\r\n    [0.506866, 0.499743, 0.472432],\r\n    [0.51054, 0.502643, 0.47255],\r\n    [0.514226, 0.505546, 0.47264],\r\n    [0.51792, 0.508454, 0.472707],\r\n    [0.521643, 0.511367, 0.472639],\r\n    [0.525348, 0.514285, 0.47266],\r\n    [0.529086, 0.517207, 0.472543],\r\n    [0.532829, 0.520135, 0.472401],\r\n    [0.536553, 0.523067, 0.472352],\r\n    [0.540307, 0.526005, 0.472163],\r\n    [0.544069, 0.528948, 0.471947],\r\n    [0.54784, 0.531895, 0.471704],\r\n    [0.551612, 0.534849, 0.471439],\r\n    [0.555393, 0.537807, 0.471147],\r\n    [0.559181, 0.540771, 0.470829],\r\n    [0.562972, 0.543741, 0.470488],\r\n    [0.566802, 0.546715, 0.469988],\r\n    [0.570607, 0.549695, 0.469593],\r\n    [0.574417, 0.552682, 0.469172],\r\n    [0.578236, 0.555673, 0.468724],\r\n    [0.582087, 0.55867, 0.468118],\r\n    [0.585916, 0.561674, 0.467618],\r\n    [0.589753, 0.564682, 0.46709],\r\n    [0.593622, 0.567697, 0.466401],\r\n    [0.597469, 0.570718, 0.465821],\r\n    [0.601354, 0.573743, 0.465074],\r\n    [0.605211, 0.576777, 0.464441],\r\n    [0.609105, 0.579816, 0.463638],\r\n    [0.612977, 0.582861, 0.46295],\r\n    [0.616852, 0.585913, 0.462237],\r\n    [0.620765, 0.58897, 0.461351],\r\n    [0.624654, 0.592034, 0.460583],\r\n    [0.628576, 0.595104, 0.459641],\r\n    [0.632506, 0.59818, 0.458668],\r\n    [0.636412, 0.601264, 0.457818],\r\n    [0.640352, 0.604354, 0.456791],\r\n    [0.64427, 0.60745, 0.455886],\r\n    [0.648222, 0.610553, 0.454801],\r\n    [0.652178, 0.613664, 0.453689],\r\n    [0.656114, 0.61678, 0.452702],\r\n    [0.660082, 0.619904, 0.451534],\r\n    [0.664055, 0.623034, 0.450338],\r\n    [0.668008, 0.626171, 0.44927],\r\n    [0.671991, 0.629316, 0.448018],\r\n    [0.675981, 0.632468, 0.446736],\r\n    [0.679979, 0.635626, 0.445424],\r\n    [0.68395, 0.638793, 0.444251],\r\n    [0.687957, 0.641966, 0.442886],\r\n    [0.691971, 0.645145, 0.441491],\r\n    [0.695985, 0.648334, 0.440072],\r\n    [0.700008, 0.651529, 0.438624],\r\n    [0.704037, 0.654731, 0.437147],\r\n    [0.708067, 0.657942, 0.435647],\r\n    [0.712105, 0.66116, 0.434117],\r\n    [0.716177, 0.664384, 0.432386],\r\n    [0.720222, 0.667618, 0.430805],\r\n    [0.724274, 0.670859, 0.429194],\r\n    [0.728334, 0.674107, 0.427554],\r\n    [0.732422, 0.677364, 0.425717],\r\n    [0.736488, 0.680629, 0.424028],\r\n    [0.740589, 0.6839, 0.422131],\r\n    [0.744664, 0.687181, 0.420393],\r\n    [0.748772, 0.69047, 0.418448],\r\n    [0.752886, 0.693766, 0.416472],\r\n    [0.756975, 0.697071, 0.414659],\r\n    [0.761096, 0.700384, 0.412638],\r\n    [0.765223, 0.703705, 0.410587],\r\n    [0.769353, 0.707035, 0.408516],\r\n    [0.773486, 0.710373, 0.406422],\r\n    [0.777651, 0.713719, 0.404112],\r\n    [0.781795, 0.717074, 0.401966],\r\n    [0.785965, 0.720438, 0.399613],\r\n    [0.790116, 0.72381, 0.397423],\r\n    [0.794298, 0.72719, 0.395016],\r\n    [0.79848, 0.73058, 0.392597],\r\n    [0.802667, 0.733978, 0.390153],\r\n    [0.806859, 0.737385, 0.387684],\r\n    [0.811054, 0.740801, 0.385198],\r\n    [0.815274, 0.744226, 0.382504],\r\n    [0.819499, 0.747659, 0.379785],\r\n    [0.823729, 0.751101, 0.377043],\r\n    [0.827959, 0.754553, 0.374292],\r\n    [0.832192, 0.758014, 0.371529],\r\n    [0.836429, 0.761483, 0.368747],\r\n    [0.840693, 0.764962, 0.365746],\r\n    [0.844957, 0.76845, 0.362741],\r\n    [0.849223, 0.771947, 0.359729],\r\n    [0.853515, 0.775454, 0.3565],\r\n    [0.857809, 0.778969, 0.353259],\r\n    [0.862105, 0.782494, 0.350011],\r\n    [0.866421, 0.786028, 0.346571],\r\n    [0.870717, 0.789572, 0.343333],\r\n    [0.875057, 0.793125, 0.339685],\r\n    [0.879378, 0.796687, 0.336241],\r\n    [0.88372, 0.800258, 0.332599],\r\n    [0.888081, 0.803839, 0.32877],\r\n    [0.89244, 0.80743, 0.324968],\r\n    [0.896818, 0.81103, 0.320982],\r\n    [0.901195, 0.814639, 0.317021],\r\n    [0.905589, 0.818257, 0.312889],\r\n    [0.91, 0.821885, 0.308594],\r\n    [0.914407, 0.825522, 0.304348],\r\n    [0.918828, 0.829168, 0.29996],\r\n    [0.923279, 0.832822, 0.295244],\r\n    [0.927724, 0.836486, 0.290611],\r\n    [0.93218, 0.840159, 0.28588],\r\n    [0.93666, 0.843841, 0.280876],\r\n    [0.941147, 0.84753, 0.275815],\r\n    [0.945654, 0.851228, 0.270532],\r\n    [0.950178, 0.854933, 0.265085],\r\n    [0.954725, 0.858646, 0.259365],\r\n    [0.959284, 0.862365, 0.253563],\r\n    [0.963872, 0.866089, 0.247445],\r\n    [0.968469, 0.869819, 0.24131],\r\n    [0.973114, 0.87355, 0.234677],\r\n    [0.97778, 0.877281, 0.227954],\r\n    [0.982497, 0.881008, 0.220878],\r\n    [0.987293, 0.884718, 0.213336],\r\n    [0.992218, 0.888385, 0.205468],\r\n    [0.994847, 0.892954, 0.203445],\r\n    [0.995249, 0.898384, 0.207561],\r\n    [0.995503, 0.903866, 0.21237],\r\n    [0.995737, 0.909344, 0.217772]\r\n];\n\nconst colors$2 = [\r\n    [0.001462, 0.000466, 0.013866],\r\n    [0.002267, 0.00127, 0.01857],\r\n    [0.003299, 0.002249, 0.024239],\r\n    [0.004547, 0.003392, 0.030909],\r\n    [0.006006, 0.004692, 0.038558],\r\n    [0.007676, 0.006136, 0.046836],\r\n    [0.009561, 0.007713, 0.055143],\r\n    [0.011663, 0.009417, 0.06346],\r\n    [0.013995, 0.011225, 0.071862],\r\n    [0.016561, 0.013136, 0.080282],\r\n    [0.019373, 0.015133, 0.088767],\r\n    [0.022447, 0.017199, 0.097327],\r\n    [0.025793, 0.019331, 0.10593],\r\n    [0.029432, 0.021503, 0.114621],\r\n    [0.033385, 0.023702, 0.123397],\r\n    [0.037668, 0.025921, 0.132232],\r\n    [0.042253, 0.028139, 0.141141],\r\n    [0.046915, 0.030324, 0.150164],\r\n    [0.051644, 0.032474, 0.159254],\r\n    [0.056449, 0.034569, 0.168414],\r\n    [0.06134, 0.03659, 0.177642],\r\n    [0.066331, 0.038504, 0.186962],\r\n    [0.071429, 0.040294, 0.196354],\r\n    [0.076637, 0.041905, 0.205799],\r\n    [0.081962, 0.043328, 0.215289],\r\n    [0.087411, 0.044556, 0.224813],\r\n    [0.09299, 0.045583, 0.234358],\r\n    [0.098702, 0.046402, 0.243904],\r\n    [0.104551, 0.047008, 0.25343],\r\n    [0.110536, 0.047399, 0.262912],\r\n    [0.116656, 0.047574, 0.272321],\r\n    [0.122908, 0.047536, 0.281624],\r\n    [0.129285, 0.047293, 0.290788],\r\n    [0.135778, 0.046856, 0.299776],\r\n    [0.142378, 0.046242, 0.308553],\r\n    [0.149073, 0.045468, 0.317085],\r\n    [0.15585, 0.044559, 0.325338],\r\n    [0.162689, 0.043554, 0.333277],\r\n    [0.169575, 0.042489, 0.340874],\r\n    [0.176493, 0.041402, 0.348111],\r\n    [0.183429, 0.040329, 0.354971],\r\n    [0.190367, 0.039309, 0.361447],\r\n    [0.197297, 0.0384, 0.367535],\r\n    [0.204209, 0.037632, 0.373238],\r\n    [0.211095, 0.03703, 0.378563],\r\n    [0.217949, 0.036615, 0.383522],\r\n    [0.224763, 0.036405, 0.388129],\r\n    [0.231538, 0.036405, 0.3924],\r\n    [0.238273, 0.036621, 0.396353],\r\n    [0.244967, 0.037055, 0.400007],\r\n    [0.25162, 0.037705, 0.403378],\r\n    [0.258234, 0.038571, 0.406485],\r\n    [0.26481, 0.039647, 0.409345],\r\n    [0.271347, 0.040922, 0.411976],\r\n    [0.27785, 0.042353, 0.414392],\r\n    [0.284321, 0.043933, 0.416608],\r\n    [0.290763, 0.045644, 0.418637],\r\n    [0.297178, 0.04747, 0.420491],\r\n    [0.303568, 0.049396, 0.422182],\r\n    [0.309935, 0.051407, 0.423721],\r\n    [0.316282, 0.05349, 0.425116],\r\n    [0.32261, 0.055634, 0.426377],\r\n    [0.328921, 0.057827, 0.427511],\r\n    [0.335217, 0.06006, 0.428524],\r\n    [0.3415, 0.062325, 0.429425],\r\n    [0.347771, 0.064616, 0.430217],\r\n    [0.354032, 0.066925, 0.430906],\r\n    [0.360284, 0.069247, 0.431497],\r\n    [0.366529, 0.071579, 0.431994],\r\n    [0.372768, 0.073915, 0.4324],\r\n    [0.379001, 0.076253, 0.432719],\r\n    [0.385228, 0.078591, 0.432955],\r\n    [0.391453, 0.080927, 0.433109],\r\n    [0.397674, 0.083257, 0.433183],\r\n    [0.403894, 0.08558, 0.433179],\r\n    [0.410113, 0.087896, 0.433098],\r\n    [0.416331, 0.090203, 0.432943],\r\n    [0.422549, 0.092501, 0.432714],\r\n    [0.428768, 0.09479, 0.432412],\r\n    [0.434987, 0.097069, 0.432039],\r\n    [0.441207, 0.099338, 0.431594],\r\n    [0.447428, 0.101597, 0.43108],\r\n    [0.453651, 0.103848, 0.430498],\r\n    [0.459875, 0.106089, 0.429846],\r\n    [0.4661, 0.108322, 0.429125],\r\n    [0.472328, 0.110547, 0.428334],\r\n    [0.478558, 0.112764, 0.427475],\r\n    [0.484789, 0.114974, 0.426548],\r\n    [0.491022, 0.117179, 0.425552],\r\n    [0.497257, 0.119379, 0.424488],\r\n    [0.503493, 0.121575, 0.423356],\r\n    [0.50973, 0.123769, 0.422156],\r\n    [0.515967, 0.12596, 0.420887],\r\n    [0.522206, 0.12815, 0.419549],\r\n    [0.528444, 0.130341, 0.418142],\r\n    [0.534683, 0.132534, 0.416667],\r\n    [0.54092, 0.134729, 0.415123],\r\n    [0.547157, 0.136929, 0.413511],\r\n    [0.553392, 0.139134, 0.411829],\r\n    [0.559624, 0.141346, 0.410078],\r\n    [0.565854, 0.143567, 0.408258],\r\n    [0.572081, 0.145797, 0.406369],\r\n    [0.578304, 0.148039, 0.404411],\r\n    [0.584521, 0.150294, 0.402385],\r\n    [0.590734, 0.152563, 0.40029],\r\n    [0.59694, 0.154848, 0.398125],\r\n    [0.603139, 0.157151, 0.395891],\r\n    [0.60933, 0.159474, 0.393589],\r\n    [0.615513, 0.161817, 0.391219],\r\n    [0.621685, 0.164184, 0.388781],\r\n    [0.627847, 0.166575, 0.386276],\r\n    [0.633998, 0.168992, 0.383704],\r\n    [0.640135, 0.171438, 0.381065],\r\n    [0.64626, 0.173914, 0.378359],\r\n    [0.652369, 0.176421, 0.375586],\r\n    [0.658463, 0.178962, 0.372748],\r\n    [0.66454, 0.181539, 0.369846],\r\n    [0.670599, 0.184153, 0.366879],\r\n    [0.676638, 0.186807, 0.363849],\r\n    [0.682656, 0.189501, 0.360757],\r\n    [0.688653, 0.192239, 0.357603],\r\n    [0.694627, 0.195021, 0.354388],\r\n    [0.700576, 0.197851, 0.351113],\r\n    [0.7065, 0.200728, 0.347777],\r\n    [0.712396, 0.203656, 0.344383],\r\n    [0.718264, 0.206636, 0.340931],\r\n    [0.724103, 0.20967, 0.337424],\r\n    [0.729909, 0.212759, 0.333861],\r\n    [0.735683, 0.215906, 0.330245],\r\n    [0.741423, 0.219112, 0.326576],\r\n    [0.747127, 0.222378, 0.322856],\r\n    [0.752794, 0.225706, 0.319085],\r\n    [0.758422, 0.229097, 0.315266],\r\n    [0.76401, 0.232554, 0.311399],\r\n    [0.769556, 0.236077, 0.307485],\r\n    [0.775059, 0.239667, 0.303526],\r\n    [0.780517, 0.243327, 0.299523],\r\n    [0.785929, 0.247056, 0.295477],\r\n    [0.791293, 0.250856, 0.29139],\r\n    [0.796607, 0.254728, 0.287264],\r\n    [0.801871, 0.258674, 0.283099],\r\n    [0.807082, 0.262692, 0.278898],\r\n    [0.812239, 0.266786, 0.274661],\r\n    [0.817341, 0.270954, 0.27039],\r\n    [0.822386, 0.275197, 0.266085],\r\n    [0.827372, 0.279517, 0.26175],\r\n    [0.832299, 0.283913, 0.257383],\r\n    [0.837165, 0.288385, 0.252988],\r\n    [0.841969, 0.292933, 0.248564],\r\n    [0.846709, 0.297559, 0.244113],\r\n    [0.851384, 0.30226, 0.239636],\r\n    [0.855992, 0.307038, 0.235133],\r\n    [0.860533, 0.311892, 0.230606],\r\n    [0.865006, 0.316822, 0.226055],\r\n    [0.869409, 0.321827, 0.221482],\r\n    [0.873741, 0.326906, 0.216886],\r\n    [0.878001, 0.33206, 0.212268],\r\n    [0.882188, 0.337287, 0.207628],\r\n    [0.886302, 0.342586, 0.202968],\r\n    [0.890341, 0.347957, 0.198286],\r\n    [0.894305, 0.353399, 0.193584],\r\n    [0.898192, 0.358911, 0.18886],\r\n    [0.902003, 0.364492, 0.184116],\r\n    [0.905735, 0.37014, 0.17935],\r\n    [0.90939, 0.375856, 0.174563],\r\n    [0.912966, 0.381636, 0.169755],\r\n    [0.916462, 0.387481, 0.164924],\r\n    [0.919879, 0.393389, 0.16007],\r\n    [0.923215, 0.399359, 0.155193],\r\n    [0.92647, 0.405389, 0.150292],\r\n    [0.929644, 0.411479, 0.145367],\r\n    [0.932737, 0.417627, 0.140417],\r\n    [0.935747, 0.423831, 0.13544],\r\n    [0.938675, 0.430091, 0.130438],\r\n    [0.941521, 0.436405, 0.125409],\r\n    [0.944285, 0.442772, 0.120354],\r\n    [0.946965, 0.449191, 0.115272],\r\n    [0.949562, 0.45566, 0.110164],\r\n    [0.952075, 0.462178, 0.105031],\r\n    [0.954506, 0.468744, 0.099874],\r\n    [0.956852, 0.475356, 0.094695],\r\n    [0.959114, 0.482014, 0.089499],\r\n    [0.961293, 0.488716, 0.084289],\r\n    [0.963387, 0.495462, 0.079073],\r\n    [0.965397, 0.502249, 0.073859],\r\n    [0.967322, 0.509078, 0.068659],\r\n    [0.969163, 0.515946, 0.063488],\r\n    [0.970919, 0.522853, 0.058367],\r\n    [0.97259, 0.529798, 0.053324],\r\n    [0.974176, 0.53678, 0.048392],\r\n    [0.975677, 0.543798, 0.043618],\r\n    [0.977092, 0.55085, 0.03905],\r\n    [0.978422, 0.557937, 0.034931],\r\n    [0.979666, 0.565057, 0.031409],\r\n    [0.980824, 0.572209, 0.028508],\r\n    [0.981895, 0.579392, 0.02625],\r\n    [0.982881, 0.586606, 0.024661],\r\n    [0.983779, 0.593849, 0.02377],\r\n    [0.984591, 0.601122, 0.023606],\r\n    [0.985315, 0.608422, 0.024202],\r\n    [0.985952, 0.61575, 0.025592],\r\n    [0.986502, 0.623105, 0.027814],\r\n    [0.986964, 0.630485, 0.030908],\r\n    [0.987337, 0.63789, 0.034916],\r\n    [0.987622, 0.64532, 0.039886],\r\n    [0.987819, 0.652773, 0.045581],\r\n    [0.987926, 0.66025, 0.05175],\r\n    [0.987945, 0.667748, 0.058329],\r\n    [0.987874, 0.675267, 0.065257],\r\n    [0.987714, 0.682807, 0.072489],\r\n    [0.987464, 0.690366, 0.07999],\r\n    [0.987124, 0.697944, 0.087731],\r\n    [0.986694, 0.70554, 0.095694],\r\n    [0.986175, 0.713153, 0.103863],\r\n    [0.985566, 0.720782, 0.112229],\r\n    [0.984865, 0.728427, 0.120785],\r\n    [0.984075, 0.736087, 0.129527],\r\n    [0.983196, 0.743758, 0.138453],\r\n    [0.982228, 0.751442, 0.147565],\r\n    [0.981173, 0.759135, 0.156863],\r\n    [0.980032, 0.766837, 0.166353],\r\n    [0.978806, 0.774545, 0.176037],\r\n    [0.977497, 0.782258, 0.185923],\r\n    [0.976108, 0.789974, 0.196018],\r\n    [0.974638, 0.797692, 0.206332],\r\n    [0.973088, 0.805409, 0.216877],\r\n    [0.971468, 0.813122, 0.227658],\r\n    [0.969783, 0.820825, 0.238686],\r\n    [0.968041, 0.828515, 0.249972],\r\n    [0.966243, 0.836191, 0.261534],\r\n    [0.964394, 0.843848, 0.273391],\r\n    [0.962517, 0.851476, 0.285546],\r\n    [0.960626, 0.859069, 0.29801],\r\n    [0.95872, 0.866624, 0.31082],\r\n    [0.956834, 0.874129, 0.323974],\r\n    [0.954997, 0.881569, 0.337475],\r\n    [0.953215, 0.888942, 0.351369],\r\n    [0.951546, 0.896226, 0.365627],\r\n    [0.950018, 0.903409, 0.380271],\r\n    [0.948683, 0.910473, 0.395289],\r\n    [0.947594, 0.917399, 0.410665],\r\n    [0.946809, 0.924168, 0.426373],\r\n    [0.946392, 0.930761, 0.442367],\r\n    [0.946403, 0.937159, 0.458592],\r\n    [0.946903, 0.943348, 0.47497],\r\n    [0.947937, 0.949318, 0.491426],\r\n    [0.949545, 0.955063, 0.50786],\r\n    [0.95174, 0.960587, 0.524203],\r\n    [0.954529, 0.965896, 0.540361],\r\n    [0.957896, 0.971003, 0.556275],\r\n    [0.961812, 0.975924, 0.571925],\r\n    [0.966249, 0.980678, 0.587206],\r\n    [0.971162, 0.985282, 0.602154],\r\n    [0.976511, 0.989753, 0.61676],\r\n    [0.982257, 0.994109, 0.631017],\r\n    [0.988362, 0.998364, 0.644924]\r\n];\n\nconst colors$3 = [\r\n    [0.001462, 0.000466, 0.013866],\r\n    [0.002258, 0.001295, 0.018331],\r\n    [0.003279, 0.002305, 0.023708],\r\n    [0.004512, 0.00349, 0.029965],\r\n    [0.00595, 0.004843, 0.03713],\r\n    [0.007588, 0.006356, 0.044973],\r\n    [0.009426, 0.008022, 0.052844],\r\n    [0.011465, 0.009828, 0.06075],\r\n    [0.013708, 0.011771, 0.068667],\r\n    [0.016156, 0.01384, 0.076603],\r\n    [0.018815, 0.016026, 0.084584],\r\n    [0.021692, 0.01832, 0.09261],\r\n    [0.024792, 0.020715, 0.100676],\r\n    [0.028123, 0.023201, 0.108787],\r\n    [0.031696, 0.025765, 0.116965],\r\n    [0.03552, 0.028397, 0.125209],\r\n    [0.039608, 0.03109, 0.133515],\r\n    [0.04383, 0.03383, 0.141886],\r\n    [0.048062, 0.036607, 0.150327],\r\n    [0.05232, 0.039407, 0.158841],\r\n    [0.056615, 0.04216, 0.167446],\r\n    [0.060949, 0.044794, 0.176129],\r\n    [0.06533, 0.047318, 0.184892],\r\n    [0.069764, 0.049726, 0.193735],\r\n    [0.074257, 0.052017, 0.20266],\r\n    [0.078815, 0.054184, 0.211667],\r\n    [0.083446, 0.056225, 0.220755],\r\n    [0.088155, 0.058133, 0.229922],\r\n    [0.092949, 0.059904, 0.239164],\r\n    [0.097833, 0.061531, 0.248477],\r\n    [0.102815, 0.06301, 0.257854],\r\n    [0.107899, 0.064335, 0.267289],\r\n    [0.113094, 0.065492, 0.276784],\r\n    [0.118405, 0.066479, 0.286321],\r\n    [0.123833, 0.067295, 0.295879],\r\n    [0.12938, 0.067935, 0.305443],\r\n    [0.135053, 0.068391, 0.315],\r\n    [0.140858, 0.068654, 0.324538],\r\n    [0.146785, 0.068738, 0.334011],\r\n    [0.152839, 0.068637, 0.343404],\r\n    [0.159018, 0.068354, 0.352688],\r\n    [0.165308, 0.067911, 0.361816],\r\n    [0.171713, 0.067305, 0.370771],\r\n    [0.178212, 0.066576, 0.379497],\r\n    [0.184801, 0.065732, 0.387973],\r\n    [0.19146, 0.064818, 0.396152],\r\n    [0.198177, 0.063862, 0.404009],\r\n    [0.204935, 0.062907, 0.411514],\r\n    [0.211718, 0.061992, 0.418647],\r\n    [0.218512, 0.061158, 0.425392],\r\n    [0.225302, 0.060445, 0.431742],\r\n    [0.232077, 0.059889, 0.437695],\r\n    [0.238826, 0.059517, 0.443256],\r\n    [0.245543, 0.059352, 0.448436],\r\n    [0.25222, 0.059415, 0.453248],\r\n    [0.258857, 0.059706, 0.45771],\r\n    [0.265447, 0.060237, 0.46184],\r\n    [0.271994, 0.060994, 0.46566],\r\n    [0.278493, 0.061978, 0.46919],\r\n    [0.284951, 0.063168, 0.472451],\r\n    [0.291366, 0.064553, 0.475462],\r\n    [0.29774, 0.066117, 0.478243],\r\n    [0.304081, 0.067835, 0.480812],\r\n    [0.310382, 0.069702, 0.483186],\r\n    [0.316654, 0.07169, 0.48538],\r\n    [0.322899, 0.073782, 0.487408],\r\n    [0.329114, 0.075972, 0.489287],\r\n    [0.335308, 0.078236, 0.491024],\r\n    [0.341482, 0.080564, 0.492631],\r\n    [0.347636, 0.082946, 0.494121],\r\n    [0.353773, 0.085373, 0.495501],\r\n    [0.359898, 0.087831, 0.496778],\r\n    [0.366012, 0.090314, 0.49796],\r\n    [0.372116, 0.092816, 0.499053],\r\n    [0.378211, 0.095332, 0.500067],\r\n    [0.384299, 0.097855, 0.501002],\r\n    [0.390384, 0.100379, 0.501864],\r\n    [0.396467, 0.102902, 0.502658],\r\n    [0.402548, 0.10542, 0.503386],\r\n    [0.408629, 0.10793, 0.504052],\r\n    [0.414709, 0.110431, 0.504662],\r\n    [0.420791, 0.11292, 0.505215],\r\n    [0.426877, 0.115395, 0.505714],\r\n    [0.432967, 0.117855, 0.50616],\r\n    [0.439062, 0.120298, 0.506555],\r\n    [0.445163, 0.122724, 0.506901],\r\n    [0.451271, 0.125132, 0.507198],\r\n    [0.457386, 0.127522, 0.507448],\r\n    [0.463508, 0.129893, 0.507652],\r\n    [0.46964, 0.132245, 0.507809],\r\n    [0.47578, 0.134577, 0.507921],\r\n    [0.481929, 0.136891, 0.507989],\r\n    [0.488088, 0.139186, 0.508011],\r\n    [0.494258, 0.141462, 0.507988],\r\n    [0.500438, 0.143719, 0.50792],\r\n    [0.506629, 0.145958, 0.507806],\r\n    [0.512831, 0.148179, 0.507648],\r\n    [0.519045, 0.150383, 0.507443],\r\n    [0.52527, 0.152569, 0.507192],\r\n    [0.531507, 0.154739, 0.506895],\r\n    [0.537755, 0.156894, 0.506551],\r\n    [0.544015, 0.159033, 0.506159],\r\n    [0.550287, 0.161158, 0.505719],\r\n    [0.556571, 0.163269, 0.50523],\r\n    [0.562866, 0.165368, 0.504692],\r\n    [0.569172, 0.167454, 0.504105],\r\n    [0.57549, 0.16953, 0.503466],\r\n    [0.581819, 0.171596, 0.502777],\r\n    [0.588158, 0.173652, 0.502035],\r\n    [0.594508, 0.175701, 0.501241],\r\n    [0.600868, 0.177743, 0.500394],\r\n    [0.607238, 0.179779, 0.499492],\r\n    [0.613617, 0.181811, 0.498536],\r\n    [0.620005, 0.18384, 0.497524],\r\n    [0.626401, 0.185867, 0.496456],\r\n    [0.632805, 0.187893, 0.495332],\r\n    [0.639216, 0.189921, 0.49415],\r\n    [0.645633, 0.191952, 0.49291],\r\n    [0.652056, 0.193986, 0.491611],\r\n    [0.658483, 0.196027, 0.490253],\r\n    [0.664915, 0.198075, 0.488836],\r\n    [0.671349, 0.200133, 0.487358],\r\n    [0.677786, 0.202203, 0.485819],\r\n    [0.684224, 0.204286, 0.484219],\r\n    [0.690661, 0.206384, 0.482558],\r\n    [0.697098, 0.208501, 0.480835],\r\n    [0.703532, 0.210638, 0.479049],\r\n    [0.709962, 0.212797, 0.477201],\r\n    [0.716387, 0.214982, 0.47529],\r\n    [0.722805, 0.217194, 0.473316],\r\n    [0.729216, 0.219437, 0.471279],\r\n    [0.735616, 0.221713, 0.46918],\r\n    [0.742004, 0.224025, 0.467018],\r\n    [0.748378, 0.226377, 0.464794],\r\n    [0.754737, 0.228772, 0.462509],\r\n    [0.761077, 0.231214, 0.460162],\r\n    [0.767398, 0.233705, 0.457755],\r\n    [0.773695, 0.236249, 0.455289],\r\n    [0.779968, 0.238851, 0.452765],\r\n    [0.786212, 0.241514, 0.450184],\r\n    [0.792427, 0.244242, 0.447543],\r\n    [0.798608, 0.24704, 0.444848],\r\n    [0.804752, 0.249911, 0.442102],\r\n    [0.810855, 0.252861, 0.439305],\r\n    [0.816914, 0.255895, 0.436461],\r\n    [0.822926, 0.259016, 0.433573],\r\n    [0.828886, 0.262229, 0.430644],\r\n    [0.834791, 0.26554, 0.427671],\r\n    [0.840636, 0.268953, 0.424666],\r\n    [0.846416, 0.272473, 0.421631],\r\n    [0.852126, 0.276106, 0.418573],\r\n    [0.857763, 0.279857, 0.415496],\r\n    [0.86332, 0.283729, 0.412403],\r\n    [0.868793, 0.287728, 0.409303],\r\n    [0.874176, 0.291859, 0.406205],\r\n    [0.879464, 0.296125, 0.403118],\r\n    [0.884651, 0.30053, 0.400047],\r\n    [0.889731, 0.305079, 0.397002],\r\n    [0.8947, 0.309773, 0.393995],\r\n    [0.899552, 0.314616, 0.391037],\r\n    [0.904281, 0.31961, 0.388137],\r\n    [0.908884, 0.324755, 0.385308],\r\n    [0.913354, 0.330052, 0.382563],\r\n    [0.917689, 0.3355, 0.379915],\r\n    [0.921884, 0.341098, 0.377376],\r\n    [0.925937, 0.346844, 0.374959],\r\n    [0.929845, 0.352734, 0.372677],\r\n    [0.933606, 0.358764, 0.370541],\r\n    [0.937221, 0.364929, 0.368567],\r\n    [0.940687, 0.371224, 0.366762],\r\n    [0.944006, 0.377643, 0.365136],\r\n    [0.94718, 0.384178, 0.363701],\r\n    [0.95021, 0.39082, 0.362468],\r\n    [0.953099, 0.397563, 0.361438],\r\n    [0.955849, 0.4044, 0.360619],\r\n    [0.958464, 0.411324, 0.360014],\r\n    [0.960949, 0.418323, 0.35963],\r\n    [0.96331, 0.42539, 0.359469],\r\n    [0.965549, 0.432519, 0.359529],\r\n    [0.967671, 0.439703, 0.35981],\r\n    [0.96968, 0.446936, 0.360311],\r\n    [0.971582, 0.45421, 0.36103],\r\n    [0.973381, 0.46152, 0.361965],\r\n    [0.975082, 0.468861, 0.363111],\r\n    [0.97669, 0.476226, 0.364466],\r\n    [0.97821, 0.483612, 0.366025],\r\n    [0.979645, 0.491014, 0.367783],\r\n    [0.981, 0.498428, 0.369734],\r\n    [0.982279, 0.505851, 0.371874],\r\n    [0.983485, 0.51328, 0.374198],\r\n    [0.984622, 0.520713, 0.376698],\r\n    [0.985693, 0.528148, 0.379371],\r\n    [0.9867, 0.535582, 0.38221],\r\n    [0.987646, 0.543015, 0.38521],\r\n    [0.988533, 0.550446, 0.388365],\r\n    [0.989363, 0.557873, 0.391671],\r\n    [0.990138, 0.565296, 0.395122],\r\n    [0.990871, 0.572706, 0.398714],\r\n    [0.991558, 0.580107, 0.402441],\r\n    [0.992196, 0.587502, 0.406299],\r\n    [0.992785, 0.594891, 0.410283],\r\n    [0.993326, 0.602275, 0.41439],\r\n    [0.993834, 0.609644, 0.418613],\r\n    [0.994309, 0.616999, 0.42295],\r\n    [0.994738, 0.62435, 0.427397],\r\n    [0.995122, 0.631696, 0.431951],\r\n    [0.99548, 0.639027, 0.436607],\r\n    [0.99581, 0.646344, 0.441361],\r\n    [0.996096, 0.653659, 0.446213],\r\n    [0.996341, 0.660969, 0.45116],\r\n    [0.99658, 0.668256, 0.456192],\r\n    [0.996775, 0.675541, 0.461314],\r\n    [0.996925, 0.682828, 0.466526],\r\n    [0.997077, 0.690088, 0.471811],\r\n    [0.997186, 0.697349, 0.477182],\r\n    [0.997254, 0.704611, 0.482635],\r\n    [0.997325, 0.711848, 0.488154],\r\n    [0.997351, 0.719089, 0.493755],\r\n    [0.997351, 0.726324, 0.499428],\r\n    [0.997341, 0.733545, 0.505167],\r\n    [0.997285, 0.740772, 0.510983],\r\n    [0.997228, 0.747981, 0.516859],\r\n    [0.997138, 0.75519, 0.522806],\r\n    [0.997019, 0.762398, 0.528821],\r\n    [0.996898, 0.769591, 0.534892],\r\n    [0.996727, 0.776795, 0.541039],\r\n    [0.996571, 0.783977, 0.547233],\r\n    [0.996369, 0.791167, 0.553499],\r\n    [0.996162, 0.798348, 0.55982],\r\n    [0.995932, 0.805527, 0.566202],\r\n    [0.99568, 0.812706, 0.572645],\r\n    [0.995424, 0.819875, 0.57914],\r\n    [0.995131, 0.827052, 0.585701],\r\n    [0.994851, 0.834213, 0.592307],\r\n    [0.994524, 0.841387, 0.598983],\r\n    [0.994222, 0.84854, 0.605696],\r\n    [0.993866, 0.855711, 0.612482],\r\n    [0.993545, 0.862859, 0.619299],\r\n    [0.99317, 0.870024, 0.626189],\r\n    [0.992831, 0.877168, 0.633109],\r\n    [0.99244, 0.88433, 0.640099],\r\n    [0.992089, 0.89147, 0.647116],\r\n    [0.991688, 0.898627, 0.654202],\r\n    [0.991332, 0.905763, 0.661309],\r\n    [0.99093, 0.912915, 0.668481],\r\n    [0.99057, 0.920049, 0.675675],\r\n    [0.990175, 0.927196, 0.682926],\r\n    [0.989815, 0.934329, 0.690198],\r\n    [0.989434, 0.94147, 0.697519],\r\n    [0.989077, 0.948604, 0.704863],\r\n    [0.988717, 0.955742, 0.712242],\r\n    [0.988367, 0.962878, 0.719649],\r\n    [0.988033, 0.970012, 0.727077],\r\n    [0.987691, 0.977154, 0.734536],\r\n    [0.987387, 0.984288, 0.742002],\r\n    [0.987053, 0.991438, 0.749504]\r\n];\n\nconst colors$4 = [\r\n    [0.050383, 0.029803, 0.527975],\r\n    [0.063536, 0.028426, 0.533124],\r\n    [0.075353, 0.027206, 0.538007],\r\n    [0.086222, 0.026125, 0.542658],\r\n    [0.096379, 0.025165, 0.547103],\r\n    [0.10598, 0.024309, 0.551368],\r\n    [0.115124, 0.023556, 0.555468],\r\n    [0.123903, 0.022878, 0.559423],\r\n    [0.132381, 0.022258, 0.56325],\r\n    [0.140603, 0.021687, 0.566959],\r\n    [0.148607, 0.021154, 0.570562],\r\n    [0.156421, 0.020651, 0.574065],\r\n    [0.16407, 0.020171, 0.577478],\r\n    [0.171574, 0.019706, 0.580806],\r\n    [0.17895, 0.019252, 0.584054],\r\n    [0.186213, 0.018803, 0.587228],\r\n    [0.193374, 0.018354, 0.59033],\r\n    [0.200445, 0.017902, 0.593364],\r\n    [0.207435, 0.017442, 0.596333],\r\n    [0.21435, 0.016973, 0.599239],\r\n    [0.221197, 0.016497, 0.602083],\r\n    [0.227983, 0.016007, 0.604867],\r\n    [0.234715, 0.015502, 0.607592],\r\n    [0.241396, 0.014979, 0.610259],\r\n    [0.248032, 0.014439, 0.612868],\r\n    [0.254627, 0.013882, 0.615419],\r\n    [0.261183, 0.013308, 0.617911],\r\n    [0.267703, 0.012716, 0.620346],\r\n    [0.274191, 0.012109, 0.622722],\r\n    [0.280648, 0.011488, 0.625038],\r\n    [0.287076, 0.010855, 0.627295],\r\n    [0.293478, 0.010213, 0.62949],\r\n    [0.299855, 0.009561, 0.631624],\r\n    [0.30621, 0.008902, 0.633694],\r\n    [0.312543, 0.008239, 0.6357],\r\n    [0.318856, 0.007576, 0.63764],\r\n    [0.32515, 0.006915, 0.639512],\r\n    [0.331426, 0.006261, 0.641316],\r\n    [0.337683, 0.005618, 0.643049],\r\n    [0.343925, 0.004991, 0.64471],\r\n    [0.35015, 0.004382, 0.646298],\r\n    [0.356359, 0.003798, 0.64781],\r\n    [0.362553, 0.003243, 0.649245],\r\n    [0.368733, 0.002724, 0.650601],\r\n    [0.374897, 0.002245, 0.651876],\r\n    [0.381047, 0.001814, 0.653068],\r\n    [0.387183, 0.001434, 0.654177],\r\n    [0.393304, 0.001114, 0.655199],\r\n    [0.399411, 0.000859, 0.656133],\r\n    [0.405503, 0.000678, 0.656977],\r\n    [0.41158, 0.000577, 0.65773],\r\n    [0.417642, 0.000564, 0.65839],\r\n    [0.423689, 0.000646, 0.658956],\r\n    [0.429719, 0.000831, 0.659425],\r\n    [0.435734, 0.001127, 0.659797],\r\n    [0.441732, 0.00154, 0.660069],\r\n    [0.447714, 0.00208, 0.66024],\r\n    [0.453677, 0.002755, 0.66031],\r\n    [0.459623, 0.003574, 0.660277],\r\n    [0.46555, 0.004545, 0.660139],\r\n    [0.471457, 0.005678, 0.659897],\r\n    [0.477344, 0.00698, 0.659549],\r\n    [0.48321, 0.00846, 0.659095],\r\n    [0.489055, 0.010127, 0.658534],\r\n    [0.494877, 0.01199, 0.657865],\r\n    [0.500678, 0.014055, 0.657088],\r\n    [0.506454, 0.016333, 0.656202],\r\n    [0.512206, 0.018833, 0.655209],\r\n    [0.517933, 0.021563, 0.654109],\r\n    [0.523633, 0.024532, 0.652901],\r\n    [0.529306, 0.027747, 0.651586],\r\n    [0.534952, 0.031217, 0.650165],\r\n    [0.54057, 0.03495, 0.64864],\r\n    [0.546157, 0.038954, 0.64701],\r\n    [0.551715, 0.043136, 0.645277],\r\n    [0.557243, 0.047331, 0.643443],\r\n    [0.562738, 0.051545, 0.641509],\r\n    [0.568201, 0.055778, 0.639477],\r\n    [0.573632, 0.060028, 0.637349],\r\n    [0.579029, 0.064296, 0.635126],\r\n    [0.584391, 0.068579, 0.632812],\r\n    [0.589719, 0.072878, 0.630408],\r\n    [0.595011, 0.07719, 0.627917],\r\n    [0.600266, 0.081516, 0.625342],\r\n    [0.605485, 0.085854, 0.622686],\r\n    [0.610667, 0.090204, 0.619951],\r\n    [0.615812, 0.094564, 0.61714],\r\n    [0.620919, 0.098934, 0.614257],\r\n    [0.625987, 0.103312, 0.611305],\r\n    [0.631017, 0.107699, 0.608287],\r\n    [0.636008, 0.112092, 0.605205],\r\n    [0.640959, 0.116492, 0.602065],\r\n    [0.645872, 0.120898, 0.598867],\r\n    [0.650746, 0.125309, 0.595617],\r\n    [0.65558, 0.129725, 0.592317],\r\n    [0.660374, 0.134144, 0.588971],\r\n    [0.665129, 0.138566, 0.585582],\r\n    [0.669845, 0.142992, 0.582154],\r\n    [0.674522, 0.147419, 0.578688],\r\n    [0.67916, 0.151848, 0.575189],\r\n    [0.683758, 0.156278, 0.57166],\r\n    [0.688318, 0.160709, 0.568103],\r\n    [0.69284, 0.165141, 0.564522],\r\n    [0.697324, 0.169573, 0.560919],\r\n    [0.701769, 0.174005, 0.557296],\r\n    [0.706178, 0.178437, 0.553657],\r\n    [0.710549, 0.182868, 0.550004],\r\n    [0.714883, 0.187299, 0.546338],\r\n    [0.719181, 0.191729, 0.542663],\r\n    [0.723444, 0.196158, 0.538981],\r\n    [0.72767, 0.200586, 0.535293],\r\n    [0.731862, 0.205013, 0.531601],\r\n    [0.736019, 0.209439, 0.527908],\r\n    [0.740143, 0.213864, 0.524216],\r\n    [0.744232, 0.218288, 0.520524],\r\n    [0.748289, 0.222711, 0.516834],\r\n    [0.752312, 0.227133, 0.513149],\r\n    [0.756304, 0.231555, 0.509468],\r\n    [0.760264, 0.235976, 0.505794],\r\n    [0.764193, 0.240396, 0.502126],\r\n    [0.76809, 0.244817, 0.498465],\r\n    [0.771958, 0.249237, 0.494813],\r\n    [0.775796, 0.253658, 0.491171],\r\n    [0.779604, 0.258078, 0.487539],\r\n    [0.783383, 0.2625, 0.483918],\r\n    [0.787133, 0.266922, 0.480307],\r\n    [0.790855, 0.271345, 0.476706],\r\n    [0.794549, 0.27577, 0.473117],\r\n    [0.798216, 0.280197, 0.469538],\r\n    [0.801855, 0.284626, 0.465971],\r\n    [0.805467, 0.289057, 0.462415],\r\n    [0.809052, 0.293491, 0.45887],\r\n    [0.812612, 0.297928, 0.455338],\r\n    [0.816144, 0.302368, 0.451816],\r\n    [0.819651, 0.306812, 0.448306],\r\n    [0.823132, 0.311261, 0.444806],\r\n    [0.826588, 0.315714, 0.441316],\r\n    [0.830018, 0.320172, 0.437836],\r\n    [0.833422, 0.324635, 0.434366],\r\n    [0.836801, 0.329105, 0.430905],\r\n    [0.840155, 0.33358, 0.427455],\r\n    [0.843484, 0.338062, 0.424013],\r\n    [0.846788, 0.342551, 0.420579],\r\n    [0.850066, 0.347048, 0.417153],\r\n    [0.853319, 0.351553, 0.413734],\r\n    [0.856547, 0.356066, 0.410322],\r\n    [0.85975, 0.360588, 0.406917],\r\n    [0.862927, 0.365119, 0.403519],\r\n    [0.866078, 0.36966, 0.400126],\r\n    [0.869203, 0.374212, 0.396738],\r\n    [0.872303, 0.378774, 0.393355],\r\n    [0.875376, 0.383347, 0.389976],\r\n    [0.878423, 0.387932, 0.3866],\r\n    [0.881443, 0.392529, 0.383229],\r\n    [0.884436, 0.397139, 0.37986],\r\n    [0.887402, 0.401762, 0.376494],\r\n    [0.89034, 0.406398, 0.37313],\r\n    [0.89325, 0.411048, 0.369768],\r\n    [0.896131, 0.415712, 0.366407],\r\n    [0.898984, 0.420392, 0.363047],\r\n    [0.901807, 0.425087, 0.359688],\r\n    [0.904601, 0.429797, 0.356329],\r\n    [0.907365, 0.434524, 0.35297],\r\n    [0.910098, 0.439268, 0.34961],\r\n    [0.9128, 0.444029, 0.346251],\r\n    [0.915471, 0.448807, 0.34289],\r\n    [0.918109, 0.453603, 0.339529],\r\n    [0.920714, 0.458417, 0.336166],\r\n    [0.923287, 0.463251, 0.332801],\r\n    [0.925825, 0.468103, 0.329435],\r\n    [0.928329, 0.472975, 0.326067],\r\n    [0.930798, 0.477867, 0.322697],\r\n    [0.933232, 0.48278, 0.319325],\r\n    [0.93563, 0.487712, 0.315952],\r\n    [0.93799, 0.492667, 0.312575],\r\n    [0.940313, 0.497642, 0.309197],\r\n    [0.942598, 0.502639, 0.305816],\r\n    [0.944844, 0.507658, 0.302433],\r\n    [0.947051, 0.512699, 0.299049],\r\n    [0.949217, 0.517763, 0.295662],\r\n    [0.951344, 0.52285, 0.292275],\r\n    [0.953428, 0.52796, 0.288883],\r\n    [0.95547, 0.533093, 0.28549],\r\n    [0.957469, 0.53825, 0.282096],\r\n    [0.959424, 0.543431, 0.278701],\r\n    [0.961336, 0.548636, 0.275305],\r\n    [0.963203, 0.553865, 0.271909],\r\n    [0.965024, 0.559118, 0.268513],\r\n    [0.966798, 0.564396, 0.265118],\r\n    [0.968526, 0.5697, 0.261721],\r\n    [0.970205, 0.575028, 0.258325],\r\n    [0.971835, 0.580382, 0.254931],\r\n    [0.973416, 0.585761, 0.25154],\r\n    [0.974947, 0.591165, 0.248151],\r\n    [0.976428, 0.596595, 0.244767],\r\n    [0.977856, 0.602051, 0.241387],\r\n    [0.979233, 0.607532, 0.238013],\r\n    [0.980556, 0.613039, 0.234646],\r\n    [0.981826, 0.618572, 0.231287],\r\n    [0.983041, 0.624131, 0.227937],\r\n    [0.984199, 0.629718, 0.224595],\r\n    [0.985301, 0.63533, 0.221265],\r\n    [0.986345, 0.640969, 0.217948],\r\n    [0.987332, 0.646633, 0.214648],\r\n    [0.98826, 0.652325, 0.211364],\r\n    [0.989128, 0.658043, 0.2081],\r\n    [0.989935, 0.663787, 0.204859],\r\n    [0.990681, 0.669558, 0.201642],\r\n    [0.991365, 0.675355, 0.198453],\r\n    [0.991985, 0.681179, 0.195295],\r\n    [0.992541, 0.68703, 0.19217],\r\n    [0.993032, 0.692907, 0.189084],\r\n    [0.993456, 0.69881, 0.186041],\r\n    [0.993814, 0.704741, 0.183043],\r\n    [0.994103, 0.710698, 0.180097],\r\n    [0.994324, 0.716681, 0.177208],\r\n    [0.994474, 0.722691, 0.174381],\r\n    [0.994553, 0.728728, 0.171622],\r\n    [0.994561, 0.734791, 0.168938],\r\n    [0.994495, 0.74088, 0.166335],\r\n    [0.994355, 0.746995, 0.163821],\r\n    [0.994141, 0.753137, 0.161404],\r\n    [0.993851, 0.759304, 0.159092],\r\n    [0.993482, 0.765499, 0.156891],\r\n    [0.993033, 0.77172, 0.154808],\r\n    [0.992505, 0.777967, 0.152855],\r\n    [0.991897, 0.784239, 0.151042],\r\n    [0.991209, 0.790537, 0.149377],\r\n    [0.990439, 0.796859, 0.14787],\r\n    [0.989587, 0.803205, 0.146529],\r\n    [0.988648, 0.809579, 0.145357],\r\n    [0.987621, 0.815978, 0.144363],\r\n    [0.986509, 0.822401, 0.143557],\r\n    [0.985314, 0.828846, 0.142945],\r\n    [0.984031, 0.835315, 0.142528],\r\n    [0.982653, 0.841812, 0.142303],\r\n    [0.98119, 0.848329, 0.142279],\r\n    [0.979644, 0.854866, 0.142453],\r\n    [0.977995, 0.861432, 0.142808],\r\n    [0.976265, 0.868016, 0.143351],\r\n    [0.974443, 0.874622, 0.144061],\r\n    [0.97253, 0.88125, 0.144923],\r\n    [0.970533, 0.887896, 0.145919],\r\n    [0.968443, 0.894564, 0.147014],\r\n    [0.966271, 0.901249, 0.14818],\r\n    [0.964021, 0.90795, 0.14937],\r\n    [0.961681, 0.914672, 0.15052],\r\n    [0.959276, 0.921407, 0.151566],\r\n    [0.956808, 0.928152, 0.152409],\r\n    [0.954287, 0.934908, 0.152921],\r\n    [0.951726, 0.941671, 0.152925],\r\n    [0.949151, 0.948435, 0.152178],\r\n    [0.946602, 0.95519, 0.150328],\r\n    [0.944152, 0.961916, 0.146861],\r\n    [0.941896, 0.96859, 0.140956],\r\n    [0.940015, 0.975158, 0.131326]\r\n];\n\nconst colors$5 = [\r\n    [0.267004, 0.004874, 0.329415],\r\n    [0.26851, 0.009605, 0.335427],\r\n    [0.269944, 0.014625, 0.341379],\r\n    [0.271305, 0.019942, 0.347269],\r\n    [0.272594, 0.025563, 0.353093],\r\n    [0.273809, 0.031497, 0.358853],\r\n    [0.274952, 0.037752, 0.364543],\r\n    [0.276022, 0.044167, 0.370164],\r\n    [0.277018, 0.050344, 0.375715],\r\n    [0.277941, 0.056324, 0.381191],\r\n    [0.278791, 0.062145, 0.386592],\r\n    [0.279566, 0.067836, 0.391917],\r\n    [0.280267, 0.073417, 0.397163],\r\n    [0.280894, 0.078907, 0.402329],\r\n    [0.281446, 0.08432, 0.407414],\r\n    [0.281924, 0.089666, 0.412415],\r\n    [0.282327, 0.094955, 0.417331],\r\n    [0.282656, 0.100196, 0.42216],\r\n    [0.28291, 0.105393, 0.426902],\r\n    [0.283091, 0.110553, 0.431554],\r\n    [0.283197, 0.11568, 0.436115],\r\n    [0.283229, 0.120777, 0.440584],\r\n    [0.283187, 0.125848, 0.44496],\r\n    [0.283072, 0.130895, 0.449241],\r\n    [0.282884, 0.13592, 0.453427],\r\n    [0.282623, 0.140926, 0.457517],\r\n    [0.28229, 0.145912, 0.46151],\r\n    [0.281887, 0.150881, 0.465405],\r\n    [0.281412, 0.155834, 0.469201],\r\n    [0.280868, 0.160771, 0.472899],\r\n    [0.280255, 0.165693, 0.476498],\r\n    [0.279574, 0.170599, 0.479997],\r\n    [0.278826, 0.17549, 0.483397],\r\n    [0.278012, 0.180367, 0.486697],\r\n    [0.277134, 0.185228, 0.489898],\r\n    [0.276194, 0.190074, 0.493001],\r\n    [0.275191, 0.194905, 0.496005],\r\n    [0.274128, 0.199721, 0.498911],\r\n    [0.273006, 0.20452, 0.501721],\r\n    [0.271828, 0.209303, 0.504434],\r\n    [0.270595, 0.214069, 0.507052],\r\n    [0.269308, 0.218818, 0.509577],\r\n    [0.267968, 0.223549, 0.512008],\r\n    [0.26658, 0.228262, 0.514349],\r\n    [0.265145, 0.232956, 0.516599],\r\n    [0.263663, 0.237631, 0.518762],\r\n    [0.262138, 0.242286, 0.520837],\r\n    [0.260571, 0.246922, 0.522828],\r\n    [0.258965, 0.251537, 0.524736],\r\n    [0.257322, 0.25613, 0.526563],\r\n    [0.255645, 0.260703, 0.528312],\r\n    [0.253935, 0.265254, 0.529983],\r\n    [0.252194, 0.269783, 0.531579],\r\n    [0.250425, 0.27429, 0.533103],\r\n    [0.248629, 0.278775, 0.534556],\r\n    [0.246811, 0.283237, 0.535941],\r\n    [0.244972, 0.287675, 0.53726],\r\n    [0.243113, 0.292092, 0.538516],\r\n    [0.241237, 0.296485, 0.539709],\r\n    [0.239346, 0.300855, 0.540844],\r\n    [0.237441, 0.305202, 0.541921],\r\n    [0.235526, 0.309527, 0.542944],\r\n    [0.233603, 0.313828, 0.543914],\r\n    [0.231674, 0.318106, 0.544834],\r\n    [0.229739, 0.322361, 0.545706],\r\n    [0.227802, 0.326594, 0.546532],\r\n    [0.225863, 0.330805, 0.547314],\r\n    [0.223925, 0.334994, 0.548053],\r\n    [0.221989, 0.339161, 0.548752],\r\n    [0.220057, 0.343307, 0.549413],\r\n    [0.21813, 0.347432, 0.550038],\r\n    [0.21621, 0.351535, 0.550627],\r\n    [0.214298, 0.355619, 0.551184],\r\n    [0.212395, 0.359683, 0.55171],\r\n    [0.210503, 0.363727, 0.552206],\r\n    [0.208623, 0.367752, 0.552675],\r\n    [0.206756, 0.371758, 0.553117],\r\n    [0.204903, 0.375746, 0.553533],\r\n    [0.203063, 0.379716, 0.553925],\r\n    [0.201239, 0.38367, 0.554294],\r\n    [0.19943, 0.387607, 0.554642],\r\n    [0.197636, 0.391528, 0.554969],\r\n    [0.19586, 0.395433, 0.555276],\r\n    [0.1941, 0.399323, 0.555565],\r\n    [0.192357, 0.403199, 0.555836],\r\n    [0.190631, 0.407061, 0.556089],\r\n    [0.188923, 0.41091, 0.556326],\r\n    [0.187231, 0.414746, 0.556547],\r\n    [0.185556, 0.41857, 0.556753],\r\n    [0.183898, 0.422383, 0.556944],\r\n    [0.182256, 0.426184, 0.55712],\r\n    [0.180629, 0.429975, 0.557282],\r\n    [0.179019, 0.433756, 0.55743],\r\n    [0.177423, 0.437527, 0.557565],\r\n    [0.175841, 0.44129, 0.557685],\r\n    [0.174274, 0.445044, 0.557792],\r\n    [0.172719, 0.448791, 0.557885],\r\n    [0.171176, 0.45253, 0.557965],\r\n    [0.169646, 0.456262, 0.55803],\r\n    [0.168126, 0.459988, 0.558082],\r\n    [0.166617, 0.463708, 0.558119],\r\n    [0.165117, 0.467423, 0.558141],\r\n    [0.163625, 0.471133, 0.558148],\r\n    [0.162142, 0.474838, 0.55814],\r\n    [0.160665, 0.47854, 0.558115],\r\n    [0.159194, 0.482237, 0.558073],\r\n    [0.157729, 0.485932, 0.558013],\r\n    [0.15627, 0.489624, 0.557936],\r\n    [0.154815, 0.493313, 0.55784],\r\n    [0.153364, 0.497, 0.557724],\r\n    [0.151918, 0.500685, 0.557587],\r\n    [0.150476, 0.504369, 0.55743],\r\n    [0.149039, 0.508051, 0.55725],\r\n    [0.147607, 0.511733, 0.557049],\r\n    [0.14618, 0.515413, 0.556823],\r\n    [0.144759, 0.519093, 0.556572],\r\n    [0.143343, 0.522773, 0.556295],\r\n    [0.141935, 0.526453, 0.555991],\r\n    [0.140536, 0.530132, 0.555659],\r\n    [0.139147, 0.533812, 0.555298],\r\n    [0.13777, 0.537492, 0.554906],\r\n    [0.136408, 0.541173, 0.554483],\r\n    [0.135066, 0.544853, 0.554029],\r\n    [0.133743, 0.548535, 0.553541],\r\n    [0.132444, 0.552216, 0.553018],\r\n    [0.131172, 0.555899, 0.552459],\r\n    [0.129933, 0.559582, 0.551864],\r\n    [0.128729, 0.563265, 0.551229],\r\n    [0.127568, 0.566949, 0.550556],\r\n    [0.126453, 0.570633, 0.549841],\r\n    [0.125394, 0.574318, 0.549086],\r\n    [0.124395, 0.578002, 0.548287],\r\n    [0.123463, 0.581687, 0.547445],\r\n    [0.122606, 0.585371, 0.546557],\r\n    [0.121831, 0.589055, 0.545623],\r\n    [0.121148, 0.592739, 0.544641],\r\n    [0.120565, 0.596422, 0.543611],\r\n    [0.120092, 0.600104, 0.54253],\r\n    [0.119738, 0.603785, 0.5414],\r\n    [0.119512, 0.607464, 0.540218],\r\n    [0.119423, 0.611141, 0.538982],\r\n    [0.119483, 0.614817, 0.537692],\r\n    [0.119699, 0.61849, 0.536347],\r\n    [0.120081, 0.622161, 0.534946],\r\n    [0.120638, 0.625828, 0.533488],\r\n    [0.12138, 0.629492, 0.531973],\r\n    [0.122312, 0.633153, 0.530398],\r\n    [0.123444, 0.636809, 0.528763],\r\n    [0.12478, 0.640461, 0.527068],\r\n    [0.126326, 0.644107, 0.525311],\r\n    [0.128087, 0.647749, 0.523491],\r\n    [0.130067, 0.651384, 0.521608],\r\n    [0.132268, 0.655014, 0.519661],\r\n    [0.134692, 0.658636, 0.517649],\r\n    [0.137339, 0.662252, 0.515571],\r\n    [0.14021, 0.665859, 0.513427],\r\n    [0.143303, 0.669459, 0.511215],\r\n    [0.146616, 0.67305, 0.508936],\r\n    [0.150148, 0.676631, 0.506589],\r\n    [0.153894, 0.680203, 0.504172],\r\n    [0.157851, 0.683765, 0.501686],\r\n    [0.162016, 0.687316, 0.499129],\r\n    [0.166383, 0.690856, 0.496502],\r\n    [0.170948, 0.694384, 0.493803],\r\n    [0.175707, 0.6979, 0.491033],\r\n    [0.180653, 0.701402, 0.488189],\r\n    [0.185783, 0.704891, 0.485273],\r\n    [0.19109, 0.708366, 0.482284],\r\n    [0.196571, 0.711827, 0.479221],\r\n    [0.202219, 0.715272, 0.476084],\r\n    [0.20803, 0.718701, 0.472873],\r\n    [0.214, 0.722114, 0.469588],\r\n    [0.220124, 0.725509, 0.466226],\r\n    [0.226397, 0.728888, 0.462789],\r\n    [0.232815, 0.732247, 0.459277],\r\n    [0.239374, 0.735588, 0.455688],\r\n    [0.24607, 0.73891, 0.452024],\r\n    [0.252899, 0.742211, 0.448284],\r\n    [0.259857, 0.745492, 0.444467],\r\n    [0.266941, 0.748751, 0.440573],\r\n    [0.274149, 0.751988, 0.436601],\r\n    [0.281477, 0.755203, 0.432552],\r\n    [0.288921, 0.758394, 0.428426],\r\n    [0.296479, 0.761561, 0.424223],\r\n    [0.304148, 0.764704, 0.419943],\r\n    [0.311925, 0.767822, 0.415586],\r\n    [0.319809, 0.770914, 0.411152],\r\n    [0.327796, 0.77398, 0.40664],\r\n    [0.335885, 0.777018, 0.402049],\r\n    [0.344074, 0.780029, 0.397381],\r\n    [0.35236, 0.783011, 0.392636],\r\n    [0.360741, 0.785964, 0.387814],\r\n    [0.369214, 0.788888, 0.382914],\r\n    [0.377779, 0.791781, 0.377939],\r\n    [0.386433, 0.794644, 0.372886],\r\n    [0.395174, 0.797475, 0.367757],\r\n    [0.404001, 0.800275, 0.362552],\r\n    [0.412913, 0.803041, 0.357269],\r\n    [0.421908, 0.805774, 0.35191],\r\n    [0.430983, 0.808473, 0.346476],\r\n    [0.440137, 0.811138, 0.340967],\r\n    [0.449368, 0.813768, 0.335384],\r\n    [0.458674, 0.816363, 0.329727],\r\n    [0.468053, 0.818921, 0.323998],\r\n    [0.477504, 0.821444, 0.318195],\r\n    [0.487026, 0.823929, 0.312321],\r\n    [0.496615, 0.826376, 0.306377],\r\n    [0.506271, 0.828786, 0.300362],\r\n    [0.515992, 0.831158, 0.294279],\r\n    [0.525776, 0.833491, 0.288127],\r\n    [0.535621, 0.835785, 0.281908],\r\n    [0.545524, 0.838039, 0.275626],\r\n    [0.555484, 0.840254, 0.269281],\r\n    [0.565498, 0.84243, 0.262877],\r\n    [0.575563, 0.844566, 0.256415],\r\n    [0.585678, 0.846661, 0.249897],\r\n    [0.595839, 0.848717, 0.243329],\r\n    [0.606045, 0.850733, 0.236712],\r\n    [0.616293, 0.852709, 0.230052],\r\n    [0.626579, 0.854645, 0.223353],\r\n    [0.636902, 0.856542, 0.21662],\r\n    [0.647257, 0.8584, 0.209861],\r\n    [0.657642, 0.860219, 0.203082],\r\n    [0.668054, 0.861999, 0.196293],\r\n    [0.678489, 0.863742, 0.189503],\r\n    [0.688944, 0.865448, 0.182725],\r\n    [0.699415, 0.867117, 0.175971],\r\n    [0.709898, 0.868751, 0.169257],\r\n    [0.720391, 0.87035, 0.162603],\r\n    [0.730889, 0.871916, 0.156029],\r\n    [0.741388, 0.873449, 0.149561],\r\n    [0.751884, 0.874951, 0.143228],\r\n    [0.762373, 0.876424, 0.137064],\r\n    [0.772852, 0.877868, 0.131109],\r\n    [0.783315, 0.879285, 0.125405],\r\n    [0.79376, 0.880678, 0.120005],\r\n    [0.804182, 0.882046, 0.114965],\r\n    [0.814576, 0.883393, 0.110347],\r\n    [0.82494, 0.88472, 0.106217],\r\n    [0.83527, 0.886029, 0.102646],\r\n    [0.845561, 0.887322, 0.099702],\r\n    [0.85581, 0.888601, 0.097452],\r\n    [0.866013, 0.889868, 0.095953],\r\n    [0.876168, 0.891125, 0.09525],\r\n    [0.886271, 0.892374, 0.095374],\r\n    [0.89632, 0.893616, 0.096335],\r\n    [0.906311, 0.894855, 0.098125],\r\n    [0.916242, 0.896091, 0.100717],\r\n    [0.926106, 0.89733, 0.104071],\r\n    [0.935904, 0.89857, 0.108131],\r\n    [0.945636, 0.899815, 0.112838],\r\n    [0.9553, 0.901065, 0.118128],\r\n    [0.964894, 0.902323, 0.123941],\r\n    [0.974417, 0.90359, 0.130215],\r\n    [0.983868, 0.904867, 0.136897],\r\n    [0.993248, 0.906157, 0.143936]\r\n];\n\nexport { colors as blackWhite, colors$1 as cividis, colors$2 as inferno, colors$3 as magma, colors$4 as plasma, colors$5 as viridis };\n", "\nimport { createColorMap, linearScale } from \"../../_snowpack/pkg/@colormap/core.js\";\nimport { viridis, cividis, plasma, inferno, magma, blackWhite } from \"../../_snowpack/pkg/@colormap/presets.js\";\n\n//Make a node from a generic object\nclass Node{\n  constructor(originalObject,ID,index,network){\n    for (const [nodeProperty, value] of Object.entries(originalObject)) {\n      if(nodeProperty == \"color\"\n      ||  nodeProperty == \"size\"\n      ||  nodeProperty == \"position\"\n      ||  nodeProperty == \"outlineColor\"\n      ||  nodeProperty == \"outlineWidth\"){\n        continue;\n      }\n      this[nodeProperty] = value;\n    }\n    this._network = network;\n    this.ID = ID;\n    this.index = index;\n  }\n\n  set color(newColor){\n    let nodeIndex = this.index;\n    this._network.colors[nodeIndex*3+0] = newColor[0];\n    this._network.colors[nodeIndex*3+1] = newColor[1];\n    this._network.colors[nodeIndex*3+2] = newColor[2];\n  }\n\n  get color(){\n    let nodeIndex = this.index;\n    return [this._network.colors[nodeIndex*3+0],this._network.colors[nodeIndex*3+1],this._network.colors[nodeIndex*3+2]];\n  }\n\n  set size(newSize){\n    this._network.sizes[this.index] = newSize;\n  }\n\n  get size(){\n    return this._network.sizes[this.index];\n  }\n\n  set outlineColor(newColor){\n    let nodeIndex = this.index;\n    this._network.outlineColors[nodeIndex*3+0] = newColor[0];\n    this._network.outlineColors[nodeIndex*3+1] = newColor[1];\n    this._network.outlineColors[nodeIndex*3+2] = newColor[2];\n  }\n\n  get outlineColor(){\n    let nodeIndex = this.index;\n    return [this._network.outlineColors[nodeIndex*3+0],this._network.outlineColors[nodeIndex*3+1],this._network.outlineColors[nodeIndex*3+2]];\n  }\n\n  set outlineWidth(newWidth){\n    this._network.outlineWidths[this.index] = newWidth;\n  }\n\n  get outlineWidth(){\n    return this._network.outlineWidths[this.index];\n  }\n\n  get network(){\n    return this._network;\n  }\n\n  set position(newPosition){\n    let nodeIndex = this.index;\n    this._network.positions[nodeIndex*3+0] = newPosition[0];\n    this._network.positions[nodeIndex*3+1] = newPosition[1];\n    this._network.positions[nodeIndex*3+2] = newPosition[2];\n  }\n  get position(){\n    let nodeIndex = this.index;\n    return [this._network.positions[nodeIndex*3+0],this._network.positions[nodeIndex*3+1],this._network.positions[nodeIndex*3+2]];\n  }\n\n\n\n  \n}\n\n\nexport class Network{\n\tconstructor(nodes,edges,properties){\n    this.ID2index = new Object();\n    this.index2Node = [];\n    for (const [nodeID, node] of Object.entries(nodes)) {\n      if(!this.ID2index.hasOwnProperty(nodeID)){\n        let nodeIndex = this.index2Node.length;\n        this.ID2index[nodeID] = nodeIndex;\n        node.index = nodeIndex;\n        node.ID = nodeID;\n        this.index2Node.push(node);\n      }\n    }\n\n    this.indexedEdges = new Int32Array(edges.length*2);\n    for (let edgeIndex = 0; edgeIndex < edges.length; edgeIndex++) {\n      const edge = edges[edgeIndex];\n      // console.log(this.index2Node)\n      this.indexedEdges[edgeIndex*2] = this.ID2index[edge.source];\n      this.indexedEdges[edgeIndex*2+1] = this.ID2index[edge.target];\n    }\n    \n    this.positions = new Float32Array(3*this.index2Node.length);\n    this.colors = new Float32Array(3*this.index2Node.length);\n    this.sizes = new Float32Array(this.index2Node.length);\n    this.intensities = new Float32Array(this.index2Node.length);\n    this.outlineColors = new Float32Array(3*this.index2Node.length);\n    this.outlineWidths = new Float32Array(this.index2Node.length);\n\n\n    // for (let index = 0; index < this.positions.length; index++) {\n    //   this.positions[index] = (Math.random()-0.5)*2*200;\n    //   this.colors[index] = Math.random()*0.8+0.2;\n    // }\n\n    this.nodes = {}\n    \n    let colorScale = linearScale([0, this.index2Node.length], [0, 1]);\n    let colorMap = createColorMap(inferno, colorScale);\n    for (let index = 0; index < this.index2Node.length; index++) {\n      let node = this.index2Node[index];\n      if(node.hasOwnProperty(\"position\")){\n        this.positions[index*3]   = node[\"position\"][0];\n        this.positions[index*3+1] = node[\"position\"][1];\n        this.positions[index*3+2] = node[\"position\"][2];\n      }else{\n        this.positions[index*3+0] = (Math.random()-0.5)*2*200;\n        this.positions[index*3+1] = (Math.random()-0.5)*2*200;\n        this.positions[index*3+2] = (Math.random()-0.5)*2*200;\n      }\n      if(node.hasOwnProperty(\"color\")){\n        if(index==0){\n          console.log(\"NODE COLOR:\",node[\"color\"])\n        }\n        this.colors[index*3+0] = node[\"color\"][0];\n        this.colors[index*3+1] = node[\"color\"][1];\n        this.colors[index*3+2] = node[\"color\"][2];\n      }else{\n        let color = colorMap(index);\n        this.colors[index*3+0] = color[0];\n        this.colors[index*3+1] = color[1];\n        this.colors[index*3+2] = color[2];\n      }\n\n      if(node.hasOwnProperty(\"size\")){\n        this.sizes[index] = node[\"size\"];\n      }else{\n        this.sizes[index] = 1.0;\n      }\n\n      if(node.hasOwnProperty(\"outlineColor\")){\n        this.outlineColors[index*3+0] = node[\"outlineColor\"][0];\n        this.outlineColors[index*3+1] = node[\"outlineColor\"][1];\n        this.outlineColors[index*3+2] = node[\"outlineColor\"][2];\n      }else{\n        this.outlineColors[index*3+0] = 255;\n        this.outlineColors[index*3+1] = 255;\n        this.outlineColors[index*3+2] = 255;\n      }\n\n      if(node.hasOwnProperty(\"outlineWidth\")){\n        this.outlineWidths[index] = node[\"outlineWidth\"];\n      }else{\n        this.outlineWidths[index] = 0.0;\n      }\n\n      this.intensities[index] = 1.0;\n\n      let newNode = new Node(node,node.ID,index,this);\n      this.index2Node[index] = newNode;\n      this.nodes[node.ID] = newNode;\n    }\n  }\n}\n", "import * as __SNOWPACK_ENV__ from '../../_snowpack/env.js';\nimport.meta.env = __SNOWPACK_ENV__;\n\n\n\n\nlet requestAnimationFrame = (function () {\n\treturn window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\twindow.msRequestAnimationFrame ||\n\t\tfunction ( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\n\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t};\n})();\n\nlet cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n\nfunction createWebGLContext(canvas, opt_attribs) {\n\tlet names = [\"webgl\", \"experimental-webgl\", \"webkit-3d\", \"moz-webgl\"];\n\tlet context = null;\n\tfor (let ii = 0; ii < names.length; ++ii) {\n\t\ttry {\n\t\t\tcontext = canvas.getContext(names[ii], opt_attribs);\n\t\t} catch(e) {}\n\t\tif (context) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn context;\n}\n\n\n//GetShader function obtained from\n//https://developer.mozilla.org/en/WebGL/Adding_2D_content_to_a_WebGL_context\n// under public domain.\nasync function getShader(gl, ID) {\n\tlet shaderScript = document.getElementById(ID);\n\tif (!shaderScript) {\n\t\treturn null;\n\t}\n\n\tlet str = \"\";\n\tlet k = shaderScript.firstChild;\n\twhile (k) {\n\t\tif (k.nodeType == 3) {\n\t\t\tstr += k.textContent;\n\t\t}\n\t\tk = k.nextSibling;\n\t}\n\t\n\tif(shaderScript.src){\n\t\tstr = await fetch(shaderScript.src).then(response=>response.text());\n\t}\n\t\n\tlet shader;\n\tif (shaderScript.type == \"text/glsl-fragment\") {\n\t\tshader = gl.createShader(gl.FRAGMENT_SHADER);\n\t} else if (shaderScript.type == \"text/glsl-vertex\") {\n\t\tshader = gl.createShader(gl.VERTEX_SHADER);\n\t} else {\n\t\treturn null;\n\t}\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\t\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \",ID);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\n//new URL('fancy-button.css', import.meta.url)\nasync function getShaderFromURL(gl,url,type){ //gl.FRAGMENT_SHADER or gl.VERTEX_SHADER\n\tlet str = await fetch(url).then(r => r.text());\n\t\n\tlet shader;\n\tshader = gl.createShader(type);\n\t\n\t// console.log(str);\n\n\tgl.shaderSource(shader, str);\n\tgl.compileShader(shader);\n\t\n\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\tconsole.log(\"ERROR with script: \",url);\n\t\tconsole.log(gl.getShaderInfoLog(shader));\n\t\treturn null;\n\t}\n\n\treturn shader;\n}\n\n\nfunction ShaderProgram(vertexShader,fragmentShader, uniforms, attributes, glContext){\n  let shaderProgram = glContext.createProgram();\n\tglContext.attachShader(shaderProgram, vertexShader);\n\tglContext.attachShader(shaderProgram, fragmentShader);\n\tglContext.linkProgram(shaderProgram);\n\t\n\t\n\tif (!glContext.getProgramParameter(shaderProgram, glContext.LINK_STATUS)) {\n\t\talert(\"Shader Compilation Error.\"+glContext.getProgramInfoLog(shaderProgram));\n\t\t return;\n\t}\n\t\n\tthis.ID = shaderProgram;\n\t\n\tthis.uniforms = new Object();\n\tthis.attributes = new Object();\n\t\n\tif(uniforms){\n\t\tfor(let i=0;i<uniforms.length;i++){\n\t\t\tthis.uniforms[uniforms[i]] = glContext.getUniformLocation(this.ID, uniforms[i]);\n\t\t}\n\t}\n\t\n\tthis.attributes.enable = function(attributeName){\n\t\tglContext.enableVertexAttribArray(this[attributeName]);\n\t}\n\t\n\tthis.attributes.disable = function(attributeName){\n\t\tglContext.disableVertexAttribArray(this[attributeName]);\n\t}\n\t\n\tif(attributes){\n\t\tfor(let i=0;i<attributes.length;i++){\n\t\t\tthis.attributes[attributes[i]] = glContext.getAttribLocation(this.ID, attributes[i]);\n\t\t}\n\t}\n\t\n\tthis.use = function(glContext){\n    glContext.useProgram(this.ID);\n\t}\n}\n\n\n\n\n\n/*\n * Copyright (C) 2009 Apple Inc. All Rights Reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n /*\n \ttaken from: https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/sdk/demos/webkit/resources/J3DI.js\n */\n\n//\n// makeSphere\n//\n// Create a sphere with the passed number of latitude and longitude bands and the passed radius.\n// Sphere has vertices, normals and texCoords. Create VBOs for each as well as the index array.\n// Return an object with the following properties:\n//\n//  normalObject        WebGLBuffer object for normals\n//  texCoordObject      WebGLBuffer object for texCoords\n//  vertexObject        WebGLBuffer object for vertices\n//  indexObject         WebGLBuffer object for indices\n//  numIndices          The number of indices in the indexObject\n//\nfunction makeSphere(ctx, radius, lats, longs)\n{\n    var geometryData = [ ];\n    var normalData = [ ];\n    var texCoordData = [ ];\n    var indexData = [ ];\n\n    for (var latNumber = 0; latNumber <= lats; ++latNumber) {\n        for (var longNumber = 0; longNumber <= longs; ++longNumber) {\n            var theta = latNumber * Math.PI / lats;\n            var phi = longNumber * 2 * Math.PI / longs;\n            var sinTheta = Math.sin(theta);\n            var sinPhi = Math.sin(phi);\n            var cosTheta = Math.cos(theta);\n            var cosPhi = Math.cos(phi);\n\n            var x = cosPhi * sinTheta;\n            var y = cosTheta;\n            var z = sinPhi * sinTheta;\n            var u = 1-(longNumber/longs);\n            var v = latNumber/lats;\n\n            normalData.push(x);\n            normalData.push(y);\n            normalData.push(z);\n            texCoordData.push(u);\n            texCoordData.push(v);\n            geometryData.push(radius * x);\n            geometryData.push(radius * y);\n            geometryData.push(radius * z);\n        }\n    }\n\n    for (var latNumber = 0; latNumber < lats; ++latNumber) {\n        for (var longNumber = 0; longNumber < longs; ++longNumber) {\n            var first = (latNumber * (longs+1)) + longNumber;\n            var second = first + longs + 1;\n            indexData.push(first);\n            indexData.push(second);\n            indexData.push(first+1);\n\n            indexData.push(second);\n            indexData.push(second+1);\n            indexData.push(first+1);\n        }\n    }\n\n    var retval = { };\n\n    retval.normalObject = ctx.createBuffer();\n    ctx.bindBuffer(ctx.ARRAY_BUFFER, retval.normalObject);\n    ctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(normalData), ctx.STATIC_DRAW);\n\n    retval.texCoordObject = ctx.createBuffer();\n    ctx.bindBuffer(ctx.ARRAY_BUFFER, retval.texCoordObject);\n    ctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(texCoordData), ctx.STATIC_DRAW);\n\n    retval.vertexObject = ctx.createBuffer();\n    ctx.bindBuffer(ctx.ARRAY_BUFFER, retval.vertexObject);\n    ctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(geometryData), ctx.STATIC_DRAW);\n\n    retval.numIndices = indexData.length;\n    retval.indexObject = ctx.createBuffer();\n    ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, retval.indexObject);\n    ctx.bufferData(ctx.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexData), ctx.STREAM_DRAW);\n    retval.indexType = ctx.UNSIGNED_SHORT;\n\n    return retval;\n}\n\n\n\n\n\nfunction makePlane(ctx,generateNormal=true,generateTexCoord=true){\n    let geometryData = [\n\t\t\t-1.0, 1.0,0.0,\n\t\t\t-1.0,-1.0,0.0,\n\t\t\t 1.0, 1.0,0.0,\n\t\t\t 1.0,-1.0,0.0,\n\t\t];\n    let normalData = [\n\t\t\t 0.0, 0.0, 1.0,\n\t\t\t 0.0, 0.0, 1.0,\n\t\t\t 0.0, 0.0, 1.0,\n\t\t\t 0.0, 0.0, 1.0,\n\t\t];\n    let texCoordData = [\n\t\t\t0.0, 1.0, 0.0,\n\t\t\t1.0, 0.0, 0.0,\n\t\t\t1.0, 1.0, 0.0,\n\t\t\t0.0, 0.0, 0.0,\n\t ];\n\n    let retval = { };\n\n\t if(generateTexCoord){\n    retval.texCoordObject = ctx.createBuffer();\n    ctx.bindBuffer(ctx.ARRAY_BUFFER, retval.texCoordObject);\n    ctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(texCoordData), ctx.STATIC_DRAW);\n\t }\n\n\t if(generateNormal){\n    retval.normalObject = ctx.createBuffer();\n    ctx.bindBuffer(ctx.ARRAY_BUFFER, retval.normalObject);\n\t\tctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(normalData), ctx.STATIC_DRAW);\n\t }\n\n\t retval.vertexObject = ctx.createBuffer();\n\t ctx.bindBuffer(ctx.ARRAY_BUFFER, retval.vertexObject);\n\t ctx.bufferData(ctx.ARRAY_BUFFER, new Float32Array(geometryData), ctx.STATIC_DRAW);\n\t\tretval.numIndices = 4;\n\n    // retval.numIndices = indexData.length;\n    // retval.indexObject = ctx.createBuffer();\n    // ctx.bindBuffer(ctx.ELEMENT_ARRAY_BUFFER, retval.indexObject);\n    // ctx.bufferData(ctx.ELEMENT_ARRAY_BUFFER, new Uint16Array(indexData), ctx.STREAM_DRAW);\n    // retval.indexType = ctx.UNSIGNED_SHORT;\n\n    return retval;\n}\n\n// Degrees to Radians convert function\nfunction degToRad(degrees) {\n\treturn degrees * Math.PI / 180;\n}\n\nexport {makeSphere,makePlane,getShader,getShaderFromURL,ShaderProgram,requestAnimationFrame,cancelAnimationFrame,createWebGLContext,degToRad}", "\"use strict\";\n\nlet textSplit2 = (text) => {\n\tlet entries = text.split(/\\s/)\n\tif (entries.length < 2) {\n\t\treturn null;\n\t}\n\treturn [+entries[0], +entries[1]];\n};\n\nlet textSplit3 = (text) => {\n\tlet entries = text.split(/\\s/)\n\tif (entries.length < 3) {\n\t\treturn null;\n\t}\n\treturn [+entries[0], +entries[1], +entries[2]];\n};\n\nlet readNumberIgnoringNone = (text) => {\n\tif (isNaN(text)) {\n\t\treturn 0.0;\n\t} else {\n\t\treturn +text;\n\t}\n};\n\n\nlet propertyHeaderRegular = /#([ve]) \\\"(.+)\\\" ([sn]|v2|v3)/;\nlet propertyFunctions = {\n\t\"s\": String,\n\t\"n\": readNumberIgnoringNone,\n\t\"v2\": textSplit2,\n\t\"v3\": textSplit3\n};\n\n\n\nlet readXNETVerticesHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerLine = status.lines[status.lineIndex];\n\tlet headerEntries = headerLine.split(/\\s/);\n\tlet nodeCount = 0;\n\t\n\tif (headerEntries.length == 0 || headerEntries[0].toLowerCase() != \"#vertices\" ||\n\t\tisNaN(headerEntries[1]) || !Number.isInteger(+headerEntries[1])) {\n\t\tthrow `Malformed xnet data (Reading Vertices Header)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\tnodeCount = +headerEntries[1];\n\tstatus.lineIndex++;\n\treturn nodeCount;\n};\n\nlet readXNETLabels = (status) => {\n\tlet labels = [];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tvar label = currentLine;\n\t\tif (currentLine[0] == \"\\\"\" && currentLine[lineLength - 1] == \"\\\"\") {\n\t\t\tlabel = currentLine.slice(1, -1);\n\t\t}\n\t\tlabels.push(label);\n\t\tstatus.lineIndex++;\n\t}\n\treturn labels;\n};\n\nlet readXNETEdgesHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerLine = status.lines[status.lineIndex];\n\tlet headerEntries = headerLine.split(/\\s/);\n\n\tlet weighted = false;\n\tlet directed = false;\n\n\tif (headerEntries.length == 0 || headerEntries[0].toLowerCase() != \"#edges\") {\n\t\tthrow `Malformed xnet data (Reading Edges Header)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\n\theaderEntries.forEach(headerEntry => {\n\t\tif (headerEntry.toLowerCase() == \"weighted\") {\n\t\t\tweighted = true;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"nonweighted\") {\n\t\t\tweighted = false;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"directed\") {\n\t\t\tdirected = true;\n\t\t}\n\t\tif (headerEntry.toLowerCase() == \"undirected\") {\n\t\t\tdirected = false;\n\t\t}\n\t});\n\tstatus.lineIndex++;\n\treturn { weighted: weighted, directed: directed };\n};\n\n\nlet readXNETEdges = (status) => {\n\tlet edges = [];\n\tlet weights = [];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tlet entries = currentLine.split(/\\s/);\n\t\tlet weight = 1.0;\n\t\t\n\t\tif (entries.length < 2) {\n\t\t\tthrow `Malformed xnet data (Reading Edges)[line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t\t}\n\t\tif (entries.length > 2) {\n\t\t\tweight = +entries[2];\n\t\t}\n\t\tedges.push([+entries[0], +entries[1]]);\n\t\tweights.push(weight);\n\t\tstatus.lineIndex++;\n\t}\n\treturn { edges: edges, weights: weights };\n};\n\n\nlet readXNETPropertyHeader = (status) => {\n\twhile (status.lineIndex + 1 < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\tstatus.lineIndex++;\n\t}\n\n\tlet headerEntries = propertyHeaderRegular.exec(status.lines[status.lineIndex]);\n\n\tif (headerEntries.length != 4) {\n\t\tthrow `Malformed xnet data [line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t}\n\tlet propertyType = headerEntries[1];\n\tlet propertyKey = headerEntries[2];\n\tlet propertyFormat = headerEntries[3];\n\n\tstatus.lineIndex++;\n\n\treturn { type: propertyType, key: propertyKey, format: propertyFormat };\n};\n\n\n\nlet readXNETProperty = (status, propertyHeader) => {\n\tlet properties = [];\n\tlet propertyFunction = propertyFunctions[propertyHeader.format];\n\twhile (status.lineIndex < status.lines.length) {\n\t\tlet currentLine = status.lines[status.lineIndex];\n\t\tlet lineLength = currentLine.length;\n\t\tif (lineLength == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (currentLine[0] == \"#\") {\n\t\t\tbreak;\n\t\t}\n\t\tlet value = currentLine;\n\t\tif (value[0] == \"\\\"\" && value[lineLength - 1] == \"\\\"\") {\n\t\t\tvalue = value.slice(1, -1);\n\t\t}\n\t\tproperties.push(propertyFunction(value));\n\t\tstatus.lineIndex++;\n\t}\n\treturn properties;\n};\n\n\n\nlet loadXNET = (data) => {\n\tlet status = { lineIndex:0, lines: data.split(\"\\n\") };\n\tlet nodesCount = readXNETVerticesHeader(status);\n\tlet labels = readXNETLabels(status);\n\n\tlet network = { nodesCount: nodesCount, verticesProperties: {}, edgesProperties: {} }\n\n\tif (labels.length > 0) {\n\t\tif (labels.length < nodesCount) {\n\t\t\tthrow `Malformed xnet data [line: ${status.lineIndex}]\\n\\t> ${status.lines[status.lineIndex]}`;\n\t\t} else {\n\t\t\tnetwork.labels = labels;\n\t\t}\n\t}\n\tlet edgesHeader = readXNETEdgesHeader(status);\n\tnetwork.directed = edgesHeader.directed;\n\tnetwork.weighted = edgesHeader.weighted;\n\n\tlet edgesData = readXNETEdges(status);\n\tnetwork.edges = edgesData.edges;\n\tif (network.weighted) {\n\t\tnetwork.weights = edgesData.weights;\n\t}\n\n\tdo{\n\t\twhile (status.lineIndex < status.lines.length && status.lines[status.lineIndex].length == 0) {\n\t\t\tstatus.lineIndex++;\n\t\t}\n\t\tif(!(status.lineIndex < status.lines.length)){\n\t\t\tbreak;\n\t\t}\n\t\tlet propertyHeader = readXNETPropertyHeader(status);\n\t\tlet propertyData = readXNETProperty(status, propertyHeader);\n\t\t//console.log(propertyHeader);\n\t\tif (propertyHeader.type == \"e\") {\n\t\t\tnetwork.edgesProperties[propertyHeader.key] = propertyData;\n\t\t} else if (propertyHeader.type == \"v\") {\n\t\t\tnetwork.verticesProperties[propertyHeader.key] = propertyData;\n\t\t}\n\t\t// status.lineIndex++;\n\t}while (status.lineIndex < status.lines.length);\n\treturn network;\n};\n\n\nasync function loadXNETFile(networkFile){\n\tlet networkData = await fetch(networkFile)\n\t\t.then(response => response.text());\n\t\t// .then();\n\treturn loadXNET(networkData);\n}\n\nexport {loadXNET,loadXNETFile}", "var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nvar namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nfunction namespace(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n\nfunction none() {}\n\nfunction selector(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n\nfunction selection_select(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n\n// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n\nfunction empty() {\n  return [];\n}\n\nfunction selectorAll(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nfunction selection_selectAll(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n\nfunction matcher(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nfunction childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n\nfunction selection_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n\nfunction sparse(update) {\n  return new Array(update.length);\n}\n\nfunction selection_enter() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nfunction selection_data(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n\nfunction selection_exit() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n\nfunction selection_merge(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n\nfunction selection_order() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction selection_sort(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n\nfunction selection_nodes() {\n  return Array.from(this);\n}\n\nfunction selection_node() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n\nfunction selection_size() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n\nfunction selection_empty() {\n  return !this.node();\n}\n\nfunction selection_each(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n\nfunction defaultView(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nfunction selection_property(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n\nfunction textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nfunction selection_text(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nfunction selection_html(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nfunction selection_raise() {\n  return this.each(raise);\n}\n\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nfunction selection_lower() {\n  return this.each(lower);\n}\n\nfunction selection_append(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n\nfunction constantNull() {\n  return null;\n}\n\nfunction selection_insert(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nfunction selection_remove() {\n  return this.each(remove);\n}\n\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n\nfunction selection_datum(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n\nfunction contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n\nvar root = [null];\n\nfunction Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nfunction select(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n\nexport { selector as a, selectorAll as b, selection as c, styleValue as d, matcher as m, namespace as n, select as s };\n", "var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport { dispatch as d };\n", "var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nfunction Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nfunction timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nfunction timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n\nexport { Timer as T, now as n, timer as t };\n", "function interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nexport { interpolateString as a, interpolateNumber as i };\n", "function define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nexport { Color as C, Rgb as R, rgbConvert as a, brighter as b, color as c, define as d, extend as e, darker as f, rgb as r };\n", "import { r as rgb } from './color-a4ab9cc4.js';\n\nfunction basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nfunction basis$1(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\nvar constant = x => () => x;\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar interpolateRgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n\n  return rgb$1;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = rgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nvar rgbBasis = rgbSpline(basis$1);\n\nexport { constant as c, hue as h, interpolateRgb as i, nogamma as n, rgbBasis as r };\n", "import { s as select } from './select-9bda5bb9.js';\n\nfunction sourceEvent(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n\n// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nconst nonpassive = {passive: false};\nconst nonpassivecapture = {capture: true, passive: false};\n\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\nfunction dragDisable(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nfunction yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n\nexport { nonpassivecapture as a, nopropagation as b, noevent as c, dragDisable as d, nonpassive as n, pointer as p, yesdrag as y };\n", "import { d as dispatch } from './common/dispatch-a4cc9f48.js';\nimport { T as Timer, t as timer, n as now } from './common/timer-0f89e737.js';\nimport { i as interpolateNumber, a as interpolateString } from './common/string-cfd0b55d.js';\nimport { c as color } from './common/color-a4ab9cc4.js';\nimport { i as interpolateRgb } from './common/rgb-90dc4bb7.js';\nimport { n as namespace, m as matcher, a as selector, b as selectorAll, c as selection, d as styleValue, s as select } from './common/select-9bda5bb9.js';\nimport { p as pointer, d as dragDisable, y as yesdrag } from './common/nodrag-5a51286e.js';\n\nfunction timeout(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n\nvar degrees = 180 / Math.PI;\n\nvar identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: interpolateNumber(xa, xb)}, {i: i - 2, x: interpolateNumber(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: interpolateNumber(xa, xb)}, {i: i - 2, x: interpolateNumber(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nvar interpolateZoom = (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      };\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      };\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\n\nfunction schedule(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nfunction init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nfunction set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nfunction get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n\nfunction interrupt(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n\nfunction selection_interrupt(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction transition_tween(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nfunction tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction transition_attr(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nfunction transition_delay(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nfunction transition_duration(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nfunction transition_ease(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n\nfunction transition_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n\nfunction transition_merge(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nfunction transition_on(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n\nfunction removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n\nfunction transition_select(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n\nfunction transition_selectAll(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n\nvar Selection = selection.prototype.constructor;\n\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = styleValue(this, name),\n        string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = styleValue(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n\nfunction styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n\nfunction textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n\nfunction transition_transition() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n\nfunction transition_end() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n\nvar id = 0;\n\nfunction Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nfunction newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nfunction selection_transition(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n\nvar constant = x => () => x;\n\nfunction ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nvar identity$1 = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nfunction transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity$1;\n  return node.__zoom;\n}\n\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity$1;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nfunction zoom() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity$1.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n\nexport { zoom, identity$1 as zoomIdentity, transform as zoomTransform };\n", "import { n as nonpassive, a as nonpassivecapture, d as dragDisable, b as nopropagation, c as noevent, y as yesdrag, p as pointer } from './common/nodrag-5a51286e.js';\nimport { d as dispatch } from './common/dispatch-a4cc9f48.js';\nimport { s as select } from './common/select-9bda5bb9.js';\n\nvar constant = x => () => x;\n\nfunction DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction drag() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    dragDisable(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n\nexport { drag };\n", "var ngraph_events = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n\nexport { ngraph_events as n };\n", "function createCommonjsModule(fn, basedir, module) {\n\treturn module = {\n\t\tpath: basedir,\n\t\texports: {},\n\t\trequire: function (path, base) {\n\t\t\treturn commonjsRequire(path, (base === undefined || base === null) ? module.path : base);\n\t\t}\n\t}, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nexport { commonjsRequire as a, createCommonjsModule as c };\n", "import { n as ngraph_events } from './common/index-06822a64.js';\nimport { c as createCommonjsModule } from './common/_commonjsHelpers-edfea8af.js';\n\nvar getVariableName = function getVariableName(index) {\n  if (index === 0) return 'x';\n  if (index === 1) return 'y';\n  if (index === 2) return 'z';\n  return 'c' + (index + 1);\n};\n\nvar createPatternBuilder = function createPatternBuilder(dimension) {\n\n  return pattern;\n  \n  function pattern(template, config) {\n    let indent = (config && config.indent) || 0;\n    let join = (config && config.join !== undefined) ? config.join : '\\n';\n    let indentString = Array(indent + 1).join(' ');\n    let buffer = [];\n    for (let i = 0; i < dimension; ++i) {\n      let variableName = getVariableName(i);\n      let prefix = (i === 0) ? '' : indentString;\n      buffer.push(prefix + template.replace(/{var}/g, variableName));\n    }\n    return buffer.join(join);\n  }\n};\n\nvar generateCreateBody = generateCreateBodyFunction;\nvar generateCreateBodyFunctionBody_1 = generateCreateBodyFunctionBody;\n\n// InlineTransform: getVectorCode\nvar getVectorCode_1 = getVectorCode;\n// InlineTransform: getBodyCode\nvar getBodyCode_1 = getBodyCode;\n// InlineTransformExport: module.exports = function() { return Body; }\n\nfunction generateCreateBodyFunction(dimension, debugSetters) {\n  let code = generateCreateBodyFunctionBody(dimension, debugSetters);\n  let {Body} = (new Function(code))();\n  return Body;\n}\n\nfunction generateCreateBodyFunctionBody(dimension, debugSetters) {\n  let code = `\n${getVectorCode(dimension, debugSetters)}\n${getBodyCode(dimension)}\nreturn {Body: Body, Vector: Vector};\n`;\n  return code;\n}\n\nfunction getBodyCode(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let variableList = pattern('{var}', {join: ', '});\n  return `\nfunction Body(${variableList}) {\n  this.isPinned = false;\n  this.pos = new Vector(${variableList});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${variableList}) {\n  ${pattern('this.pos.{var} = {var} || 0;', {indent: 2})}\n};`;\n}\n\nfunction getVectorCode(dimension, debugSetters) {\n  let pattern = createPatternBuilder(dimension);\n  let setters = '';\n  if (debugSetters) {\n    setters = `${pattern(\"\\n\\\n   var v{var};\\n\\\nObject.defineProperty(this, '{var}', {\\n\\\n  set: function(v) { \\n\\\n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\\n\\\n    v{var} = v; \\n\\\n  },\\n\\\n  get: function() { return v{var}; }\\n\\\n});\")}`;\n  }\n\n  let variableList = pattern('{var}', {join: ', '});\n  return `function Vector(${variableList}) {\n  ${setters}\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ${pattern('if (!Number.isFinite(v.{var})) throw new Error(\"Expected value is not a finite number at Vector constructor ({var})\");', {indent: 4})}\n      ${pattern('this.{var} = v.{var};', {indent: 4})}\n    } else {\n      ${pattern('this.{var} = typeof {var} === \"number\" ? {var} : 0;', {indent: 4})}\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ${pattern('this.{var} = ', {join: ''})}0;\n  };`;\n}\ngenerateCreateBody.generateCreateBodyFunctionBody = generateCreateBodyFunctionBody_1;\ngenerateCreateBody.getVectorCode = getVectorCode_1;\ngenerateCreateBody.getBodyCode = getBodyCode_1;\n\nvar generateQuadTree = generateQuadTreeFunction;\nvar generateQuadTreeFunctionBody_1 = generateQuadTreeFunctionBody;\n\n// These exports are for InlineTransform tool.\n// InlineTransform: getInsertStackCode\nvar getInsertStackCode_1 = getInsertStackCode;\n// InlineTransform: getQuadNodeCode\nvar getQuadNodeCode_1 = getQuadNodeCode;\n// InlineTransform: isSamePosition\nvar isSamePosition_1 = isSamePosition;\n// InlineTransform: getChildBodyCode\nvar getChildBodyCode_1 = getChildBodyCode;\n// InlineTransform: setChildBodyCode\nvar setChildBodyCode_1 = setChildBodyCode;\n\nfunction generateQuadTreeFunction(dimension) {\n  let code = generateQuadTreeFunctionBody(dimension);\n  return (new Function(code))();\n}\n\nfunction generateQuadTreeFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let quadCount = Math.pow(2, dimension);\n\n  let code = `\n${getInsertStackCode()}\n${getQuadNodeCode(dimension)}\n${isSamePosition(dimension)}\n${getChildBodyCode(dimension)}\n${setChildBodyCode(dimension)}\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${assignQuads('      node.')}\n      node.body = null;\n      node.mass = ${pattern('node.mass_{var} = ', {join: ''})}0;\n      ${pattern('node.min_{var} = node.max_{var} = ', {join: ''})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${pattern('var d{var};', {indent: 4})}\n    var r; \n    ${pattern('var f{var} = 0;', {indent: 4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${pattern('d{var} = body.pos.{var} - sourceBody.pos.{var};', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 10})}\n          r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${pattern('f{var} += v * d{var};', {indent: 8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${pattern('d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 10})}\n          r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n        }\n        // If s / r < θ, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${getVariableName(0)} - node.min_${getVariableName(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${pattern('f{var} += v * d{var};', {indent: 10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${runRecursiveOnChildren()}\n        }\n      }\n    }\n\n    ${pattern('sourceBody.force.{var} += f{var};', {indent: 4})}\n  }\n\n  function insertBodies(bodies) {\n    ${pattern('var {var}min = Number.MAX_VALUE;', {indent: 4})}\n    ${pattern('var {var}max = Number.MIN_VALUE;', {indent: 4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${pattern('if (pos.{var} < {var}min) {var}min = pos.{var};', {indent: 6})}\n      ${pattern('if (pos.{var} > {var}max) {var}max = pos.{var};', {indent: 6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${pattern('if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;', {indent: 4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${pattern('root.min_{var} = {var}min;', {indent: 4})}\n    ${pattern('root.max_{var} = {var}min + maxSideLength;', {indent: 4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${pattern('var {var} = body.pos.{var};', {indent: 8})}\n        node.mass += body.mass;\n        ${pattern('node.mass_{var} += body.mass * {var};', {indent: 8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${pattern('var min_{var} = node.min_{var};', {indent: 8})}\n        ${pattern('var max_{var} = (min_{var} + node.max_{var}) / 2;', {indent: 8})}\n\n${assignInsertionQuadIndex(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${pattern('child.min_{var} = min_{var};', {indent: 10})}\n          ${pattern('child.max_{var} = max_{var};', {indent: 10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${pattern('var d{var} = (node.max_{var} - node.min_{var}) * offset;', {indent: 12})}\n\n            ${pattern('oldBody.pos.{var} = node.min_{var} + d{var};', {indent: 12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n`;\n  return code;\n\n\n  function assignInsertionQuadIndex(indentCount) {\n    let insertionCode = [];\n    let indent = Array(indentCount + 1).join(' ');\n    for (let i = 0; i < dimension; ++i) {\n      insertionCode.push(indent + `if (${getVariableName(i)} > max_${getVariableName(i)}) {`);\n      insertionCode.push(indent + `  quadIdx = quadIdx + ${Math.pow(2, i)};`);\n      insertionCode.push(indent + `  min_${getVariableName(i)} = max_${getVariableName(i)};`);\n      insertionCode.push(indent + `  max_${getVariableName(i)} = node.max_${getVariableName(i)};`);\n      insertionCode.push(indent + `}`);\n    }\n    return insertionCode.join('\\n');\n    // if (x > max_x) { // somewhere in the eastern part.\n    //   quadIdx = quadIdx + 1;\n    //   left = right;\n    //   right = node.right;\n    // }\n  }\n\n  function runRecursiveOnChildren() {\n    let indent = Array(11).join(' ');\n    let recursiveCode = [];\n    for (let i = 0; i < quadCount; ++i) {\n      recursiveCode.push(indent + `if (node.quad${i}) {`);\n      recursiveCode.push(indent + `  queue[pushIdx] = node.quad${i};`);\n      recursiveCode.push(indent + `  queueLength += 1;`);\n      recursiveCode.push(indent + `  pushIdx += 1;`);\n      recursiveCode.push(indent + `}`);\n    }\n    return recursiveCode.join('\\n');\n    // if (node.quad0) {\n    //   queue[pushIdx] = node.quad0;\n    //   queueLength += 1;\n    //   pushIdx += 1;\n    // }\n  }\n\n  function assignQuads(indent) {\n    // this.quad0 = null;\n    // this.quad1 = null;\n    // this.quad2 = null;\n    // this.quad3 = null;\n    let quads = [];\n    for (let i = 0; i < quadCount; ++i) {\n      quads.push(`${indent}quad${i} = null;`);\n    }\n    return quads.join('\\n');\n  }\n}\n\nfunction isSamePosition(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  return `\n  function isSamePosition(point1, point2) {\n    ${pattern('var d{var} = Math.abs(point1.{var} - point2.{var});', {indent: 2})}\n  \n    return ${pattern('d{var} < 1e-8', {join: ' && '})};\n  }  \n`;\n}\n\nfunction setChildBodyCode(dimension) {\n  var quadCount = Math.pow(2, dimension);\n  return `\nfunction setChild(node, idx, child) {\n  ${setChildBody()}\n}`;\n  function setChildBody() {\n    let childBody = [];\n    for (let i = 0; i < quadCount; ++i) {\n      let prefix = (i === 0) ? '  ' : '  else ';\n      childBody.push(`${prefix}if (idx === ${i}) node.quad${i} = child;`);\n    }\n\n    return childBody.join('\\n');\n    // if (idx === 0) node.quad0 = child;\n    // else if (idx === 1) node.quad1 = child;\n    // else if (idx === 2) node.quad2 = child;\n    // else if (idx === 3) node.quad3 = child;\n  }\n}\n\nfunction getChildBodyCode(dimension) {\n  return `function getChild(node, idx) {\n${getChildBody()}\n  return null;\n}`;\n\n  function getChildBody() {\n    let childBody = [];\n    let quadCount = Math.pow(2, dimension);\n    for (let i = 0; i < quadCount; ++i) {\n      childBody.push(`  if (idx === ${i}) return node.quad${i};`);\n    }\n\n    return childBody.join('\\n');\n    // if (idx === 0) return node.quad0;\n    // if (idx === 1) return node.quad1;\n    // if (idx === 2) return node.quad2;\n    // if (idx === 3) return node.quad3;\n  }\n}\n\nfunction getQuadNodeCode(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let quadCount = Math.pow(2, dimension);\n  var quadNodeCode = `\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${assignQuads('  this.')}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${pattern('this.mass_{var} = 0;', {indent: 2})}\n\n  // bounding box coordinates\n  ${pattern('this.min_{var} = 0;', {indent: 2})}\n  ${pattern('this.max_{var} = 0;', {indent: 2})}\n}\n`;\n  return quadNodeCode;\n\n  function assignQuads(indent) {\n    // this.quad0 = null;\n    // this.quad1 = null;\n    // this.quad2 = null;\n    // this.quad3 = null;\n    let quads = [];\n    for (let i = 0; i < quadCount; ++i) {\n      quads.push(`${indent}quad${i} = null;`);\n    }\n    return quads.join('\\n');\n  }\n}\n\nfunction getInsertStackCode() {\n  return `\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n`;\n}\ngenerateQuadTree.generateQuadTreeFunctionBody = generateQuadTreeFunctionBody_1;\ngenerateQuadTree.getInsertStackCode = getInsertStackCode_1;\ngenerateQuadTree.getQuadNodeCode = getQuadNodeCode_1;\ngenerateQuadTree.isSamePosition = isSamePosition_1;\ngenerateQuadTree.getChildBodyCode = getChildBodyCode_1;\ngenerateQuadTree.setChildBodyCode = setChildBodyCode_1;\n\nvar generateBounds = generateBoundsFunction;\nvar generateFunctionBody = generateBoundsFunctionBody;\n\n\n\nfunction generateBoundsFunction(dimension) {\n  let code = generateBoundsFunctionBody(dimension);\n  return new Function('bodies', 'settings', 'random', code);\n}\n\nfunction generateBoundsFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n\n  let code = `\n  var boundingBox = {\n    ${pattern('min_{var}: 0, max_{var}: 0,', {indent: 4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${pattern('base_{var} = 0', {join: ', '})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${pattern('base_{var} += neighborPos.{var};', {indent: 10})}\n        }\n\n        ${pattern('base_{var} /= neighbors.length;', {indent: 8})}\n      } else {\n        ${pattern('base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;', {indent: 8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${pattern('{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,', {indent: 8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${pattern('var max_{var} = -Infinity;', {indent: 4})}\n    ${pattern('var min_{var} = Infinity;', {indent: 4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${pattern('if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};', {indent: 6})}\n      ${pattern('if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};', {indent: 6})}\n    }\n\n    ${pattern('boundingBox.min_{var} = min_{var};', {indent: 4})}\n    ${pattern('boundingBox.max_{var} = max_{var};', {indent: 4})}\n  }\n\n  function resetBoundingBox() {\n    ${pattern('boundingBox.min_{var} = boundingBox.max_{var} = 0;', {indent: 4})}\n  }\n`;\n  return code;\n}\ngenerateBounds.generateFunctionBody = generateFunctionBody;\n\nvar generateCreateDragForce = generateCreateDragForceFunction;\nvar generateCreateDragForceFunctionBody_1 = generateCreateDragForceFunctionBody;\n\nfunction generateCreateDragForceFunction(dimension) {\n  let code = generateCreateDragForceFunctionBody(dimension);\n  return new Function('options', code);\n}\n\nfunction generateCreateDragForceFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ${pattern('body.force.{var} -= options.dragCoefficient * body.velocity.{var};', {indent: 6})}\n    }\n  };\n`;\n  return code;\n}\ngenerateCreateDragForce.generateCreateDragForceFunctionBody = generateCreateDragForceFunctionBody_1;\n\nvar generateCreateSpringForce = generateCreateSpringForceFunction;\nvar generateCreateSpringForceFunctionBody_1 = generateCreateSpringForceFunctionBody;\n\nfunction generateCreateSpringForceFunction(dimension) {\n  let code = generateCreateSpringForceFunctionBody(dimension);\n  return new Function('options', 'random', code);\n}\n\nfunction generateCreateSpringForceFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${pattern('var d{var} = body2.pos.{var} - body1.pos.{var};', {indent: 6})}\n      var r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n      if (r === 0) {\n        ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${pattern('body1.force.{var} += coefficient * d{var}', {indent: 6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${pattern('body2.force.{var} -= coefficient * d{var}', {indent: 6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`;\n  return code;\n}\ngenerateCreateSpringForce.generateCreateSpringForceFunctionBody = generateCreateSpringForceFunctionBody_1;\n\nvar generateIntegrator = generateIntegratorFunction;\nvar generateIntegratorFunctionBody_1 = generateIntegratorFunctionBody;\n\nfunction generateIntegratorFunction(dimension) {\n  let code = generateIntegratorFunctionBody(dimension);\n  return new Function('bodies', 'timeStep', 'adaptiveTimeStepWeight', code);\n}\n\nfunction generateIntegratorFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${pattern('var d{var} = 0, t{var} = 0;', {indent: 2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${pattern('body.velocity.{var} += coeff * body.force.{var};', {indent: 4})}\n    ${pattern('var v{var} = body.velocity.{var};', {indent: 4})}\n    var v = Math.sqrt(${pattern('v{var} * v{var}', {join: ' + '})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${pattern('body.velocity.{var} = v{var} / v;', {indent: 6})}\n    }\n\n    ${pattern('d{var} = timeStep * body.velocity.{var};', {indent: 4})}\n\n    ${pattern('body.pos.{var} += d{var};', {indent: 4})}\n\n    ${pattern('t{var} += Math.abs(d{var});', {indent: 4})}\n  }\n\n  return (${pattern('t{var} * t{var}', {join: ' + '})})/length;\n`;\n  return code;\n}\ngenerateIntegrator.generateIntegratorFunctionBody = generateIntegratorFunctionBody_1;\n\nvar spring = Spring;\n\n/**\n * Represents a physical spring. Spring connects two bodies, has rest length\n * stiffness coefficient and optional weight\n */\nfunction Spring(fromBody, toBody, length, springCoefficient) {\n    this.from = fromBody;\n    this.to = toBody;\n    this.length = length;\n    this.coefficient = springCoefficient;\n}\n\nvar ngraph_merge = merge;\n\n/**\n * Augments `target` with properties in `options`. Does not override\n * target's properties if they are defined and matches expected type in \n * options\n *\n * @returns {Object} merged object\n */\nfunction merge(target, options) {\n  var key;\n  if (!target) { target = {}; }\n  if (options) {\n    for (key in options) {\n      if (options.hasOwnProperty(key)) {\n        var targetHasIt = target.hasOwnProperty(key),\n            optionsValueType = typeof options[key],\n            shouldReplace = !targetHasIt || (typeof target[key] !== optionsValueType);\n\n        if (shouldReplace) {\n          target[key] = options[key];\n        } else if (optionsValueType === 'object') {\n          // go deep, don't care about loops here, we are simple API!:\n          target[key] = merge(target[key], options[key]);\n        }\n      }\n    }\n  }\n\n  return target;\n}\n\nvar ngraph_random = createCommonjsModule(function (module) {\nmodule.exports = random;\n\n// TODO: Deprecate?\nmodule.exports.random = random,\nmodule.exports.randomIterator = randomIterator;\n\n/**\n * Creates seeded PRNG with two methods:\n *   next() and nextDouble()\n */\nfunction random(inputSeed) {\n  var seed = typeof inputSeed === 'number' ? inputSeed : (+new Date());\n  return new Generator(seed)\n}\n\nfunction Generator(seed) {\n  this.seed = seed;\n}\n\n/**\n  * Generates random integer number in the range from 0 (inclusive) to maxValue (exclusive)\n  *\n  * @param maxValue Number REQUIRED. Omitting this number will result in NaN values from PRNG.\n  */\nGenerator.prototype.next = next;\n\n/**\n  * Generates random double number in the range from 0 (inclusive) to 1 (exclusive)\n  * This function is the same as Math.random() (except that it could be seeded)\n  */\nGenerator.prototype.nextDouble = nextDouble;\n\n/**\n * Returns a random real number from uniform distribution in [0, 1)\n */\nGenerator.prototype.uniform = nextDouble;\n\n/**\n * Returns a random real number from a Gaussian distribution\n * with 0 as a mean, and 1 as standard deviation u ~ N(0,1)\n */\nGenerator.prototype.gaussian = gaussian;\n\nfunction gaussian() {\n  // use the polar form of the Box-Muller transform\n  // based on https://introcs.cs.princeton.edu/java/23recursion/StdRandom.java\n  var r, x, y;\n  do {\n    x = this.nextDouble() * 2 - 1;\n    y = this.nextDouble() * 2 - 1;\n    r = x * x + y * y;\n  } while (r >= 1 || r === 0);\n\n  return x * Math.sqrt(-2 * Math.log(r)/r);\n}\n\n/**\n * See https://twitter.com/anvaka/status/1296182534150135808\n */\nGenerator.prototype.levy = levy;\n\nfunction levy() {\n  var beta = 3 / 2;\n  var sigma = Math.pow(\n      gamma( 1 + beta ) * Math.sin(Math.PI * beta / 2) / \n        (gamma((1 + beta) / 2) * beta * Math.pow(2, (beta - 1) / 2)),\n      1/beta\n  );\n  return this.gaussian() * sigma / Math.pow(Math.abs(this.gaussian()), 1/beta);\n}\n\n// gamma function approximation\nfunction gamma(z) {\n  return Math.sqrt(2 * Math.PI / z) * Math.pow((1 / Math.E) * (z + 1 / (12 * z - 1 / (10 * z))), z);\n}\n\nfunction nextDouble() {\n  var seed = this.seed;\n  // Robert Jenkins' 32 bit integer hash function.\n  seed = ((seed + 0x7ed55d16) + (seed << 12)) & 0xffffffff;\n  seed = ((seed ^ 0xc761c23c) ^ (seed >>> 19)) & 0xffffffff;\n  seed = ((seed + 0x165667b1) + (seed << 5)) & 0xffffffff;\n  seed = ((seed + 0xd3a2646c) ^ (seed << 9)) & 0xffffffff;\n  seed = ((seed + 0xfd7046c5) + (seed << 3)) & 0xffffffff;\n  seed = ((seed ^ 0xb55a4f09) ^ (seed >>> 16)) & 0xffffffff;\n  this.seed = seed;\n  return (seed & 0xfffffff) / 0x10000000;\n}\n\nfunction next(maxValue) {\n  return Math.floor(this.nextDouble() * maxValue);\n}\n\n/*\n * Creates iterator over array, which returns items of array in random order\n * Time complexity is guaranteed to be O(n);\n */\nfunction randomIterator(array, customRandom) {\n  var localRandom = customRandom || random();\n  if (typeof localRandom.next !== 'function') {\n    throw new Error('customRandom does not match expected API: next() function is missing');\n  }\n\n  return {\n    forEach: forEach,\n\n    /**\n     * Shuffles array randomly, in place.\n     */\n    shuffle: shuffle\n  };\n\n  function shuffle() {\n    var i, j, t;\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n    }\n\n    return array;\n  }\n\n  function forEach(callback) {\n    var i, j, t;\n    for (i = array.length - 1; i > 0; --i) {\n      j = localRandom.next(i + 1); // i inclusive\n      t = array[j];\n      array[j] = array[i];\n      array[i] = t;\n\n      callback(t);\n    }\n\n    if (array.length) {\n      callback(array[0]);\n    }\n  }\n}\n});\n\n/**\n * Manages a simulation of physical forces acting on bodies and springs.\n */\nvar createPhysicsSimulator_1 = createPhysicsSimulator;\n\n\n\n\n\n\n\n\nvar dimensionalCache = {};\n\nfunction createPhysicsSimulator(settings) {\n  var Spring = spring;\n  var merge = ngraph_merge;\n  var eventify = ngraph_events;\n  if (settings) {\n    // Check for names from older versions of the layout\n    if (settings.springCoeff !== undefined) throw new Error('springCoeff was renamed to springCoefficient');\n    if (settings.dragCoeff !== undefined) throw new Error('dragCoeff was renamed to dragCoefficient');\n  }\n\n  settings = merge(settings, {\n      /**\n       * Ideal length for links (springs in physical model).\n       */\n      springLength: 10,\n\n      /**\n       * Hook's law coefficient. 1 - solid spring.\n       */\n      springCoefficient: 0.8, \n\n      /**\n       * Coulomb's law coefficient. It's used to repel nodes thus should be negative\n       * if you make it positive nodes start attract each other :).\n       */\n      gravity: -12,\n\n      /**\n       * Theta coefficient from Barnes Hut simulation. Ranged between (0, 1).\n       * The closer it's to 1 the more nodes algorithm will have to go through.\n       * Setting it to one makes Barnes Hut simulation no different from\n       * brute-force forces calculation (each node is considered).\n       */\n      theta: 0.8,\n\n      /**\n       * Drag force coefficient. Used to slow down system, thus should be less than 1.\n       * The closer it is to 0 the less tight system will be.\n       */\n      dragCoefficient: 0.9, // TODO: Need to rename this to something better. E.g. `dragCoefficient`\n\n      /**\n       * Default time step (dt) for forces integration\n       */\n      timeStep : 0.5,\n\n      /**\n       * Adaptive time step uses average spring length to compute actual time step:\n       * See: https://twitter.com/anvaka/status/1293067160755957760\n       */\n      adaptiveTimeStepWeight: 0,\n\n      /**\n       * This parameter defines number of dimensions of the space where simulation\n       * is performed. \n       */\n      dimensions: 2,\n\n      /**\n       * In debug mode more checks are performed, this will help you catch errors\n       * quickly, however for production build it is recommended to turn off this flag\n       * to speed up computation.\n       */\n      debug: false\n  });\n\n  var factory = dimensionalCache[settings.dimensions];\n  if (!factory) {\n    var dimensions = settings.dimensions;\n    factory = {\n      Body: generateCreateBody(dimensions, settings.debug),\n      createQuadTree: generateQuadTree(dimensions),\n      createBounds: generateBounds(dimensions),\n      createDragForce: generateCreateDragForce(dimensions),\n      createSpringForce: generateCreateSpringForce(dimensions),\n      integrate: generateIntegrator(dimensions),\n    };\n    dimensionalCache[dimensions] = factory;\n  }\n\n  var Body = factory.Body;\n  var createQuadTree = factory.createQuadTree;\n  var createBounds = factory.createBounds;\n  var createDragForce = factory.createDragForce;\n  var createSpringForce = factory.createSpringForce;\n  var integrate = factory.integrate;\n  var createBody = pos => new Body(pos);\n\n  var random = ngraph_random.random(42);\n  var bodies = []; // Bodies in this simulation.\n  var springs = []; // Springs in this simulation.\n\n  var quadTree = createQuadTree(settings, random);\n  var bounds = createBounds(bodies, settings, random);\n  var springForce = createSpringForce(settings, random);\n  var dragForce = createDragForce(settings);\n\n  var totalMovement = 0; // how much movement we made on last step\n  var forces = [];\n  var forceMap = new Map();\n  var iterationNumber = 0;\n \n  addForce('nbody', nbodyForce);\n  addForce('spring', updateSpringForce);\n\n  var publicApi = {\n    /**\n     * Array of bodies, registered with current simulator\n     *\n     * Note: To add new body, use addBody() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    bodies: bodies,\n  \n    quadTree: quadTree,\n\n    /**\n     * Array of springs, registered with current simulator\n     *\n     * Note: To add new spring, use addSpring() method. This property is only\n     * exposed for testing/performance purposes.\n     */\n    springs: springs,\n\n    /**\n     * Returns settings with which current simulator was initialized\n     */\n    settings: settings,\n\n    /**\n     * Adds a new force to simulation\n     */\n    addForce: addForce,\n    \n    /**\n     * Removes a force from the simulation.\n     */\n    removeForce: removeForce,\n\n    /**\n     * Returns a map of all registered forces.\n     */\n    getForces: getForces,\n\n    /**\n     * Performs one step of force simulation.\n     *\n     * @returns {boolean} true if system is considered stable; False otherwise.\n     */\n    step: function () {\n      for (var i = 0; i < forces.length; ++i) {\n        forces[i](iterationNumber);\n      }\n      var movement = integrate(bodies, settings.timeStep, settings.adaptiveTimeStepWeight);\n      iterationNumber += 1;\n      return movement;\n    },\n\n    /**\n     * Adds body to the system\n     *\n     * @param {ngraph.physics.primitives.Body} body physical body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBody: function (body) {\n      if (!body) {\n        throw new Error('Body is required');\n      }\n      bodies.push(body);\n\n      return body;\n    },\n\n    /**\n     * Adds body to the system at given position\n     *\n     * @param {Object} pos position of a body\n     *\n     * @returns {ngraph.physics.primitives.Body} added body\n     */\n    addBodyAt: function (pos) {\n      if (!pos) {\n        throw new Error('Body position is required');\n      }\n      var body = createBody(pos);\n      bodies.push(body);\n\n      return body;\n    },\n\n    /**\n     * Removes body from the system\n     *\n     * @param {ngraph.physics.primitives.Body} body to remove\n     *\n     * @returns {Boolean} true if body found and removed. falsy otherwise;\n     */\n    removeBody: function (body) {\n      if (!body) { return; }\n\n      var idx = bodies.indexOf(body);\n      if (idx < 0) { return; }\n\n      bodies.splice(idx, 1);\n      if (bodies.length === 0) {\n        bounds.reset();\n      }\n      return true;\n    },\n\n    /**\n     * Adds a spring to this simulation.\n     *\n     * @returns {Object} - a handle for a spring. If you want to later remove\n     * spring pass it to removeSpring() method.\n     */\n    addSpring: function (body1, body2, springLength, springCoefficient) {\n      if (!body1 || !body2) {\n        throw new Error('Cannot add null spring to force simulator');\n      }\n\n      if (typeof springLength !== 'number') {\n        springLength = -1; // assume global configuration\n      }\n\n      var spring = new Spring(body1, body2, springLength, springCoefficient >= 0 ? springCoefficient : -1);\n      springs.push(spring);\n\n      // TODO: could mark simulator as dirty.\n      return spring;\n    },\n\n    /**\n     * Returns amount of movement performed on last step() call\n     */\n    getTotalMovement: function () {\n      return totalMovement;\n    },\n\n    /**\n     * Removes spring from the system\n     *\n     * @param {Object} spring to remove. Spring is an object returned by addSpring\n     *\n     * @returns {Boolean} true if spring found and removed. falsy otherwise;\n     */\n    removeSpring: function (spring) {\n      if (!spring) { return; }\n      var idx = springs.indexOf(spring);\n      if (idx > -1) {\n        springs.splice(idx, 1);\n        return true;\n      }\n    },\n\n    getBestNewBodyPosition: function (neighbors) {\n      return bounds.getBestNewPosition(neighbors);\n    },\n\n    /**\n     * Returns bounding box which covers all bodies\n     */\n    getBBox: getBoundingBox, \n    getBoundingBox: getBoundingBox, \n\n    invalidateBBox: function () {\n      console.warn('invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call');\n    },\n\n    // TODO: Move the force specific stuff to force\n    gravity: function (value) {\n      if (value !== undefined) {\n        settings.gravity = value;\n        quadTree.options({gravity: value});\n        return this;\n      } else {\n        return settings.gravity;\n      }\n    },\n\n    theta: function (value) {\n      if (value !== undefined) {\n        settings.theta = value;\n        quadTree.options({theta: value});\n        return this;\n      } else {\n        return settings.theta;\n      }\n    },\n\n    /**\n     * Returns pseudo-random number generator instance.\n     */\n    random: random\n  };\n\n  // allow settings modification via public API:\n  expose(settings, publicApi);\n\n  eventify(publicApi);\n\n  return publicApi;\n\n  function getBoundingBox() {\n    bounds.update();\n    return bounds.box;\n  }\n\n  function addForce(forceName, forceFunction) {\n    if (forceMap.has(forceName)) throw new Error('Force ' + forceName + ' is already added');\n\n    forceMap.set(forceName, forceFunction);\n    forces.push(forceFunction);\n  }\n\n  function removeForce(forceName) {\n    var forceIndex = forces.indexOf(forceMap.get(forceName));\n    if (forceIndex < 0) return;\n    forces.splice(forceIndex, 1);\n    forceMap.delete(forceName);\n  }\n\n  function getForces() {\n    // TODO: Should I trust them or clone the forces?\n    return forceMap;\n  }\n\n  function nbodyForce(/* iterationUmber */) {\n    if (bodies.length === 0) return;\n\n    quadTree.insertBodies(bodies);\n    var i = bodies.length;\n    while (i--) {\n      var body = bodies[i];\n      if (!body.isPinned) {\n        body.reset();\n        quadTree.updateBodyForce(body);\n        dragForce.update(body);\n      }\n    }\n  }\n\n  function updateSpringForce() {\n    var i = springs.length;\n    while (i--) {\n      springForce.update(springs[i]);\n    }\n  }\n\n}\n\nfunction expose(settings, target) {\n  for (var key in settings) {\n    augment(settings, target, key);\n  }\n}\n\nfunction augment(source, target, key) {\n  if (!source.hasOwnProperty(key)) return;\n  if (typeof target[key] === 'function') {\n    // this accessor is already defined. Ignore it\n    return;\n  }\n  var sourceIsNumber = Number.isFinite(source[key]);\n\n  if (sourceIsNumber) {\n    target[key] = function (value) {\n      if (value !== undefined) {\n        if (!Number.isFinite(value)) throw new Error('Value of ' + key + ' should be a valid number.');\n        source[key] = value;\n        return target;\n      }\n      return source[key];\n    };\n  } else {\n    target[key] = function (value) {\n      if (value !== undefined) {\n        source[key] = value;\n        return target;\n      }\n      return source[key];\n    };\n  }\n}\n\nvar ngraph_forcelayout = createLayout;\nvar simulator = createPhysicsSimulator_1;\n\n\n\n/**\n * Creates force based layout for a given graph.\n *\n * @param {ngraph.graph} graph which needs to be laid out\n * @param {object} physicsSettings if you need custom settings\n * for physics simulator you can pass your own settings here. If it's not passed\n * a default one will be created.\n */\nfunction createLayout(graph, physicsSettings) {\n  if (!graph) {\n    throw new Error('Graph structure cannot be undefined');\n  }\n\n  var createSimulator = (physicsSettings && physicsSettings.createSimulator) || createPhysicsSimulator_1;\n  var physicsSimulator = createSimulator(physicsSettings);\n  if (Array.isArray(physicsSettings)) throw new Error('Physics settings is expected to be an object');\n\n  var nodeMass = defaultNodeMass;\n  if (physicsSettings && typeof physicsSettings.nodeMass === 'function') {\n    nodeMass = physicsSettings.nodeMass;\n  }\n\n  var nodeBodies = new Map();\n  var springs = {};\n  var bodiesCount = 0;\n\n  var springTransform = physicsSimulator.settings.springTransform || noop;\n\n  // Initialize physics with what we have in the graph:\n  initPhysics();\n  listenToEvents();\n\n  var wasStable = false;\n\n  var api = {\n    /**\n     * Performs one step of iterative layout algorithm\n     *\n     * @returns {boolean} true if the system should be considered stable; False otherwise.\n     * The system is stable if no further call to `step()` can improve the layout.\n     */\n    step: function() {\n      if (bodiesCount === 0) {\n        updateStableStatus(true);\n        return true;\n      }\n\n      var lastMove = physicsSimulator.step();\n\n      // Save the movement in case if someone wants to query it in the step\n      // callback.\n      api.lastMove = lastMove;\n\n      // Allow listeners to perform low-level actions after nodes are updated.\n      api.fire('step');\n\n      var ratio = lastMove/bodiesCount;\n      var isStableNow = ratio <= 0.01; // TODO: The number is somewhat arbitrary...\n      updateStableStatus(isStableNow);\n\n\n      return isStableNow;\n    },\n\n    /**\n     * For a given `nodeId` returns position\n     */\n    getNodePosition: function (nodeId) {\n      return getInitializedBody(nodeId).pos;\n    },\n\n    /**\n     * Sets position of a node to a given coordinates\n     * @param {string} nodeId node identifier\n     * @param {number} x position of a node\n     * @param {number} y position of a node\n     * @param {number=} z position of node (only if applicable to body)\n     */\n    setNodePosition: function (nodeId) {\n      var body = getInitializedBody(nodeId);\n      body.setPosition.apply(body, Array.prototype.slice.call(arguments, 1));\n    },\n\n    /**\n     * @returns {Object} Link position by link id\n     * @returns {Object.from} {x, y} coordinates of link start\n     * @returns {Object.to} {x, y} coordinates of link end\n     */\n    getLinkPosition: function (linkId) {\n      var spring = springs[linkId];\n      if (spring) {\n        return {\n          from: spring.from.pos,\n          to: spring.to.pos\n        };\n      }\n    },\n\n    /**\n     * @returns {Object} area required to fit in the graph. Object contains\n     * `x1`, `y1` - top left coordinates\n     * `x2`, `y2` - bottom right coordinates\n     */\n    getGraphRect: function () {\n      return physicsSimulator.getBBox();\n    },\n\n    /**\n     * Iterates over each body in the layout simulator and performs a callback(body, nodeId)\n     */\n    forEachBody: forEachBody,\n\n    /*\n     * Requests layout algorithm to pin/unpin node to its current position\n     * Pinned nodes should not be affected by layout algorithm and always\n     * remain at their position\n     */\n    pinNode: function (node, isPinned) {\n      var body = getInitializedBody(node.id);\n       body.isPinned = !!isPinned;\n    },\n\n    /**\n     * Checks whether given graph's node is currently pinned\n     */\n    isNodePinned: function (node) {\n      return getInitializedBody(node.id).isPinned;\n    },\n\n    /**\n     * Request to release all resources\n     */\n    dispose: function() {\n      graph.off('changed', onGraphChanged);\n      api.fire('disposed');\n    },\n\n    /**\n     * Gets physical body for a given node id. If node is not found undefined\n     * value is returned.\n     */\n    getBody: getBody,\n\n    /**\n     * Gets spring for a given edge.\n     *\n     * @param {string} linkId link identifer. If two arguments are passed then\n     * this argument is treated as formNodeId\n     * @param {string=} toId when defined this parameter denotes head of the link\n     * and first argument is treated as tail of the link (fromId)\n     */\n    getSpring: getSpring,\n\n    /**\n     * Returns length of cumulative force vector. The closer this to zero - the more stable the system is\n     */\n    getForceVectorLength: getForceVectorLength,\n\n    /**\n     * [Read only] Gets current physics simulator\n     */\n    simulator: physicsSimulator,\n\n    /**\n     * Gets the graph that was used for layout\n     */\n    graph: graph,\n\n    /**\n     * Gets amount of movement performed during last step operation\n     */\n    lastMove: 0\n  };\n\n  ngraph_events(api);\n\n  return api;\n\n  function updateStableStatus(isStableNow) {\n    if (wasStable !== isStableNow) {\n      wasStable = isStableNow;\n      onStableChanged(isStableNow);\n    }\n  }\n\n  function forEachBody(cb) {\n    nodeBodies.forEach(cb);\n  }\n\n  function getForceVectorLength() {\n    var fx = 0, fy = 0;\n    forEachBody(function(body) {\n      fx += Math.abs(body.force.x);\n      fy += Math.abs(body.force.y);\n    });\n    return Math.sqrt(fx * fx + fy * fy);\n  }\n\n  function getSpring(fromId, toId) {\n    var linkId;\n    if (toId === undefined) {\n      if (typeof fromId !== 'object') {\n        // assume fromId as a linkId:\n        linkId = fromId;\n      } else {\n        // assume fromId to be a link object:\n        linkId = fromId.id;\n      }\n    } else {\n      // toId is defined, should grab link:\n      var link = graph.hasLink(fromId, toId);\n      if (!link) return;\n      linkId = link.id;\n    }\n\n    return springs[linkId];\n  }\n\n  function getBody(nodeId) {\n    return nodeBodies.get(nodeId);\n  }\n\n  function listenToEvents() {\n    graph.on('changed', onGraphChanged);\n  }\n\n  function onStableChanged(isStable) {\n    api.fire('stable', isStable);\n  }\n\n  function onGraphChanged(changes) {\n    for (var i = 0; i < changes.length; ++i) {\n      var change = changes[i];\n      if (change.changeType === 'add') {\n        if (change.node) {\n          initBody(change.node.id);\n        }\n        if (change.link) {\n          initLink(change.link);\n        }\n      } else if (change.changeType === 'remove') {\n        if (change.node) {\n          releaseNode(change.node);\n        }\n        if (change.link) {\n          releaseLink(change.link);\n        }\n      }\n    }\n    bodiesCount = graph.getNodesCount();\n  }\n\n  function initPhysics() {\n    bodiesCount = 0;\n\n    graph.forEachNode(function (node) {\n      initBody(node.id);\n      bodiesCount += 1;\n    });\n\n    graph.forEachLink(initLink);\n  }\n\n  function initBody(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    if (!body) {\n      var node = graph.getNode(nodeId);\n      if (!node) {\n        throw new Error('initBody() was called with unknown node id');\n      }\n\n      var pos = node.position;\n      if (!pos) {\n        var neighbors = getNeighborBodies(node);\n        pos = physicsSimulator.getBestNewBodyPosition(neighbors);\n      }\n\n      body = physicsSimulator.addBodyAt(pos);\n      body.id = nodeId;\n\n      nodeBodies.set(nodeId, body);\n      updateBodyMass(nodeId);\n\n      if (isNodeOriginallyPinned(node)) {\n        body.isPinned = true;\n      }\n    }\n  }\n\n  function releaseNode(node) {\n    var nodeId = node.id;\n    var body = nodeBodies.get(nodeId);\n    if (body) {\n      nodeBodies.delete(nodeId);\n      physicsSimulator.removeBody(body);\n    }\n  }\n\n  function initLink(link) {\n    updateBodyMass(link.fromId);\n    updateBodyMass(link.toId);\n\n    var fromBody = nodeBodies.get(link.fromId),\n        toBody  = nodeBodies.get(link.toId),\n        spring = physicsSimulator.addSpring(fromBody, toBody, link.length);\n\n    springTransform(link, spring);\n\n    springs[link.id] = spring;\n  }\n\n  function releaseLink(link) {\n    var spring = springs[link.id];\n    if (spring) {\n      var from = graph.getNode(link.fromId),\n          to = graph.getNode(link.toId);\n\n      if (from) updateBodyMass(from.id);\n      if (to) updateBodyMass(to.id);\n\n      delete springs[link.id];\n\n      physicsSimulator.removeSpring(spring);\n    }\n  }\n\n  function getNeighborBodies(node) {\n    // TODO: Could probably be done better on memory\n    var neighbors = [];\n    if (!node.links) {\n      return neighbors;\n    }\n    var maxNeighbors = Math.min(node.links.length, 2);\n    for (var i = 0; i < maxNeighbors; ++i) {\n      var link = node.links[i];\n      var otherBody = link.fromId !== node.id ? nodeBodies.get(link.fromId) : nodeBodies.get(link.toId);\n      if (otherBody && otherBody.pos) {\n        neighbors.push(otherBody);\n      }\n    }\n\n    return neighbors;\n  }\n\n  function updateBodyMass(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    body.mass = nodeMass(nodeId);\n    if (Number.isNaN(body.mass)) {\n      throw new Error('Node mass should be a number');\n    }\n  }\n\n  /**\n   * Checks whether graph node has in its settings pinned attribute,\n   * which means layout algorithm cannot move it. Node can be marked\n   * as pinned, if it has \"isPinned\" attribute, or when node.data has it.\n   *\n   * @param {Object} node a graph node to check\n   * @return {Boolean} true if node should be treated as pinned; false otherwise.\n   */\n  function isNodeOriginallyPinned(node) {\n    return (node && (node.isPinned || (node.data && node.data.isPinned)));\n  }\n\n  function getInitializedBody(nodeId) {\n    var body = nodeBodies.get(nodeId);\n    if (!body) {\n      initBody(nodeId);\n      body = nodeBodies.get(nodeId);\n    }\n    return body;\n  }\n\n  /**\n   * Calculates mass of a body, which corresponds to node with given id.\n   *\n   * @param {String|Number} nodeId identifier of a node, for which body mass needs to be calculated\n   * @returns {Number} recommended mass of the body;\n   */\n  function defaultNodeMass(nodeId) {\n    var links = graph.getLinks(nodeId);\n    if (!links) return 1;\n    return 1 + links.length / 3.0;\n  }\n}\n\nfunction noop() { }\nngraph_forcelayout.simulator = simulator;\n\nexport default ngraph_forcelayout;\n", "import { t as timer } from './common/timer-0f89e737.js';\nimport { d as dispatch } from './common/dispatch-a4cc9f48.js';\n\nfunction center(x, y, z) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n  if (z == null) z = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0,\n        sz = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x || 0, sy += node.y || 0, sz += node.z || 0;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, sz = (sz / n - z) * strength, i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (sx) { node.x -= sx; }\n      if (sy) { node.y -= sy; }\n      if (sz) { node.z -= sz; }\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.z = function(_) {\n    return arguments.length ? (z = +_, force) : z;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n\nfunction tree_add(d) {\n  var x = +this._x.call(null, d);\n  return add(this.cover(x), x, d);\n}\n\nfunction add(tree, x, d) {\n  if (isNaN(x)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      x1 = tree._x1,\n      xm,\n      xp,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (parent = node, !(node = node[i = +right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  if (x === xp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(2) : tree._root = new Array(2);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n  } while ((i = +right) === (j = +(xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nfunction addAll(data) {\n  var i, n = data.length,\n      x,\n      xz = new Array(n),\n      x0 = Infinity,\n      x1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, data[i]))) continue;\n    xz[i] = x;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0).cover(x1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], data[i]);\n  }\n\n  return this;\n}\n\nfunction tree_cover(x) {\n  if (isNaN(x = +x)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      x1 = this._x1;\n\n  // If the binarytree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing half boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1) {\n      i = +(x < x0);\n      parent = new Array(2), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z; break;\n        case 1: x0 = x1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._x1 = x1;\n  return this;\n}\n\nfunction tree_data() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n\nfunction tree_extent(_) {\n  return arguments.length\n      ? this.cover(+_[0][0]).cover(+_[1][0])\n      : isNaN(this._x0) ? undefined : [[this._x0], [this._x1]];\n}\n\nfunction Half(node, x0, x1) {\n  this.node = node;\n  this.x0 = x0;\n  this.x1 = x1;\n}\n\nfunction tree_find(x, radius) {\n  var data,\n      x0 = this._x0,\n      x1,\n      x2,\n      x3 = this._x1,\n      halves = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) halves.push(new Half(node, x0, x3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius;\n    x3 = x + radius;\n  }\n\n  while (q = halves.pop()) {\n\n    // Stop searching if this half can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (x2 = q.x1) < x0) continue;\n\n    // Bisect the current half.\n    if (node.length) {\n      var xm = (x1 + x2) / 2;\n\n      halves.push(\n        new Half(node[1], xm, x2),\n        new Half(node[0], x1, xm)\n      );\n\n      // Visit the closest half first.\n      if (i = +(x >= xm)) {\n        q = halves[halves.length - 1];\n        halves[halves.length - 1] = halves[halves.length - 1 - i];\n        halves[halves.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var d = Math.abs(x - +this._x.call(null, node.data));\n      if (d < radius) {\n        radius = d;\n        x0 = x - d;\n        x3 = x + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n\nfunction tree_remove(d) {\n  if (isNaN(x = +this._x.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      x1 = this._x1,\n      x,\n      xm,\n      right,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (!(parent = node, node = node[i = +right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 1]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1])\n      && node === (parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nfunction removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n\nfunction tree_root() {\n  return this._root;\n}\n\nfunction tree_size() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n\nfunction tree_visit(callback) {\n  var halves = [], q, node = this._root, child, x0, x1;\n  if (node) halves.push(new Half(node, this._x0, this._x1));\n  while (q = halves.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, x1 = q.x1) && node.length) {\n      var xm = (x0 + x1) / 2;\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n    }\n  }\n  return this;\n}\n\nfunction tree_visitAfter(callback) {\n  var halves = [], next = [], q;\n  if (this._root) halves.push(new Half(this._root, this._x0, this._x1));\n  while (q = halves.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, x1 = q.x1, xm = (x0 + x1) / 2;\n      if (child = node[0]) halves.push(new Half(child, x0, xm));\n      if (child = node[1]) halves.push(new Half(child, xm, x1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.x1);\n  }\n  return this;\n}\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction tree_x(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n\nfunction binarytree(nodes, x) {\n  var tree = new Binarytree(x == null ? defaultX : x, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Binarytree(x, x0, x1) {\n  this._x = x;\n  this._x0 = x0;\n  this._x1 = x1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = binarytree.prototype = Binarytree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Binarytree(this._x, this._x0, this._x1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(2)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 2; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(2)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\n\nfunction tree_add$1(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add$1(this.cover(x, y), x, y, d);\n}\n\nfunction add$1(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nfunction addAll$1(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add$1(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n\nfunction tree_cover$1(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n\nfunction tree_data$1() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n\nfunction tree_extent$1(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n\nfunction Quad(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n\nfunction tree_find$1(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n\nfunction tree_remove$1(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nfunction removeAll$1(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n\nfunction tree_root$1() {\n  return this._root;\n}\n\nfunction tree_size$1() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n\nfunction tree_visit$1(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n\nfunction tree_visitAfter$1(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n\nfunction defaultX$1(d) {\n  return d[0];\n}\n\nfunction tree_x$1(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction tree_y(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n\nfunction quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX$1 : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy$1(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto$1 = quadtree.prototype = Quadtree.prototype;\n\ntreeProto$1.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy$1(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy$1(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto$1.add = tree_add$1;\ntreeProto$1.addAll = addAll$1;\ntreeProto$1.cover = tree_cover$1;\ntreeProto$1.data = tree_data$1;\ntreeProto$1.extent = tree_extent$1;\ntreeProto$1.find = tree_find$1;\ntreeProto$1.remove = tree_remove$1;\ntreeProto$1.removeAll = removeAll$1;\ntreeProto$1.root = tree_root$1;\ntreeProto$1.size = tree_size$1;\ntreeProto$1.visit = tree_visit$1;\ntreeProto$1.visitAfter = tree_visitAfter$1;\ntreeProto$1.x = tree_x$1;\ntreeProto$1.y = tree_y;\n\nfunction tree_add$2(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d),\n      z = +this._z.call(null, d);\n  return add$2(this.cover(x, y, z), x, y, z, d);\n}\n\nfunction add$2(tree, x, y, z, d) {\n  if (isNaN(x) || isNaN(y) || isNaN(z)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      z0 = tree._z0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      z1 = tree._z1,\n      xm,\n      ym,\n      zm,\n      xp,\n      yp,\n      zp,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (parent = node, !(node = node[i = deep << 2 | bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  zp = +tree._z.call(null, node.data);\n  if (x === xp && y === yp && z === zp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(8) : tree._root = new Array(8);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n  } while ((i = deep << 2 | bottom << 1 | right) === (j = (zp >= zm) << 2 | (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nfunction addAll$2(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      z,\n      xz = new Array(n),\n      yz = new Array(n),\n      zz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      z0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity,\n      z1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    zz[i] = z;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n    if (z < z0) z0 = z;\n    if (z > z1) z1 = z;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1 || z0 > z1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0, z0).cover(x1, y1, z1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add$2(this, xz[i], yz[i], zz[i], data[i]);\n  }\n\n  return this;\n}\n\nfunction tree_cover$2(x, y, z) {\n  if (isNaN(x = +x) || isNaN(y = +y) || isNaN(z = +z)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1;\n\n  // If the octree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing octant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n    z1 = (z0 = Math.floor(z)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var t = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1 || z0 > z || z >= z1) {\n      i = (z < z0) << 2 | (y < y0) << 1 | (x < x0);\n      parent = new Array(8), parent[i] = node, node = parent, t *= 2;\n      switch (i) {\n        case 0: x1 = x0 + t, y1 = y0 + t, z1 = z0 + t; break;\n        case 1: x0 = x1 - t, y1 = y0 + t, z1 = z0 + t; break;\n        case 2: x1 = x0 + t, y0 = y1 - t, z1 = z0 + t; break;\n        case 3: x0 = x1 - t, y0 = y1 - t, z1 = z0 + t; break;\n        case 4: x1 = x0 + t, y1 = y0 + t, z0 = z1 - t; break;\n        case 5: x0 = x1 - t, y1 = y0 + t, z0 = z1 - t; break;\n        case 6: x1 = x0 + t, y0 = y1 - t, z0 = z1 - t; break;\n        case 7: x0 = x1 - t, y0 = y1 - t, z0 = z1 - t; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  return this;\n}\n\nfunction tree_data$2() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n\nfunction tree_extent$2(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1], +_[0][2]).cover(+_[1][0], +_[1][1], +_[1][2])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0, this._z0], [this._x1, this._y1, this._z1]];\n}\n\nfunction Octant(node, x0, y0, z0, x1, y1, z1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.z0 = z0;\n  this.x1 = x1;\n  this.y1 = y1;\n  this.z1 = z1;\n}\n\nfunction tree_find$2(x, y, z, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1,\n      y1,\n      z1,\n      x2,\n      y2,\n      z2,\n      x3 = this._x1,\n      y3 = this._y1,\n      z3 = this._z1,\n      octs = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) octs.push(new Octant(node, x0, y0, z0, x3, y3, z3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius, z0 = z - radius;\n    x3 = x + radius, y3 = y + radius, z3 = z + radius;\n    radius *= radius;\n  }\n\n  while (q = octs.pop()) {\n\n    // Stop searching if this octant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (z1 = q.z0) > z3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0\n        || (z2 = q.z1) < z0) continue;\n\n    // Bisect the current octant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2,\n          zm = (z1 + z2) / 2;\n\n      octs.push(\n        new Octant(node[7], xm, ym, zm, x2, y2, z2),\n        new Octant(node[6], x1, ym, zm, xm, y2, z2),\n        new Octant(node[5], xm, y1, zm, x2, ym, z2),\n        new Octant(node[4], x1, y1, zm, xm, ym, z2),\n        new Octant(node[3], xm, ym, z1, x2, y2, zm),\n        new Octant(node[2], x1, ym, z1, xm, y2, zm),\n        new Octant(node[1], xm, y1, z1, x2, ym, zm),\n        new Octant(node[0], x1, y1, z1, xm, ym, zm)\n      );\n\n      // Visit the closest octant first.\n      if (i = (z >= zm) << 2 | (y >= ym) << 1 | (x >= xm)) {\n        q = octs[octs.length - 1];\n        octs[octs.length - 1] = octs[octs.length - 1 - i];\n        octs[octs.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          dz = z - +this._z.call(null, node.data),\n          d2 = dx * dx + dy * dy + dz * dz;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d, z0 = z - d;\n        x3 = x + d, y3 = y + d, z3 = z + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n\nfunction tree_remove$2(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d)) || isNaN(z = +this._z.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      z0 = this._z0,\n      x1 = this._x1,\n      y1 = this._y1,\n      z1 = this._z1,\n      x,\n      y,\n      z,\n      xm,\n      ym,\n      zm,\n      right,\n      bottom,\n      deep,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (deep = z >= (zm = (z0 + z1) / 2)) z0 = zm; else z1 = zm;\n    if (!(parent = node, node = node[i = deep << 2 | bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 7] || parent[(i + 2) & 7] || parent[(i + 3) & 7] || parent[(i + 4) & 7] || parent[(i + 5) & 7] || parent[(i + 6) & 7] || parent[(i + 7) & 7]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3] || parent[4] || parent[5] || parent[6] || parent[7])\n      && node === (parent[7] || parent[6] || parent[5] || parent[4] || parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nfunction removeAll$2(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n\nfunction tree_root$2() {\n  return this._root;\n}\n\nfunction tree_size$2() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n\nfunction tree_visit$2(callback) {\n  var octs = [], q, node = this._root, child, x0, y0, z0, x1, y1, z1;\n  if (node) octs.push(new Octant(node, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n    }\n  }\n  return this;\n}\n\nfunction tree_visitAfter$2(callback) {\n  var octs = [], next = [], q;\n  if (this._root) octs.push(new Octant(this._root, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1));\n  while (q = octs.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, z0 = q.z0, x1 = q.x1, y1 = q.y1, z1 = q.z1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2, zm = (z0 + z1) / 2;\n      if (child = node[0]) octs.push(new Octant(child, x0, y0, z0, xm, ym, zm));\n      if (child = node[1]) octs.push(new Octant(child, xm, y0, z0, x1, ym, zm));\n      if (child = node[2]) octs.push(new Octant(child, x0, ym, z0, xm, y1, zm));\n      if (child = node[3]) octs.push(new Octant(child, xm, ym, z0, x1, y1, zm));\n      if (child = node[4]) octs.push(new Octant(child, x0, y0, zm, xm, ym, z1));\n      if (child = node[5]) octs.push(new Octant(child, xm, y0, zm, x1, ym, z1));\n      if (child = node[6]) octs.push(new Octant(child, x0, ym, zm, xm, y1, z1));\n      if (child = node[7]) octs.push(new Octant(child, xm, ym, zm, x1, y1, z1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.z0, q.x1, q.y1, q.z1);\n  }\n  return this;\n}\n\nfunction defaultX$2(d) {\n  return d[0];\n}\n\nfunction tree_x$2(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n\nfunction defaultY$1(d) {\n  return d[1];\n}\n\nfunction tree_y$1(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n\nfunction defaultZ(d) {\n  return d[2];\n}\n\nfunction tree_z(_) {\n  return arguments.length ? (this._z = _, this) : this._z;\n}\n\nfunction octree(nodes, x, y, z) {\n  var tree = new Octree(x == null ? defaultX$2 : x, y == null ? defaultY$1 : y, z == null ? defaultZ : z, NaN, NaN, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Octree(x, y, z, x0, y0, z0, x1, y1, z1) {\n  this._x = x;\n  this._y = y;\n  this._z = z;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._z0 = z0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._z1 = z1;\n  this._root = undefined;\n}\n\nfunction leaf_copy$2(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto$2 = octree.prototype = Octree.prototype;\n\ntreeProto$2.copy = function() {\n  var copy = new Octree(this._x, this._y, this._z, this._x0, this._y0, this._z0, this._x1, this._y1, this._z1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy$2(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(8)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 8; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(8)});\n        else node.target[i] = leaf_copy$2(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto$2.add = tree_add$2;\ntreeProto$2.addAll = addAll$2;\ntreeProto$2.cover = tree_cover$2;\ntreeProto$2.data = tree_data$2;\ntreeProto$2.extent = tree_extent$2;\ntreeProto$2.find = tree_find$2;\ntreeProto$2.remove = tree_remove$2;\ntreeProto$2.removeAll = removeAll$2;\ntreeProto$2.root = tree_root$2;\ntreeProto$2.size = tree_size$2;\ntreeProto$2.visit = tree_visit$2;\ntreeProto$2.visitAfter = tree_visitAfter$2;\ntreeProto$2.x = tree_x$2;\ntreeProto$2.y = tree_y$1;\ntreeProto$2.z = tree_z;\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction jiggle(random) {\n  return (random() - 0.5) * 1e-6;\n}\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nfunction link(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      nDim,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x = 0, y = 0, z = 0, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        if (nDim > 1) { y = target.y + target.vy - source.y - source.vy || jiggle(random); }\n        if (nDim > 2) { z = target.z + target.vz - source.z - source.vz || jiggle(random); }\n        l = Math.sqrt(x * x + y * y + z * z);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l, z *= l;\n\n        target.vx -= x * (b = bias[i]);\n        if (nDim > 1) { target.vy -= y * b; }\n        if (nDim > 2) { target.vz -= z * b; }\n\n        source.vx += x * (b = 1 - b);\n        if (nDim > 1) { source.vy += y * b; }\n        if (nDim > 2) { source.vz += z * b; }\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n\n// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nfunction lcg() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n\nvar MAX_DIMENSIONS = 3;\n\nfunction x(d) {\n  return d.x;\n}\n\nfunction y(d) {\n  return d.y;\n}\n\nfunction z(d) {\n  return d.z;\n}\n\nvar initialRadius = 10,\n    initialAngleRoll = Math.PI * (3 - Math.sqrt(5)), // Golden ratio angle\n    initialAngleYaw = Math.PI * 20 / (9 + Math.sqrt(221)); // Markov irrational number\n\nfunction simulation(nodes, numDimensions) {\n  numDimensions = numDimensions || 2;\n\n  var nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(numDimensions))),\n      simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function (force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (nDim > 1) {\n          if (node.fy == null) node.y += node.vy *= velocityDecay;\n          else node.y = node.fy, node.vy = 0;\n        }\n        if (nDim > 2) {\n          if (node.fz == null) node.z += node.vz *= velocityDecay;\n          else node.z = node.fz, node.vz = 0;\n        }\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (node.fz != null) node.z = node.fz;\n      if (isNaN(node.x) || (nDim > 1 && isNaN(node.y)) || (nDim > 2 && isNaN(node.z))) {\n        var radius = initialRadius * (nDim > 2 ? Math.cbrt(0.5 + i) : (nDim > 1 ? Math.sqrt(0.5 + i) : i)),\n          rollAngle = i * initialAngleRoll,\n          yawAngle = i * initialAngleYaw;\n\n        if (nDim === 1) {\n          node.x = radius;\n        } else if (nDim === 2) {\n          node.x = radius * Math.cos(rollAngle);\n          node.y = radius * Math.sin(rollAngle);\n        } else { // 3 dimensions: use spherical distribution along 2 irrational number angles\n          node.x = radius * Math.sin(rollAngle) * Math.cos(yawAngle);\n          node.y = radius * Math.cos(rollAngle);\n          node.z = radius * Math.sin(rollAngle) * Math.sin(yawAngle);\n        }\n      }\n      if (isNaN(node.vx) || (nDim > 1 && isNaN(node.vy)) || (nDim > 2 && isNaN(node.vz))) {\n        node.vx = 0;\n        if (nDim > 1) { node.vy = 0; }\n        if (nDim > 2) { node.vz = 0; }\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random, nDim);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    numDimensions: function(_) {\n      return arguments.length\n          ? (nDim = Math.min(MAX_DIMENSIONS, Math.max(1, Math.round(_))), forces.forEach(initializeForce), simulation)\n          : nDim;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function() {\n      var args = Array.prototype.slice.call(arguments);\n      var x = args.shift() || 0,\n          y = (nDim > 1 ? args.shift() : null) || 0,\n          z = (nDim > 2 ? args.shift() : null) || 0,\n          radius = args.shift() || Infinity;\n\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          dz,\n          d2,\n          node,\n          closest;\n\n      radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - (node.y || 0);\n        dz = z - (node.z ||0);\n        d2 = dx * dx + dy * dy + dz * dz;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n\nfunction manyBody() {\n  var nodes,\n      nDim,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i,\n        n = nodes.length,\n        tree =\n            (nDim === 1 ? binarytree(nodes, x)\n            :(nDim === 2 ? quadtree(nodes, x, y)\n            :(nDim === 3 ? octree(nodes, x, y, z)\n            :null\n        ))).visitAfter(accumulate);\n\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(treeNode) {\n    var strength = 0, q, c, weight = 0, x, y, z, i;\n    var numChildren = treeNode.length;\n\n    // For internal nodes, accumulate forces from children.\n    if (numChildren) {\n      for (x = y = z = i = 0; i < numChildren; ++i) {\n        if ((q = treeNode[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * (q.x || 0), y += c * (q.y || 0), z += c * (q.z || 0);\n        }\n      }\n      strength *= Math.sqrt(4 / numChildren); // scale accumulated strength according to number of dimensions\n\n      treeNode.x = x / weight;\n      if (nDim > 1) { treeNode.y = y / weight; }\n      if (nDim > 2) { treeNode.z = z / weight; }\n    }\n\n    // For leaf nodes, accumulate forces from coincident nodes.\n    else {\n      q = treeNode;\n      q.x = q.data.x;\n      if (nDim > 1) { q.y = q.data.y; }\n      if (nDim > 2) { q.z = q.data.z; }\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    treeNode.value = strength;\n  }\n\n  function apply(treeNode, x1, arg1, arg2, arg3) {\n    if (!treeNode.value) return true;\n    var x2 = [arg1, arg2, arg3][nDim-1];\n\n    var x = treeNode.x - node.x,\n        y = (nDim > 1 ? treeNode.y - node.y : 0),\n        z = (nDim > 2 ? treeNode.z - node.z : 0),\n        w = x2 - x1,\n        l = x * x + y * y + z * z;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n        if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * treeNode.value * alpha / l;\n        if (nDim > 1) { node.vy += y * treeNode.value * alpha / l; }\n        if (nDim > 2) { node.vz += z * treeNode.value * alpha / l; }\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (treeNode.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (treeNode.data !== node || treeNode.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (nDim > 1 && y === 0) y = jiggle(random), l += y * y;\n      if (nDim > 2 && z === 0) z = jiggle(random), l += z * z;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (treeNode.data !== node) {\n      w = strengths[treeNode.data.index] * alpha / l;\n      node.vx += x * w;\n      if (nDim > 1) { node.vy += y * w; }\n      if (nDim > 2) { node.vz += z * w; }\n    } while (treeNode = treeNode.next);\n  }\n\n  force.initialize = function(_nodes, ...args) {\n    nodes = _nodes;\n    random = args.find(arg => typeof arg === 'function') || Math.random;\n    nDim = args.find(arg => [1, 2, 3].includes(arg)) || 2;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n\nexport { center as forceCenter, link as forceLink, manyBody as forceManyBody, simulation as forceSimulation };\n", "import { c as createCommonjsModule, a as commonjsRequire } from './common/_commonjsHelpers-edfea8af.js';\n\nvar pica = createCommonjsModule(function (module, exports) {\n/*!\n\npica\nhttps://github.com/nodeca/pica\n\n*/\n\n(function(f){{module.exports=f();}})(function(){return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof commonjsRequire&&commonjsRequire;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t);}return n[i].exports}for(var u=\"function\"==typeof commonjsRequire&&commonjsRequire,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n\nvar inherits = _dereq_('inherits');\n\nvar Multimath = _dereq_('multimath');\n\nvar mm_unsharp_mask = _dereq_('./mm_unsharp_mask');\n\nvar mm_resize = _dereq_('./mm_resize');\n\nfunction MathLib(requested_features) {\n  var __requested_features = requested_features || [];\n\n  var features = {\n    js: __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n  Multimath.call(this, features);\n  this.features = {\n    js: features.js,\n    wasm: features.wasm && this.has_wasm()\n  };\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\ninherits(MathLib, Multimath);\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  var result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n  }\n\n  return result;\n};\n\nmodule.exports = MathLib;\n\n},{\"./mm_resize\":4,\"./mm_unsharp_mask\":9,\"inherits\":19,\"multimath\":20}],2:[function(_dereq_,module,exports){\n//var FIXED_FRAC_BITS = 14;\n\nfunction clampTo8(i) {\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n} // Convolve image in horizontal directions and transpose output. In theory,\n// transpose allow:\n//\n// - use the same convolver for both passes (this fails due different\n//   types of input array and temporary buffer)\n// - making vertical pass by horisonltal lines inprove CPU cache use.\n//\n// But in real life this doesn't work :)\n//\n\n\nfunction convolveHorizontally(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Technically, convolvers are the same. But input array and temporary\n// buffer can be of different type (especially, in old browsers). So,\n// keep code in separate functions to avoid deoptimizations & speed loss.\n\n\nfunction convolveVertically(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Bring this value back in range. All of the filter scaling factors\n      // are in fixed point with FIXED_FRAC_BITS bits of fractional part.\n      //\n      // (!) Add 1/2 of value before clamping to get proper rounding. In other\n      // case brightness loss will be noticeable if you resize image with white\n      // border and place it on white background.\n      //\n\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14\n      /*FIXED_FRAC_BITS*/\n      );\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n}\n\nmodule.exports = {\n  convolveHorizontally: convolveHorizontally,\n  convolveVertically: convolveVertically\n};\n\n},{}],3:[function(_dereq_,module,exports){\n/* eslint-disable max-len */\n\nmodule.exports = 'AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEXA2AAAGAGf39/f39/AGAHf39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMEAwABAgYGAX8AQQALB1cFEV9fd2FzbV9jYWxsX2N0b3JzAAAIY29udm9sdmUAAQpjb252b2x2ZUhWAAIMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAK7AMDAwABC8YDAQ9/AkAgA0UNACAERQ0AA0AgDCENQQAhE0EAIQcDQCAHQQJqIQYCfyAHQQF0IAVqIgcuAQIiFEUEQEGAwAAhCEGAwAAhCUGAwAAhCkGAwAAhCyAGDAELIBIgBy4BAGohCEEAIQsgFCEHQQAhDiAGIQlBACEPQQAhEANAIAUgCUEBdGouAQAiESAAIAhBAnRqKAIAIgpBGHZsIBBqIRAgCkH/AXEgEWwgC2ohCyAKQRB2Qf8BcSARbCAPaiEPIApBCHZB/wFxIBFsIA5qIQ4gCEEBaiEIIAlBAWohCSAHQQFrIgcNAAsgC0GAQGshCCAOQYBAayEJIA9BgEBrIQogEEGAQGshCyAGIBRqCyEHIAEgDUECdGogCUEOdSIGQf8BIAZB/wFIGyIGQQAgBkEAShtBCHRBgP4DcSAKQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EQdEGAgPwHcSALQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobcjYCACADIA1qIQ0gE0EBaiITIARHDQALIAxBAWoiDCACbCESIAMgDEcNAAsLCx4AQQAgAiADIAQgBSAAEAEgAkEAIAQgBSAGIAEQAQs=';\n\n},{}],4:[function(_dereq_,module,exports){\n\nmodule.exports = {\n  name: 'resize',\n  fn: _dereq_('./resize'),\n  wasm_fn: _dereq_('./resize_wasm'),\n  wasm_src: _dereq_('./convolve_wasm_base64')\n};\n\n},{\"./convolve_wasm_base64\":3,\"./resize\":5,\"./resize_wasm\":8}],5:[function(_dereq_,module,exports){\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nvar convolveHorizontally = _dereq_('./convolve').convolveHorizontally;\n\nvar convolveVertically = _dereq_('./convolve').convolveVertically;\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nmodule.exports = function resize(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0;\n  var offsetY = options.offsetY || 0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  var alpha = options.alpha || false;\n  var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(quality, srcH, destH, scaleY, offsetY);\n  var tmp = new Uint8Array(destW * srcH * 4); // To use single function we need src & tmp of the same type.\n  // But src can be CanvasPixelArray, and tmp - Uint8Array. So, keep\n  // vertical and horizontal passes separately to avoid deoptimization.\n\n  convolveHorizontally(src, tmp, srcW, srcH, destW, filtersX);\n  convolveVertically(tmp, dest, srcH, destW, destH, filtersY); // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n  return dest;\n};\n\n},{\"./convolve\":2,\"./resize_filter_gen\":6}],6:[function(_dereq_,module,exports){\n\nvar FILTER_INFO = _dereq_('./resize_filter_info'); // Precision of fixed FP values\n\n\nvar FIXED_FRAC_BITS = 14;\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\nmodule.exports = function resizeFilterGen(quality, srcSize, destSize, scale, offset) {\n  var filterFunction = FILTER_INFO[quality].filter;\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped = Math.min(1.0, scale); // For upscale\n  // Filter window (averaging interval), scaled to src image\n\n  var srcWindow = FILTER_INFO[quality].win / scaleClamped;\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n  var slowCopy = !packedFilter.subarray || !packedFilter.set; // For each destination pixel calculate source range and built filter values\n\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n    total = 0.0; // Fill filter values for calculated range\n\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    } // Normalize filter, convert to fixed point and accumulate conversion error\n\n\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    } // Compensate normalization error, to minimize brightness drift\n\n\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal); //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n\n  return packedFilter;\n};\n\n},{\"./resize_filter_info\":7}],7:[function(_dereq_,module,exports){\n\nmodule.exports = [{\n  // Nearest neibor (Box)\n  win: 0.5,\n  filter: function filter(x) {\n    return x >= -0.5 && x < 0.5 ? 1.0 : 0.0;\n  }\n}, {\n  // Hamming\n  win: 1.0,\n  filter: function filter(x) {\n    if (x <= -1.0 || x >= 1.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n  }\n}, {\n  // Lanczos, win = 2\n  win: 2.0,\n  filter: function filter(x) {\n    if (x <= -2.0 || x >= 2.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n  }\n}, {\n  // Lanczos, win = 3\n  win: 3.0,\n  filter: function filter(x) {\n    if (x <= -3.0 || x >= 3.0) {\n      return 0.0;\n    }\n\n    if (x > -1.19209290E-07 && x < 1.19209290E-07) {\n      return 1.0;\n    }\n\n    var xpi = x * Math.PI;\n    return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n  }\n}];\n\n},{}],8:[function(_dereq_,module,exports){\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\nvar IS_LE = true; // should not crash everything on module load in old browsers\n\ntry {\n  IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;\n} catch (__) {}\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (var ptr = target_offset, i = 0; i < src.length; i++) {\n    var data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = data >> 8 & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0.0;\n  var offsetY = options.offsetY || 0.0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var quality = typeof options.quality === 'undefined' ? 3 : options.quality;\n  var alpha = options.alpha || false;\n  var filtersX = createFilters(quality, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(quality, srcH, destH, scaleY, offsetY); // destination is 0 too.\n\n  var src_offset = 0; // buffer between convolve passes\n\n  var tmp_offset = this.__align(src_offset + Math.max(src.byteLength, dest.byteLength));\n\n  var filtersX_offset = this.__align(tmp_offset + srcH * destW * 4);\n\n  var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n\n  var alloc_bytes = filtersY_offset + filtersY.byteLength;\n\n  var instance = this.__instance('resize', alloc_bytes); //\n  // Fill memory block with data to process\n  //\n\n\n  var mem = new Uint8Array(this.__memory.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer); // 32-bit copy is much faster in chrome\n\n  var src32 = new Uint32Array(src.buffer);\n  mem32.set(src32); // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset); //\n  // Now call webassembly method\n  // emsdk does method names with '_'\n\n  var fn = instance.exports.convolveHV || instance.exports._convolveHV;\n  fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH); //\n  // Copy data back to typed array\n  //\n  // 32-bit copy is much faster in chrome\n\n  var dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW)); // That's faster than doing checks in convolver.\n  // !!! Note, canvas data is not premultipled. We don't need other\n  // alpha corrections.\n\n  if (!alpha) resetAlpha(dest, destW, destH);\n  return dest;\n};\n\n},{\"./resize_filter_gen\":6}],9:[function(_dereq_,module,exports){\n\nmodule.exports = {\n  name: 'unsharp_mask',\n  fn: _dereq_('./unsharp_mask'),\n  wasm_fn: _dereq_('./unsharp_mask_wasm'),\n  wasm_src: _dereq_('./unsharp_mask_wasm_base64')\n};\n\n},{\"./unsharp_mask\":10,\"./unsharp_mask_wasm\":11,\"./unsharp_mask_wasm_base64\":12}],10:[function(_dereq_,module,exports){\n\nvar glur_mono16 = _dereq_('glur/mono16');\n\nfunction hsv_v16(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, max;\n\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = r >= g && r >= b ? r : g >= b && g >= r ? g : b;\n    out[i] = max << 8;\n  }\n\n  return out;\n}\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var v1, v2, vmul;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var brightness = hsv_v16(img, width, height);\n  var blured = new Uint16Array(brightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n  var amountFp = amount / 100 * 0x1000 + 0.5 | 0;\n  var thresholdFp = threshold << 8;\n  var size = width * height;\n  /* eslint-disable indent */\n\n  for (var i = 0; i < size; i++) {\n    v1 = brightness[i];\n    diff = v1 - blured[i];\n\n    if (Math.abs(diff) >= thresholdFp) {\n      // add unsharp mask to the brightness channel\n      v2 = v1 + (amountFp * diff + 0x800 >> 12); // Both v1 and v2 are within [0.0 .. 255.0] (0000-FF00) range, never going into\n      // [255.003 .. 255.996] (FF01-FFFF). This allows to round this value as (x+.5)|0\n      // later without overflowing.\n\n      v2 = v2 > 0xff00 ? 0xff00 : v2;\n      v2 = v2 < 0x0000 ? 0x0000 : v2; // Avoid division by 0. V=0 means rgb(0,0,0), unsharp with unsharpAmount>0 cannot\n      // change this value (because diff between colors gets inflated), so no need to verify correctness.\n\n      v1 = v1 !== 0 ? v1 : 1; // Multiplying V in HSV model by a constant is equivalent to multiplying each component\n      // in RGB by the same constant (same for HSL), see also:\n      // https://beesbuzz.biz/code/16-hsv-color-transforms\n\n      vmul = (v2 << 12) / v1 | 0; // Result will be in [0..255] range because:\n      //  - all numbers are positive\n      //  - r,g,b <= (v1/256)\n      //  - r,g,b,(v1/256),(v2/256) <= 255\n      // So highest this number can get is X*255/X+0.5=255.5 which is < 256 and rounds down.\n\n      iTimes4 = i * 4;\n      img[iTimes4] = img[iTimes4] * vmul + 0x800 >> 12; // R\n\n      img[iTimes4 + 1] = img[iTimes4 + 1] * vmul + 0x800 >> 12; // G\n\n      img[iTimes4 + 2] = img[iTimes4 + 2] * vmul + 0x800 >> 12; // B\n    }\n  }\n};\n\n},{\"glur/mono16\":18}],11:[function(_dereq_,module,exports){\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n  var img_bytes_cnt = pixels * 4;\n  var hsv_bytes_cnt = pixels * 2;\n  var blur_bytes_cnt = pixels * 2;\n  var blur_line_byte_cnt = Math.max(width, height) * 4; // float32 array\n\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset = 0;\n  var hsv_offset = img_bytes_cnt;\n  var blur_offset = hsv_offset + hsv_bytes_cnt;\n  var blur_tmp_offset = blur_offset + blur_bytes_cnt;\n  var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance('unsharp_mask', img_bytes_cnt + hsv_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {\n    exp: Math.exp\n  }); // 32-bit copy is much faster in chrome\n\n\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32); // HSL\n\n  var fn = instance.exports.hsv_v16 || instance.exports._hsv_v16;\n  fn(img_offset, hsv_offset, width, height); // BLUR\n\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsv_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius); // UNSHARP\n\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsv_offset, blur_offset, width, height, amount, threshold); // 32-bit copy is much faster in chrome\n\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n\n},{}],12:[function(_dereq_,module,exports){\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],13:[function(_dereq_,module,exports){\n\nvar GC_INTERVAL = 100;\n\nfunction Pool(create, idle) {\n  this.create = create;\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\nPool.prototype.acquire = function () {\n  var _this = this;\n\n  var resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n\n    resource.release = function () {\n      return _this.release(resource);\n    };\n  }\n\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\nPool.prototype.release = function (resource) {\n  var _this2 = this;\n\n  delete this.acquired[resource.id];\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this2.gc();\n    }, GC_INTERVAL);\n  }\n};\n\nPool.prototype.gc = function () {\n  var _this3 = this;\n\n  var now = Date.now();\n  this.available = this.available.filter(function (resource) {\n    if (now - resource.lastUsed > _this3.idle) {\n      resource.destroy();\n      return false;\n    }\n\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this3.gc();\n    }, GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\nmodule.exports = Pool;\n\n},{}],14:[function(_dereq_,module,exports){\n// min size = 1 can consume large amount of memory\n\nvar MIN_INNER_TILE_SIZE = 2;\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  var scaleX = toWidth / fromWidth;\n  var scaleY = toHeight / fromHeight; // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n\n  var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize; // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n\n  if (minScale > 0.5) return [[toWidth, toHeight]];\n  var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale)); // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n\n  if (stageCount <= 1) return [[toWidth, toHeight]];\n  var result = [];\n\n  for (var i = 0; i < stageCount; i++) {\n    var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1), 1 / stageCount));\n    var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1), 1 / stageCount));\n    result.push([width, height]);\n  }\n\n  return result;\n};\n\n},{}],15:[function(_dereq_,module,exports){\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.ceil(x);\n}\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder; // prevent infinite loop, this should never happen\n\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile; // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n\n      if (y < 0) {\n        y = 0;\n      }\n\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n\nfunction objClass(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  var cname = objClass(element);\n  return cname === '[object HTMLCanvasElement]'\n  /* browser */\n  || cname === '[object OffscreenCanvas]' || cname === '[object Canvas]'\n  /* node-canvas */\n  ;\n};\n\nmodule.exports.isImage = function isImage(element) {\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\nmodule.exports.isImageBitmap = function isImageBitmap(element) {\n  return objClass(element) === '[object ImageBitmap]';\n};\n\nmodule.exports.limiter = function limiter(concurrency) {\n  var active = 0,\n      queue = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise(function (resolve, reject) {\n      queue.push(function () {\n        fn().then(function (result) {\n          resolve(result);\n          active--;\n          roll();\n        }, function (err) {\n          reject(err);\n          active--;\n          roll();\n        });\n      });\n      roll();\n    });\n  };\n};\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0:\n      return 'pixelated';\n\n    case 1:\n      return 'low';\n\n    case 2:\n      return 'medium';\n  }\n\n  return 'high';\n};\n\nmodule.exports.cib_support = function cib_support(createCanvas) {\n  return Promise.resolve().then(function () {\n    if (typeof createImageBitmap === 'undefined') {\n      return false;\n    }\n\n    var c = createCanvas(100, 100);\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    }).then(function (bitmap) {\n      var status = bitmap.width === 10; // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  })[\"catch\"](function () {\n    return false;\n  });\n};\n\nmodule.exports.worker_offscreen_canvas_support = function worker_offscreen_canvas_support() {\n  return new Promise(function (resolve, reject) {\n    if (typeof OffscreenCanvas === 'undefined') {\n      // if OffscreenCanvas is present, we assume browser supports Worker and built-in Promise as well\n      resolve(false);\n      return;\n    }\n\n    function workerPayload(self) {\n      if (typeof createImageBitmap === 'undefined') {\n        self.postMessage(false);\n        return;\n      }\n\n      Promise.resolve().then(function () {\n        var canvas = new OffscreenCanvas(10, 10); // test that 2d context can be used in worker\n\n        var ctx = canvas.getContext('2d');\n        ctx.rect(0, 0, 1, 1); // test that cib can be used to return image bitmap from worker\n\n        return createImageBitmap(canvas, 0, 0, 1, 1);\n      }).then(function () {\n        return self.postMessage(true);\n      }, function () {\n        return self.postMessage(false);\n      });\n    }\n\n    var code = btoa(\"(\".concat(workerPayload.toString(), \")(self);\"));\n    var w = new Worker(\"data:text/javascript;base64,\".concat(code));\n\n    w.onmessage = function (ev) {\n      return resolve(ev.data);\n    };\n\n    w.onerror = reject;\n  }).then(function (result) {\n    return result;\n  }, function () {\n    return false;\n  });\n}; // Check if canvas.getContext('2d').getImageData can be used,\n// FireFox randomizes the output of that function in `privacy.resistFingerprinting` mode\n\n\nmodule.exports.can_use_canvas = function can_use_canvas(createCanvas) {\n  var usable = false;\n\n  try {\n    var canvas = createCanvas(2, 1);\n    var ctx = canvas.getContext('2d');\n    var d = ctx.createImageData(2, 1);\n    d.data[0] = 12;\n    d.data[1] = 23;\n    d.data[2] = 34;\n    d.data[3] = 255;\n    d.data[4] = 45;\n    d.data[5] = 56;\n    d.data[6] = 67;\n    d.data[7] = 255;\n    ctx.putImageData(d, 0, 0);\n    d = null;\n    d = ctx.getImageData(0, 0, 2, 1);\n\n    if (d.data[0] === 12 && d.data[1] === 23 && d.data[2] === 34 && d.data[3] === 255 && d.data[4] === 45 && d.data[5] === 56 && d.data[6] === 67 && d.data[7] === 255) {\n      usable = true;\n    }\n  } catch (err) {}\n\n  return usable;\n}; // Check if createImageBitmap(img, sx, sy, sw, sh) signature works correctly\n// with JPEG images oriented with Exif;\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n// TODO: remove after it's fixed in chrome for at least 2 releases\n\n\nmodule.exports.cib_can_use_region = function cib_can_use_region() {\n  return new Promise(function (resolve) {\n    if (typeof createImageBitmap === 'undefined') {\n      resolve(false);\n      return;\n    }\n\n    var image = new Image();\n    image.src = 'data:image/jpeg;base64,' + '/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAA' + 'AABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9' + 'sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRc' + 'ZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoa' + 'GhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRA' + 'f/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAA' + 'IQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAA' + 'AAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIB' + 'AT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAA' + 'AAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAA' + 'AAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQ' + 'QAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z';\n\n    image.onload = function () {\n      createImageBitmap(image, 0, 0, image.width, image.height).then(function (bitmap) {\n        if (bitmap.width === image.width && bitmap.height === image.height) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      }, function () {\n        return resolve(false);\n      });\n    };\n\n    image.onerror = function () {\n      return resolve(false);\n    };\n  });\n};\n\n},{}],17:[function(_dereq_,module,exports){\n\nmodule.exports = function () {\n  var MathLib = _dereq_('./mathlib');\n\n  var mathLib;\n  /* eslint-disable no-undef */\n\n  onmessage = function onmessage(ev) {\n    var tileOpts = ev.data.opts;\n    var returnBitmap = false;\n\n    if (!tileOpts.src && tileOpts.srcBitmap) {\n      var canvas = new OffscreenCanvas(tileOpts.width, tileOpts.height);\n      var ctx = canvas.getContext('2d', {\n        alpha: Boolean(tileOpts.alpha)\n      });\n      ctx.drawImage(tileOpts.srcBitmap, 0, 0);\n      tileOpts.src = ctx.getImageData(0, 0, tileOpts.width, tileOpts.height).data;\n      canvas.width = canvas.height = 0;\n      canvas = null;\n      tileOpts.srcBitmap.close();\n      tileOpts.srcBitmap = null;\n      returnBitmap = true;\n    }\n\n    if (!mathLib) mathLib = new MathLib(ev.data.features); // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n\n    var data = mathLib.resizeAndUnsharp(tileOpts);\n\n    if (returnBitmap) {\n      var toImageData = new ImageData(new Uint8ClampedArray(data), tileOpts.toWidth, tileOpts.toHeight);\n\n      var _canvas = new OffscreenCanvas(tileOpts.toWidth, tileOpts.toHeight);\n\n      var _ctx = _canvas.getContext('2d', {\n        alpha: Boolean(tileOpts.alpha)\n      });\n\n      _ctx.putImageData(toImageData, 0, 0);\n\n      createImageBitmap(_canvas).then(function (bitmap) {\n        postMessage({\n          bitmap: bitmap\n        }, [bitmap]);\n      });\n    } else {\n      postMessage({\n        data: data\n      }, [data.buffer]);\n    }\n  };\n};\n\n},{\"./mathlib\":1}],18:[function(_dereq_,module,exports){\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height);\n  convolveMono16(out, src, tmp_line, coeff, height, width);\n}\n\nmodule.exports = blurMono16;\n\n},{}],19:[function(_dereq_,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor;\n      var TempCtor = function () {};\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    }\n  };\n}\n\n},{}],20:[function(_dereq_,module,exports){\n\n\nvar assign         = _dereq_('object-assign');\nvar base64decode   = _dereq_('./lib/base64decode');\nvar hasWebAssembly = _dereq_('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.has_wasm = hasWebAssembly;\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (this.options.wasm && this.has_wasm() && module.wasm_fn) {\n    this[module.name] = module.wasm_fn;\n  } else {\n    this[module.name] = module.fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm()) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.options.wasm || !self.has_wasm() || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n\n},{\"./lib/base64decode\":21,\"./lib/wa_detect\":22,\"object-assign\":23}],21:[function(_dereq_,module,exports){\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n\n},{}],22:[function(_dereq_,module,exports){\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n\n},{}],23:[function(_dereq_,module,exports){\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],24:[function(_dereq_,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],\"/index.js\":[function(_dereq_,module,exports){\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = _dereq_('object-assign');\n\nvar webworkify = _dereq_('webworkify');\n\nvar MathLib = _dereq_('./lib/mathlib');\n\nvar Pool = _dereq_('./lib/pool');\n\nvar utils = _dereq_('./lib/utils');\n\nvar worker = _dereq_('./lib/worker');\n\nvar createStages = _dereq_('./lib/stepper');\n\nvar createRegions = _dereq_('./lib/tiler'); // Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\n\n\nvar singletones = {};\nvar NEED_SAFARI_FIX = false;\n\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\nvar concurrency = 1;\n\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\nvar DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency: concurrency,\n  features: ['js', 'wasm', 'ww'],\n  idle: 2000,\n  createCanvas: function createCanvas(width, height) {\n    var tmpCanvas = document.createElement('canvas');\n    tmpCanvas.width = width;\n    tmpCanvas.height = height;\n    return tmpCanvas;\n  }\n};\nvar DEFAULT_RESIZE_OPTS = {\n  quality: 3,\n  alpha: false,\n  unsharpAmount: 0,\n  unsharpRadius: 0.0,\n  unsharpThreshold: 0\n};\nvar CAN_NEW_IMAGE_DATA = false;\nvar CAN_CREATE_IMAGE_BITMAP = false;\nvar CAN_USE_CANVAS_GET_IMAGE_DATA = false;\nvar CAN_USE_OFFSCREEN_CANVAS = false;\nvar CAN_USE_CIB_REGION_FOR_IMAGE = false;\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function destroy() {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n  var limiter_key = \"lk_\".concat(this.options.concurrency); // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit; // List of supported features, according to options & browser/node.js\n\n  this.features = {\n    js: false,\n    // pure JS implementation, can be disabled for testing\n    wasm: false,\n    // webassembly implementation for heavy functions\n    cib: false,\n    // resize via createImageBitmap (only FF at this moment)\n    ww: false // webworkers\n\n  };\n  this.__workersPool = null; // Store requested features for webworkers\n\n  this.__requested_features = [];\n  this.__mathlib = null;\n}\n\nPica.prototype.init = function () {\n  var _this = this;\n\n  if (this.__initPromise) return this.__initPromise; // Test if we can create ImageData without canvas and memory copy\n\n  if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n    try {\n      /* eslint-disable no-new */\n      new ImageData(new Uint8ClampedArray(400), 10, 10);\n      CAN_NEW_IMAGE_DATA = true;\n    } catch (__) {}\n  } // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n\n  if (typeof ImageBitmap !== 'undefined') {\n    if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n      CAN_CREATE_IMAGE_BITMAP = true;\n    } else {\n      this.debug('ImageBitmap does not support .close(), disabled');\n    }\n  }\n\n  var features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = ['cib', 'wasm', 'js', 'ww'];\n  }\n\n  this.__requested_features = features;\n  this.__mathlib = new MathLib(features); // Check WebWorker support if requested\n\n  if (features.indexOf('ww') >= 0) {\n    if (typeof window !== 'undefined' && 'Worker' in window) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        var wkr = _dereq_('webworkify')(function () {});\n\n        wkr.terminate();\n        this.features.ww = true; // pool uniqueness depends on pool config + webworker config\n\n        var wpool_key = \"wp_\".concat(JSON.stringify(this.options));\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  var initMath = this.__mathlib.init().then(function (mathlib) {\n    // Copy detected features\n    assign(_this.features, mathlib.features);\n  });\n\n  var checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support(this.options.createCanvas).then(function (status) {\n      if (_this.features.cib && features.indexOf('cib') < 0) {\n        _this.debug('createImageBitmap() resize supported, but disabled by config');\n\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) _this.features.cib = status;\n    });\n  }\n\n  CAN_USE_CANVAS_GET_IMAGE_DATA = utils.can_use_canvas(this.options.createCanvas);\n  var checkOffscreenCanvas;\n\n  if (CAN_CREATE_IMAGE_BITMAP && CAN_NEW_IMAGE_DATA && features.indexOf('ww') !== -1) {\n    checkOffscreenCanvas = utils.worker_offscreen_canvas_support();\n  } else {\n    checkOffscreenCanvas = Promise.resolve(false);\n  }\n\n  checkOffscreenCanvas = checkOffscreenCanvas.then(function (result) {\n    CAN_USE_OFFSCREEN_CANVAS = result;\n  }); // we use createImageBitmap to crop image data and pass it to workers,\n  // so need to check whether function works correctly;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n\n  var checkCibRegion = utils.cib_can_use_region().then(function (result) {\n    CAN_USE_CIB_REGION_FOR_IMAGE = result;\n  }); // Init math lib. That's async because can load some\n\n  this.__initPromise = Promise.all([initMath, checkCibResize, checkOffscreenCanvas, checkCibRegion]).then(function () {\n    return _this;\n  });\n  return this.__initPromise;\n}; // Call resizer in webworker or locally, depending on config\n\n\nPica.prototype.__invokeResize = function (tileOpts, opts) {\n  var _this2 = this;\n\n  // Share cache between calls:\n  //\n  // - wasm instance\n  // - wasm memory object\n  //\n  opts.__mathCache = opts.__mathCache || {};\n  return Promise.resolve().then(function () {\n    if (!_this2.features.ww) {\n      // not possible to have ImageBitmap here if user disabled WW\n      return {\n        data: _this2.__mathlib.resizeAndUnsharp(tileOpts, opts.__mathCache)\n      };\n    }\n\n    return new Promise(function (resolve, reject) {\n      var w = _this2.__workersPool.acquire();\n\n      if (opts.cancelToken) opts.cancelToken[\"catch\"](function (err) {\n        return reject(err);\n      });\n\n      w.value.onmessage = function (ev) {\n        w.release();\n        if (ev.data.err) reject(ev.data.err);else resolve(ev.data);\n      };\n\n      var transfer = [];\n      if (tileOpts.src) transfer.push(tileOpts.src.buffer);\n      if (tileOpts.srcBitmap) transfer.push(tileOpts.srcBitmap);\n      w.value.postMessage({\n        opts: tileOpts,\n        features: _this2.__requested_features,\n        preload: {\n          wasm_nodule: _this2.__mathlib.__\n        }\n      }, transfer);\n    });\n  });\n}; // this function can return promise if createImageBitmap is used\n\n\nPica.prototype.__extractTileData = function (tile, from, opts, stageEnv, extractTo) {\n  if (this.features.ww && CAN_USE_OFFSCREEN_CANVAS && ( // createImageBitmap doesn't work for images (Image, ImageBitmap) with Exif orientation in Chrome,\n  // can use canvas because canvas doesn't have orientation;\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n  utils.isCanvas(from) || CAN_USE_CIB_REGION_FOR_IMAGE)) {\n    this.debug('Create tile for OffscreenCanvas');\n    return createImageBitmap(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height).then(function (bitmap) {\n      extractTo.srcBitmap = bitmap;\n      return extractTo;\n    });\n  } // Extract tile RGBA buffer, depending on input type\n\n\n  if (utils.isCanvas(from)) {\n    if (!stageEnv.srcCtx) stageEnv.srcCtx = from.getContext('2d', {\n      alpha: Boolean(opts.alpha)\n    }); // If input is Canvas - extract region data directly\n\n    this.debug('Get tile pixel data');\n    extractTo.src = stageEnv.srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height).data;\n    return extractTo;\n  } // If input is Image or decoded to ImageBitmap,\n  // draw region to temporary canvas and extract data from it\n  //\n  // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n  //\n\n\n  this.debug('Draw tile imageBitmap/image to temporary canvas');\n  var tmpCanvas = this.options.createCanvas(tile.width, tile.height);\n  var tmpCtx = tmpCanvas.getContext('2d', {\n    alpha: Boolean(opts.alpha)\n  });\n  tmpCtx.globalCompositeOperation = 'copy';\n  tmpCtx.drawImage(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n  this.debug('Get tile pixel data');\n  extractTo.src = tmpCtx.getImageData(0, 0, tile.width, tile.height).data; // Safari 12 workaround\n  // https://github.com/nodeca/pica/issues/199\n\n  tmpCanvas.width = tmpCanvas.height = 0;\n  return extractTo;\n};\n\nPica.prototype.__landTileData = function (tile, result, stageEnv) {\n  var toImageData;\n  this.debug('Convert raw rgba tile result to ImageData');\n\n  if (result.bitmap) {\n    stageEnv.toCtx.drawImage(result.bitmap, tile.toX, tile.toY);\n    return null;\n  }\n\n  if (CAN_NEW_IMAGE_DATA) {\n    // this branch is for modern browsers\n    // If `new ImageData()` & Uint8ClampedArray suported\n    toImageData = new ImageData(new Uint8ClampedArray(result.data), tile.toWidth, tile.toHeight);\n  } else {\n    // fallback for `node-canvas` and old browsers\n    // (IE11 has ImageData but does not support `new ImageData()`)\n    toImageData = stageEnv.toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n    if (toImageData.data.set) {\n      toImageData.data.set(result.data);\n    } else {\n      // IE9 don't have `.set()`\n      for (var i = toImageData.data.length - 1; i >= 0; i--) {\n        toImageData.data[i] = result.data[i];\n      }\n    }\n  }\n\n  this.debug('Draw tile');\n\n  if (NEED_SAFARI_FIX) {\n    // Safari draws thin white stripes between tiles without this fix\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n  } else {\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n  }\n\n  return null;\n};\n\nPica.prototype.__tileAndResize = function (from, to, opts) {\n  var _this3 = this;\n\n  var stageEnv = {\n    srcCtx: null,\n    srcImageBitmap: null,\n    isImageBitmapReused: false,\n    toCtx: null\n  };\n\n  var processTile = function processTile(tile) {\n    return _this3.__limit(function () {\n      if (opts.canceled) return opts.cancelToken;\n      var tileOpts = {\n        width: tile.width,\n        height: tile.height,\n        toWidth: tile.toWidth,\n        toHeight: tile.toHeight,\n        scaleX: tile.scaleX,\n        scaleY: tile.scaleY,\n        offsetX: tile.offsetX,\n        offsetY: tile.offsetY,\n        quality: opts.quality,\n        alpha: opts.alpha,\n        unsharpAmount: opts.unsharpAmount,\n        unsharpRadius: opts.unsharpRadius,\n        unsharpThreshold: opts.unsharpThreshold\n      };\n\n      _this3.debug('Invoke resize math');\n\n      return Promise.resolve(tileOpts).then(function (tileOpts) {\n        return _this3.__extractTileData(tile, from, opts, stageEnv, tileOpts);\n      }).then(function (tileOpts) {\n        _this3.debug('Invoke resize math');\n\n        return _this3.__invokeResize(tileOpts, opts);\n      }).then(function (result) {\n        if (opts.canceled) return opts.cancelToken;\n        stageEnv.srcImageData = null;\n        return _this3.__landTileData(tile, result, stageEnv);\n      });\n    });\n  }; // Need to normalize data source first. It can be canvas or image.\n  // If image - try to decode in background if possible\n\n\n  return Promise.resolve().then(function () {\n    stageEnv.toCtx = to.getContext('2d', {\n      alpha: Boolean(opts.alpha)\n    });\n    if (utils.isCanvas(from)) return null;\n\n    if (utils.isImageBitmap(from)) {\n      stageEnv.srcImageBitmap = from;\n      stageEnv.isImageBitmapReused = true;\n      return null;\n    }\n\n    if (utils.isImage(from)) {\n      // try do decode image in background for faster next operations;\n      // if we're using offscreen canvas, cib is called per tile, so not needed here\n      if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n      _this3.debug('Decode image via createImageBitmap');\n\n      return createImageBitmap(from).then(function (imageBitmap) {\n        stageEnv.srcImageBitmap = imageBitmap;\n      }) // Suppress error to use fallback, if method fails\n      // https://github.com/nodeca/pica/issues/190\n\n      /* eslint-disable no-unused-vars */\n      [\"catch\"](function (e) {\n        return null;\n      });\n    }\n\n    throw new Error('Pica: \".from\" should be Image, Canvas or ImageBitmap');\n  }).then(function () {\n    if (opts.canceled) return opts.cancelToken;\n\n    _this3.debug('Calculate tiles'); //\n    // Here we are with \"normalized\" source,\n    // follow to tiling\n    //\n\n\n    var regions = createRegions({\n      width: opts.width,\n      height: opts.height,\n      srcTileSize: _this3.options.tile,\n      toWidth: opts.toWidth,\n      toHeight: opts.toHeight,\n      destTileBorder: opts.__destTileBorder\n    });\n    var jobs = regions.map(function (tile) {\n      return processTile(tile);\n    });\n\n    function cleanup(stageEnv) {\n      if (stageEnv.srcImageBitmap) {\n        if (!stageEnv.isImageBitmapReused) stageEnv.srcImageBitmap.close();\n        stageEnv.srcImageBitmap = null;\n      }\n    }\n\n    _this3.debug('Process tiles');\n\n    return Promise.all(jobs).then(function () {\n      _this3.debug('Finished!');\n\n      cleanup(stageEnv);\n      return to;\n    }, function (err) {\n      cleanup(stageEnv);\n      throw err;\n    });\n  });\n};\n\nPica.prototype.__processStages = function (stages, from, to, opts) {\n  var _this4 = this;\n\n  if (opts.canceled) return opts.cancelToken;\n\n  var _stages$shift = stages.shift(),\n      _stages$shift2 = _slicedToArray(_stages$shift, 2),\n      toWidth = _stages$shift2[0],\n      toHeight = _stages$shift2[1];\n\n  var isLastStage = stages.length === 0;\n  opts = assign({}, opts, {\n    toWidth: toWidth,\n    toHeight: toHeight,\n    // only use user-defined quality for the last stage,\n    // use simpler (Hamming) filter for the first stages where\n    // scale factor is large enough (more than 2-3)\n    quality: isLastStage ? opts.quality : Math.min(1, opts.quality)\n  });\n  var tmpCanvas;\n\n  if (!isLastStage) {\n    // create temporary canvas\n    tmpCanvas = this.options.createCanvas(toWidth, toHeight);\n  }\n\n  return this.__tileAndResize(from, isLastStage ? to : tmpCanvas, opts).then(function () {\n    if (isLastStage) return to;\n    opts.width = toWidth;\n    opts.height = toHeight;\n    return _this4.__processStages(stages, tmpCanvas, to, opts);\n  }).then(function (res) {\n    if (tmpCanvas) {\n      // Safari 12 workaround\n      // https://github.com/nodeca/pica/issues/199\n      tmpCanvas.width = tmpCanvas.height = 0;\n    }\n\n    return res;\n  });\n};\n\nPica.prototype.__resizeViaCreateImageBitmap = function (from, to, opts) {\n  var _this5 = this;\n\n  var toCtx = to.getContext('2d', {\n    alpha: Boolean(opts.alpha)\n  });\n  this.debug('Resize via createImageBitmap()');\n  return createImageBitmap(from, {\n    resizeWidth: opts.toWidth,\n    resizeHeight: opts.toHeight,\n    resizeQuality: utils.cib_quality_name(opts.quality)\n  }).then(function (imageBitmap) {\n    if (opts.canceled) return opts.cancelToken; // if no unsharp - draw directly to output canvas\n\n    if (!opts.unsharpAmount) {\n      toCtx.drawImage(imageBitmap, 0, 0);\n      imageBitmap.close();\n      toCtx = null;\n\n      _this5.debug('Finished!');\n\n      return to;\n    }\n\n    _this5.debug('Unsharp result');\n\n    var tmpCanvas = _this5.options.createCanvas(opts.toWidth, opts.toHeight);\n\n    var tmpCtx = tmpCanvas.getContext('2d', {\n      alpha: Boolean(opts.alpha)\n    });\n    tmpCtx.drawImage(imageBitmap, 0, 0);\n    imageBitmap.close();\n    var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n    _this5.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);\n\n    toCtx.putImageData(iData, 0, 0); // Safari 12 workaround\n    // https://github.com/nodeca/pica/issues/199\n\n    tmpCanvas.width = tmpCanvas.height = 0;\n    iData = tmpCtx = tmpCanvas = toCtx = null;\n\n    _this5.debug('Finished!');\n\n    return to;\n  });\n};\n\nPica.prototype.resize = function (from, to, options) {\n  var _this6 = this;\n\n  this.debug('Start resize...');\n  var opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, {\n      quality: options\n    });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth = to.width;\n  opts.toHeight = to.height;\n  opts.width = from.naturalWidth || from.width;\n  opts.height = from.naturalHeight || from.height; // Prevent stepper from infinite loop\n\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(\"Invalid output size: \".concat(to.width, \"x\").concat(to.height)));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n  opts.canceled = false;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    opts.cancelToken = opts.cancelToken.then(function (data) {\n      opts.canceled = true;\n      throw data;\n    }, function (err) {\n      opts.canceled = true;\n      throw err;\n    });\n  }\n\n  var DEST_TILE_BORDER = 3; // Max possible filter window size\n\n  opts.__destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));\n  return this.init().then(function () {\n    if (opts.canceled) return opts.cancelToken; // if createImageBitmap supports resize, just do it and return\n\n    if (_this6.features.cib) {\n      return _this6.__resizeViaCreateImageBitmap(from, to, opts);\n    }\n\n    if (!CAN_USE_CANVAS_GET_IMAGE_DATA) {\n      var err = new Error('Pica: cannot use getImageData on canvas, ' + \"make sure fingerprinting protection isn't enabled\");\n      err.code = 'ERR_GET_IMAGE_DATA';\n      throw err;\n    } //\n    // No easy way, let's resize manually via arrays\n    //\n\n\n    var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this6.options.tile, opts.__destTileBorder);\n    return _this6.__processStages(stages, from, to, opts);\n  });\n}; // RGBA buffer resize\n//\n\n\nPica.prototype.resizeBuffer = function (options) {\n  var _this7 = this;\n\n  var opts = assign({}, DEFAULT_RESIZE_OPTS, options);\n  return this.init().then(function () {\n    return _this7.__mathlib.resizeAndUnsharp(opts);\n  });\n};\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n  return new Promise(function (resolve) {\n    if (canvas.toBlob) {\n      canvas.toBlob(function (blob) {\n        return resolve(blob);\n      }, mimeType, quality);\n      return;\n    }\n\n    if (canvas.convertToBlob) {\n      resolve(canvas.convertToBlob({\n        type: mimeType,\n        quality: quality\n      }));\n      return;\n    } // Fallback for old browsers\n\n\n    var asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    var len = asString.length;\n    var asBuffer = new Uint8Array(len);\n\n    for (var i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([asBuffer], {\n      type: mimeType\n    }));\n  });\n};\n\nPica.prototype.debug = function () {};\n\nmodule.exports = Pica;\n\n},{\"./lib/mathlib\":1,\"./lib/pool\":13,\"./lib/stepper\":14,\"./lib/tiler\":15,\"./lib/utils\":16,\"./lib/worker\":17,\"object-assign\":23,\"webworkify\":24}]},{},[])(\"/index.js\")\n});\n});\n\nexport default pica;\n", "// Temporary fix for\n// https://github.com/evanw/esbuild/issues/312\nconsole.log(\"IMPORTING\");\nlet workerFunction = (function (){\n\n\timportScripts(\"https://cdn.jsdelivr.net/npm/d3-dispatch@3\");\n\timportScripts(\"https://cdn.jsdelivr.net/npm/d3-quadtree@3\");\n\timportScripts(\"https://cdn.jsdelivr.net/npm/d3-timer@3\");\n\timportScripts(\"https://cdn.jsdelivr.net/npm/d3-force@3\");\n\timportScripts(\"https://unpkg.com/d3-binarytree\");\n\timportScripts(\"https://unpkg.com/d3-octree\");\n\timportScripts(\"https://unpkg.com/d3-force-3d\");\n\n\t\"use strict\"\n\n\tself.onmessage = function (msg) {\n\t\tconsole.log(\"RECEIVED:\", msg.data.type);\n\t\tlet use2D = false;\n\t\tif (msg.data.type == \"import\") {\n\t\t\t// self.importScripts(new URL('../layouts/libs/ngraph.graph.min.js', msg.data.location));\n\t\t\t// self.importScripts(new URL('../layouts/libs/ngraph.forcelayout.min.js', msg.data.location));\n\t\t\tconsole.log(\"IMPORTING...\")\n\t\t} else if (msg.data.type == \"stop\") {\n\t\t\tthis.simulation.stop();\n\t\t} else if (msg.data.type == \"restart\") {\n\t\t\tthis.simulation.restart();\n\t\t} else if (msg.data.type == \"init\") {\n\t\t\tconsole.log(\"INIT\");\n\t\t\tlet network = msg.data.network;\n\t\t\tif(msg.data.use2D) {\n\t\t\t\tuse2D = true;\n\t\t\t}\n\t\t\tlet nodes = [];\n\t\t\tlet links = [];\n\n\t\t\tObject.entries(network.nodes).forEach(entry => {\n\t\t\t\t// console.log(entry);\n\t\t\t\tlet [key, node] = entry;\n\t\t\t\tnode.ID = key;\n\n\t\t\t\tnode.x = 400 * (Math.random() * 1.0 - 0.5);\n\t\t\t\tnode.y = 400 * (Math.random() * 1.0 - 0.5);\n\t\t\t\tnode.z = 400 * (Math.random() * 1.0 - 0.5);\n\t\t\t\tnode.vz = 0;\n\t\t\t\tnode.index = network.ID2index[key];\n\t\t\t\tnodes.push(node);\n\t\t\t});\n\n\t\t\tfor (let index = 0; index < network.indexedEdges.length / 2; index++) {\n\t\t\t\tlet edgeFrom = (network.indexedEdges[index * 2]);\n\t\t\t\tlet edgeTo = (network.indexedEdges[index * 2 + 1]);\n\t\t\t\tlet edgeObject = {\n\t\t\t\t\tsource: edgeFrom,\n\t\t\t\t\ttarget: edgeTo,\n\t\t\t\t}\n\t\t\t\tlinks.push(edgeObject);\n\t\t\t}\n\n\t\t\tthis.simulation = d3.forceSimulation(nodes)\n\t\t\t\t.numDimensions(use2D?2:3)\n\t\t\t\t.force(\"charge\", d3.forceManyBody())\n\t\t\t\t.force(\"link\", d3.forceLink(links))\n\t\t\t\t.force(\"center\", d3.forceCenter())\n\t\t\t\t// .force(\"collide\", d3.forceCollide(d => d.size*4))\n\t\t\t\t.velocityDecay(0.05)\n\t\t\t\t.on(\"tick\", async () => {\n\t\t\t\t\tfor (let vertexIndex = 0; vertexIndex < nodes.length; vertexIndex++) {\n\t\t\t\t\t\tconst node = nodes[vertexIndex];\n\t\t\t\t\t\tnetwork.positions[vertexIndex * 3 + 0] = node.x / 10;\n\t\t\t\t\t\tnetwork.positions[vertexIndex * 3 + 1] = node.y / 10;\n\t\t\t\t\t\tif(!use2D) {\n\t\t\t\t\t\t\tnetwork.positions[vertexIndex * 3 + 2] = node.z / 10;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnetwork.positions[vertexIndex * 3 + 2] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tself.postMessage({ type: \"layoutStep\", positions: network.positions });\n\t\t\t\t});\n\t\t}\n\t}\n})\n\nlet workerFunctionString = workerFunction.toString();\nconsole.log(workerFunctionString)\nlet workerURL = URL.createObjectURL(new Blob([`(${workerFunctionString})()`], {type:'text/javascript'}));\n\nexport {workerURL};", "import * as __SNOWPACK_ENV__ from '../../_snowpack/env.js';\nimport.meta.env = __SNOWPACK_ENV__;\n\nimport * as glm from \"../../_snowpack/pkg/gl-matrix.js\"\nimport { Network } from \"./Network.js\"\nimport * as glUtils from \"../utils/webglutils.js\"\nimport * as xnet from \"../utils/xnet.js\"\nimport { select as d3Select } from \"../../_snowpack/pkg/d3-selection.js\";\nimport { zoom as d3Zoom, zoomTransform as d3ZoomTransform, zoomIdentity as d3ZoomIdentity } from \"../../_snowpack/pkg/d3-zoom.js\";\nimport { drag as d3Drag } from \"../../_snowpack/pkg/d3-drag.js\";\nimport { default as createGraph } from \"../../_snowpack/pkg/ngraph.graph.js\"\nimport { default as createLayout } from \"../../_snowpack/pkg/ngraph.forcelayout.js\"\nimport { forceSimulation, forceManyBody, forceLink, forceCenter } from \"../../_snowpack/pkg/d3-force-3d.js\";\nimport {default as Pica} from \"../../_snowpack/pkg/pica.js\";\nimport {workerURL as d3force3dLayoutURL} from \"../layouts/d3force3dLayoutWorker.js\"\n\n\nlet isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n\n\n// You can associate arbitrary objects with node:\n\n\n// //dictionary\n// elementID,\n// nodes = {},\n// edges = [],\n// // use settings\n// // displayOptions inside settings\n// onNodeClick = null,\n// onEdgeClick = null,\n// display = [],\nexport class Helios {\n\tconstructor({\n\t\telementID,\n\t\tnodes = {},\n\t\tedges = [],\n\t\t// use settings\n\t\t// displayOptions inside settings\n\t\t// onNodeHover = null,\n\t\t// onEdgeHover = null,\n\t\t// onDraw  (Maybe)\n\t\tuse2D = false,\n\t\tdisplay = [],\n\t}) {\n\t\tthis.element = document.getElementById(elementID);\n\t\tthis.element.innerHTML = '';\n\t\tthis.canvasElement = document.createElement(\"canvas\");\n\t\tthis.element.appendChild(this.canvasElement);\n\t\tthis.network = new Network(nodes, edges);\n\t\tthis.display = display;\n\n\t\tthis.rotationMatrix = glm.mat4.create();\n\t\tthis.translatePosition = glm.vec3.create();\n\t\tthis.mouseDown = false;\n\t\tthis.lastMouseX = null;\n\t\tthis.lastMouseY = null;\n\t\tthis.redrawingFromMouseWheelEvent = false;\n\t\tthis.fastEdges = false;\n\t\tthis.animate = false;\n\t\tthis.cameraDistance = 450;\n\t\tthis.zoomFactor = 1;\n\t\tthis.rotateLinearX = 0;\n\t\tthis.rotateLinearY = 0;\n\t\tthis.panX = 0;\n\t\tthis.panY = 0;\n\t\tthis.saveResolutionRatio = 1.0;\n\t\tthis.pickingResolutionRatio = 0.25;\n\t\tthis._edgesIntensity = 1.0;\n\t\tthis._use2D = use2D;\n\n\t\tif (this._use2D) {\n\t\t\tfor (let vertexIndex = 0; vertexIndex < this.network.positions.length; vertexIndex++) {\n\t\t\t\tthis.network.positions[vertexIndex * 3 + 2] = 0;\n\t\t\t}\n\t\t}\n\n\n\n\t\tglm.mat4.identity(this.rotationMatrix);\n\t\tvar translatePosition = [0, 0, 0];\n\t\tthis.gl = glUtils.createWebGLContext(this.canvasElement, {\n\t\t\tantialias: true,\n\t\t\tpowerPreference: \"high-performance\",\n\t\t\tdesynchronized: true\n\t\t});\n\n\t\tconsole.log(this.gl);\n\t\tthis.initialize();\n\t\twindow.onresize = event => {\n\t\t\tthis.willResizeEvent(event);\n\t\t};\n\n\t\tthis.onNodeClickCallback = null;\n\t\tthis.onNodeHoverStartCallback = null;\n\t\tthis.onNodeHoverMoveCallback = null;\n\t\tthis.onNodeHoverEndCallback = null;\n\t\t// this.onEdgeClickCallback = null;\n\t\tthis.onZoomCallback = null;\n\t\tthis.onRotationCallback = null;\n\t\tthis.onResizeCallback = null;\n\t\tthis.onLayoutStartCallback = null;\n\t\tthis.onLayoutFinishCallback = null;\n\t\tthis.onDrawCallback = null;\n\t\tthis._backgroundColor = [0.5, 0.5, 0.5, 1.0];\n\t\tthis.onReadyCallback = null;\n\t\tthis.isReady=false;\n\t}\n\n\t// d3-like function Set/Get\n\t//zoom()\n\t//rotate()\n\t//pan()\n\t//highlightNodes()\n\t//centerNode()\n\n\n\n\n\n\tasync initialize() {\n\t\tawait this._setupShaders();\n\t\tawait this._buildGeometry();\n\t\tawait this._buildPickingBuffers();\n\t\tawait this._buildEdgesGeometry();\n\t\tawait this.willResizeEvent(0);\n\n\t\tawait this._setupCamera();\n\t\tawait this._setupEvents();\n\t\tawait this._setupLayout();\n\n\t\tawait this.redraw();\n\t\tthis.onReadyCallback?.(this);\n\t\tthis.onReadyCallback = null;\n\t\tthis.isReady = true;\n\t}\n\n\t_setupLayout() {\n\n\t\t// this.layoutWorker = new Worker(new URL('../layouts/ngraphLayoutWorker.js', import.meta.url));\n\t\t// this.layoutWorker = new Worker(new URL('../layouts/d3force3dLayoutWorker.js', import.meta.url));\n\t\tthis.layoutWorker = new Worker(d3force3dLayoutURL);\n\t\t\n\t\tthis.newPositions = this.network.positions.slice(0);\n\t\tthis.positionInterpolator = null;\n\t\tthis.layoutWorker.onmessage = (msg) => {\n\t\t\tif (msg.data.type == \"layoutStep\") {\n\t\t\t\tthis.newPositions = msg.data.positions;\n\t\t\t\t// let newPositions = msg.data.positions;\n\t\t\t\t// for (let index = 0; index < this.network.positions.length; index++) {\n\t\t\t\t// \tthis.network.positions[index] = newPositions[index];\n\t\t\t\t// };\n\t\t\t\t// requestAnimationFrame(()=>{\t\n\t\t\t\t// \tthis._updateGeometry();\n\t\t\t\t// \tthis._updateEdgesGeometry();\n\t\t\t\t// \tthis.redraw();\n\t\t\t\t// });\n\t\t\t\t// console.log(\"receiving positions...\");\n\t\t\t\tif (this.positionInterpolator == null) {\n\t\t\t\t\tlet maxDisplacement = 0;\n\t\t\t\t\tfor (let index = 0; index < this.network.positions.length; index++) {\n\t\t\t\t\t\tlet displacement = this.newPositions[index] - this.network.positions[index];\n\t\t\t\t\t\tmaxDisplacement = Math.max(Math.abs(displacement), maxDisplacement);\n\t\t\t\t\t};\n\t\t\t\t\tif (maxDisplacement > 1) {\n\t\t\t\t\t\t// console.log(\"Interpolator Started...\");\n\t\t\t\t\t\tthis.onLayoutStartCallback?.();\n\t\t\t\t\t\tthis.positionInterpolator = setInterval(() => {\n\t\t\t\t\t\t\tlet maxDisplacement = 0;\n\t\t\t\t\t\t\tfor (let index = 0; index < this.network.positions.length; index++) {\n\t\t\t\t\t\t\t\tlet displacement = this.newPositions[index] - this.network.positions[index];\n\t\t\t\t\t\t\t\tthis.network.positions[index] += 0.025 * (displacement);\n\t\t\t\t\t\t\t\tmaxDisplacement = Math.max(Math.abs(displacement), maxDisplacement);\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis._updateGeometry();\n\t\t\t\t\t\t\tthis._updateEdgesGeometry();\n\t\t\t\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\t\t\t\tthis.redraw();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (maxDisplacement < 1) {\n\t\t\t\t\t\t\t\t// console.log(\"Interpolator Stopped...\");\n\t\t\t\t\t\t\t\tthis.onLayoutFinishCallback?.();\n\t\t\t\t\t\t\t\tclearInterval(this.positionInterpolator);\n\t\t\t\t\t\t\t\tthis.positionInterpolator = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000 / 60);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Received message\", msg);\n\t\t\t}\n\t\t}\n\t\tthis.layoutWorker.postMessage({ type: \"import\", location: import.meta.url });\n\t\tthis.layoutWorker.postMessage({ type: \"init\", network: this.network, use2D: this._use2D });\n\t\tthis.layoutRunning = true;\n\t\tdocument.addEventListener('keyup', event => {\n\t\t\tif (event.code === 'Space') {\n\t\t\t\tif(this.layoutRunning){\n\t\t\t\t\tthis.layoutWorker.postMessage({ type: \"stop\"});\n\t\t\t\t\tthis.layoutRunning=false;\n\t\t\t\t}else{\n\t\t\t\t\tthis.layoutWorker.postMessage({ type: \"restart\" });\n\t\t\t\t\tthis.layoutRunning=true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\n\t_setupEvents() {\n\t\tthis.lastMouseX = -1;\n\t\tthis.lastMouseY = -1;\n\n\t\tthis.currentHoverIndex = -1;\n\n\t\tthis.canvasElement.onclick = e => {\n\t\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\n\t\t\tthis.lastMouseX = e.clientX;\n\t\t\tthis.lastMouseY = e.clientY;\n\t\t\tconst nodeIndex = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\t\tif (nodeIndex >= 0) {\n\t\t\t\tthis.onNodeClickCallback?.(this.network.index2Node[nodeIndex], e);\n\t\t\t}\n\t\t};\n\n\t\tthis.canvasElement.addEventListener('mousemove', (event) => {\n\t\t\tthis.lastMouseX = event.clientX;\n\t\t\tthis.lastMouseY = event.clientY;\n\t\t\tthis.triggerHoverEvents(event);\n\t\t});\n\n\t\tthis.canvasElement.addEventListener('mouseleave', (e) => {\n\t\t\tif (this.currentHoverIndex >= 0) {\n\t\t\t\tthis.onNodeHoverEndCallback?.(this.network.index2Node[this.currentHoverIndex], e);\n\t\t\t\tthis.currentHoverIndex = -1;\n\t\t\t\tthis.lastMouseX = -1;\n\t\t\t\tthis.lastMouseY = -1;\n\t\t\t}\n\t\t\t\n\t\t});\n\t\tdocument.body.addEventListener('mouseout', (e) => {\n\t\t\t\tif (!e.relatedTarget && !e.toElement) {\n\t\t\t\t\tif (this.currentHoverIndex >= 0) {\n\t\t\t\t\t\tthis.onNodeHoverEndCallback?.(this.network.index2Node[this.currentHoverIndex], e);\n\t\t\t\t\t\tthis.currentHoverIndex = -1;\n\t\t\t\t\t\tthis.lastMouseX = -1;\n\t\t\t\t\t\tthis.lastMouseY = -1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t});\n\t}\n\n\tasync _downloadImageData(imagedata, filename, supersampleFactor,fileFormat) {\n\t\t// let canvas = document.getElementById('SUPERCANVAS');\n\t\tlet pica = new Pica({\n\t\t\t// features:[\"all\"],\n\t\t})\n\t\tlet canvas = document.createElement('canvas');\n\t\tlet canvasFullSize = document.createElement('canvas');\n\t\tlet ctx = canvas.getContext('2d');\n\t\tlet ctxFullSize = canvasFullSize.getContext('2d');\n\t\tcanvasFullSize.width = imagedata.width;\n\t\tcanvasFullSize.height = imagedata.height;\n\t\tcanvas.width = imagedata.width/supersampleFactor;\n\t\tcanvas.height = imagedata.height/supersampleFactor;\n\t\tctx.imageSmoothingEnabled = true;\n\t\tctxFullSize.imageSmoothingEnabled = true;\n\t\tif(typeof ctx.imageSmoothingQuality !== 'undefined'){\n\t\t\tctx.imageSmoothingQuality = 'high';\n\t\t}\n\t\tif(typeof ctxFullSize.imageSmoothingQuality !== 'undefined'){\n\t\t\tctxFullSize.imageSmoothingQuality = 'high';\n\t\t}\n\n\t\t// let dpr = window.devicePixelRatio || 1;\n\t\t// canvas.style.width =  canvas.width/dpr/10 + \"px\";\n\t\t// canvas.style.height = canvas.height/dpr/10 + \"px\";\n\n\n\t\tctxFullSize.putImageData(imagedata, 0, 0);\n\t\t\n\t\tawait pica.resize(canvasFullSize,canvas,{\n\t\t\talpha:true,\n\t\t});\n\n\t\t// ctxFullSize.drawImage(canvasFullSize, 0, 0,canvasFullSize.width*0.5,canvasFullSize.height*0.5,0,0,\n\t\t// \timagedata.width/supersampleFactor,\n\t\t// \timagedata.height/supersampleFactor);\n\t\t// ctx.drawImage(canvasFullSize, 0, 0,canvasFullSize.width,canvasFullSize.height,0,0,\n\t\t// \timagedata.width/supersampleFactor,\n\t\t// \timagedata.height/supersampleFactor);\n\t\t\n\t\t\n\t\t// let image = new Image();\n\t\t// let imageSRC = canvas.toDataURL()\n\t\t// image.src = imageSRC;\n\t\tlet downloadLink = document.createElement('a');\n\t\t// console.log([\"CANVAS\",imageSRC]);\n\n\t\t\t\t\t\n\t\tif(isSafari){\n\t\t\t// BUG in Safari\n\t\t\tconsole.log(\"Fixing Safari bug...\");\n\t\t\tcanvas.toDataURL();\n\t\t}\n\n\t\tdownloadLink.setAttribute('download', filename);\n\t\tlet blob = await pica.toBlob(canvas,\"image/png\");\n\t\tif(blob){\n\t\t\tif(filename.endsWith(\"svg\")){\n\t\t\t\tlet svgText = `\n\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t\t>\n\t\t\t\t<image\n\t\t\t\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t\t\t\txlink:href=\"${blob}\"\n\t\t\t\t\t\t/>\n\t\t\t\t</svg>`\n\t\t\t\tdownloadLink.setAttribute('download', filename);\n\t\t\t\tlet blobSVG = new Blob([svgText], {type: 'image/svg+xml'});\n\t\t\t\tlet url = URL.createObjectURL(blobSVG);\n\t\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t\tdownloadLink.click();\n\t\t\t}else{\n\t\t\t\tlet url = URL.createObjectURL(blob);\n\t\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t\tdownloadLink.click();\n\t\t\t}\n\t\t}else{\n\t\t\twindow.alert(`An error occured while trying to download the image. Please try again. (Error: blob is null.)`);\n\t\t\t// console.log(\"BLOB IS NULL\");\n\t\t}\n\n\t\tif(filename.endsWith(\"svg\")){\n\t\t\tlet svgText = `\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t>\n\t\t\t<image\n\t\t\t\t\twidth=\"${canvas.width}\" height=\"${canvas.width}\"\n\t\t\t\t\txlink:href=\"${canvas.toDataURL()}\"\n\t\t\t\t\t/>\n\t\t\t</svg>`\n\t\t\tdownloadLink.setAttribute('download', filename);\n\t\t\tlet blob = new Blob([svgText], {type: 'image/svg+xml'});\n\t\t\tlet url = URL.createObjectURL(blob);\n\t\t\tdownloadLink.setAttribute('href', url);\n\t\t\tdownloadLink.click();\n\t\t}else if (false){\n\t\t\tdownloadLink.setAttribute('download', filename);\n\t\t\tdownloadLink.setAttribute('href', canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\"));\n\t\t\tdownloadLink.click();\n\t\t}else{\n\n\t\t\t// canvas.toBlob(function(blob) {\n\t\t\t// \tconsole.log([\"CANVAS\",blob]);\n\t\t\t// \tlet trials = 3;\n\t\t\t// \tlet success = false;\n\t\t\t// \tlet lastError = null;\n\t\t\t// \twhile(trials>0 && !success){\n\t\t\t// \t\t// FIXME: Safari BUG\n\t\t\t// \t\ttry {\n\t\t\t// \t\t\tlet url = URL.createObjectURL(blob);\n\t\t\t// \t\t\tdownloadLink.setAttribute('href', url);\n\t\t\t// \t\t\tdownloadLink.click();\n\t\t\t// \t\t\tsuccess=true;\n\t\t\t// \t\t} catch (error) {\n\t\t\t// \t\t\tlastError = error;\n\t\t\t// \t\t}\n\t\t\t// \t\ttrials--;\n\t\t\t// \t}\n\t\t\t// \tif(!success){\n\t\t\t// \t\twindow.alert(`An error occured while trying to download the image. Please try again. (Error: ${lastError})`)\n\t\t\t// \t}\n\t\t\t// });\n\t\t}\n\t}\n\n\tframebufferImage(framebuffer) { \n\t\tconst fbWidth = framebuffer.size.width;\n\t\tconst fbHeight = framebuffer.size.height;\n\t\tconst data = new Uint8ClampedArray(4*fbWidth*fbHeight);\n\t\tlet gl = this.gl;\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\t\tgl.readPixels(\n\t\t\t0,            // x\n\t\t\t0,            // y\n\t\t\tfbWidth,                 // width\n\t\t\tfbHeight,                 // height\n\t\t\tgl.RGBA,           // format\n\t\t\tgl.UNSIGNED_BYTE,  // type\n\t\t\tdata);             // typed array to hold result\n\n\t\treturn new ImageData(data, fbWidth, fbHeight);\n\t}\n\n\texportFigure(filename,{\n\t\t\tscale=1.0,\n\t\t\tsupersampleFactor=4.0,\n\t\t\twidth=null,\n\t\t\theight=null,\n\t\t\tbackgroundColor = null,\n\t\t}) {\n\t\tif(typeof(scale)==='undefined'){\n\t\t\tscale=1.0;\n\t\t}\n\t\tif(typeof(supersampleFactor)==='undefined'){\n\t\t\tsupersampleFactor=2.0;\n\t\t}\n\t\tlet framebuffer = this.createOffscreenFramebuffer();\n\t\tif(width==null && height==null){\n\t\t\twidth = this.canvasElement.width;\n\t\t\theight = this.canvasElement.height;\n\t\t}else if(width==null){\n\t\t\twidth = Math.round(height * this.canvasElement.width/this.canvasElement.height);\n\t\t}else if(height==null){\n\t\t\theight = Math.round(width * this.canvasElement.height/this.canvasElement.width);\n\t\t}\n\t\tif(backgroundColor==null){\n\t\t\tbackgroundColor = this.backgroundColor;\n\t\t}\n\t\tframebuffer.setSize(width*scale*supersampleFactor, height*scale*supersampleFactor);\n\t\tframebuffer.backgroundColor = backgroundColor;\n\t\tthis._redrawAll(framebuffer);\n\t\tlet image = this.framebufferImage(framebuffer);\n\t\tthis._downloadImageData(image,filename,supersampleFactor);\n\t\t\n\t\tframebuffer.discard();\n\t}\n\n\ttriggerHoverEvents(event) {\n\t\tif(this.lastMouseX==-1 || this.lastMouseY==-1){\n\t\t\treturn;\n\t\t}\n\t\tconst rect = this.canvasElement.getBoundingClientRect();\n\t\tconst nodeID = this.pickPoint(this.lastMouseX - rect.left, this.lastMouseY - rect.top);\n\t\tif (nodeID >= 0 && this.currentHoverIndex == -1) {\n\t\t\tthis.currentHoverIndex = nodeID;\n\t\t\tthis.onNodeHoverStartCallback?.(this.network.index2Node[nodeID], event);\n\t\t} else if (nodeID >= 0 && this.currentHoverIndex == nodeID) {\n\t\t\t// console.log(\"mouse: \",this.lastMouseX,this.lastMouseY)\n\t\t\tthis.onNodeHoverMoveCallback?.(this.network.index2Node[nodeID], event);\n\t\t} else if (nodeID >= 0 && this.currentHoverIndex != nodeID) {\n\t\t\tthis.onNodeHoverEndCallback?.(this.network.index2Node[this.currentHoverIndex], event);\n\t\t\tthis.currentHoverIndex = nodeID;\n\t\t\tthis.onNodeHoverStartCallback?.(this.network.index2Node[nodeID], event);\n\t\t} else if (nodeID == -1 && this.currentHoverIndex != nodeID) {\n\t\t\tthis.onNodeHoverEndCallback?.(this.network.index2Node[this.currentHoverIndex], event);\n\t\t\tthis.currentHoverIndex = -1;\n\t\t}\n\t}\n\tasync _setupShaders() {\n\t\tlet edgesShaderVertex = await glUtils.getShader(this.gl, \"edges-vertex\");\n\t\tlet edgesShaderFragment = await glUtils.getShader(this.gl, \"edges-fragment\");\n\t\t// let edgesShaderVertex = await glUtils.getShaderFromURL(this.gl, new URL('../shaders/edges.vsh', import.meta.url), this.gl.VERTEX_SHADER)\n\t\t// let edgesShaderFragment = await glUtils.getShaderFromURL(this.gl, new URL('../shaders/edges.fsh', import.meta.url), this.gl.FRAGMENT_SHADER) //gl.FRAGMENT_SHADER or \n\n\n\n\t\tthis.edgesShaderProgram = new glUtils.ShaderProgram(\n\t\t\tedgesShaderVertex,\n\t\t\tedgesShaderFragment,\n\t\t\t[\"projectionViewMatrix\", \"nearFar\", \"linesIntensity\"],\n\t\t\t[\"vertex\", \"color\"],\n\t\t\tthis.gl);\n\n\t\t//Initializing vertices shaders\n\t\tlet verticesShaderVertex = await glUtils.getShader(this.gl, \"vertices-vertex\");\n\t\tlet verticesShaderFragment = await glUtils.getShader(this.gl, \"vertices-fragment\");\n\t\tlet pickingShaderFragment = await glUtils.getShader(this.gl, \"vertices-fragment-picking\");\n\n\t\t// let verticesShaderVertex = await glUtils.getShaderFromURL(this.gl, new URL('../shaders/vertices.vsh', import.meta.url), this.gl.VERTEX_SHADER)\n\t\t// let verticesShaderFragment = await glUtils.getShaderFromURL(this.gl, new URL('../shaders/vertices.fsh', import.meta.url), this.gl.FRAGMENT_SHADER) //gl.FRAGMENT_SHADER or \n\t\t// let pickingShaderFragment = await glUtils.getShaderFromURL(this.gl, new URL('../shaders/verticesPicking.fsh', import.meta.url), this.gl.FRAGMENT_SHADER) //gl.FRAGMENT_SHADER or \n\n\t\tthis.verticesShaderProgram = new glUtils.ShaderProgram(verticesShaderVertex, verticesShaderFragment,\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"intensity\", \"size\",\"outlineWidth\",\"outlineColor\", \"encodedIndex\"], this.gl);\n\n\t\tthis.verticesPickingShaderProgram = new glUtils.ShaderProgram(verticesShaderVertex, pickingShaderFragment,\n\t\t\t[\"viewMatrix\", \"projectionMatrix\", \"normalMatrix\"],\n\t\t\t[\"vertex\", \"position\", \"color\", \"intensity\", \"size\",\"outlineWidth\",\"outlineColor\", \"encodedIndex\"], this.gl);\n\n\t}\n\n\tasync _buildGeometry() {\n\t\tlet gl = this.gl;\n\t\tlet sphereQuality = 15;\n\t\t// this.nodesGeometry = glUtils.makeSphere(gl, 1.0, sphereQuality, sphereQuality);\n\t\tthis.nodesGeometry = glUtils.makePlane(gl, false, false);\n\t\t// //vertexShape = makeBox(gl);\n\n\n\n\t\tthis.nodesPositionBuffer = gl.createBuffer();\n\t\tthis.nodesColorBuffer = gl.createBuffer();\n\t\tthis.nodesSizeBuffer = gl.createBuffer();\n\t\tthis.nodesIntensityBuffer = gl.createBuffer();\n\t\tthis.nodesOutlineWidthBuffer = gl.createBuffer();\n\t\tthis.nodesOutlineColorBuffer = gl.createBuffer();\n\t\tthis.nodesIndexBuffer = gl.createBuffer();\n\n\t\t//encodedIndex\n\t\tthis.nodesIndexArray = new Float32Array(this.network.index2Node.length * 4);\n\t\tfor (let ID = 0; ID < this.network.index2Node.length; ID++) {\n\t\t\tthis.nodesIndexArray[4 * ID] = (((ID + 1) >> 0) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 1] = (((ID + 1) >> 8) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 2] = (((ID + 1) >> 16) & 0xFF) / 0xFF;\n\t\t\tthis.nodesIndexArray[4 * ID + 3] = (((ID + 1) >> 24) & 0xFF) / 0xFF;\n\t\t}\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIndexBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, this.nodesIndexArray, gl.STATIC_DRAW);\n\t\tconsole.log(this.nodesIndexArray)\n\n\t\tawait this._updateGeometry();\n\t}\n\n\tasync _buildPickingBuffers() {\n\t\tlet gl = this.gl;\n\t\tthis.pickingFramebuffer = this.createOffscreenFramebuffer();\n\t}\n\n\tcreateOffscreenFramebuffer() {\n\t\tlet gl = this.gl;\n\t\tlet framebuffer = gl.createFramebuffer();\n\t\tframebuffer.texture = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, framebuffer.texture);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t\tframebuffer.depthBuffer = gl.createRenderbuffer();\n\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, framebuffer.depthBuffer);\n\n\t\t// Create and bind the framebuffer\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\t\tframebuffer.size = {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t};\n\n\t\tframebuffer.setSize = (width, height) => {\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, framebuffer.texture);\n\t\t\t// define size and format of level 0\n\t\t\tconst level = 0;\n\t\t\tconst internalFormat = gl.RGBA;\n\t\t\tconst border = 0;\n\t\t\tconst format = gl.RGBA;\n\t\t\tconst type = gl.UNSIGNED_BYTE;\n\t\t\tconst data = null;\n\t\t\tconst fbWidth = width;\n\t\t\tconst fbHeight = height;\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, level, internalFormat,\n\t\t\t\tfbWidth, fbHeight, border, format, type, data);\n\t\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, framebuffer.depthBuffer);\n\t\t\tgl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, fbWidth, fbHeight);\n\t\t\tframebuffer.size.width = width;\n\t\t\tframebuffer.size.height = height;\n\t\t};\n\n\t\tframebuffer.discard = () =>{\n\t\t\tgl.deleteRenderbuffer(framebuffer.depthBuffer);\n\t\t\tgl.deleteTexture(framebuffer.texture);\n\t\t\tgl.deleteFramebuffer(framebuffer);\n\t\t}\n\t\t// attach the texture as the first color attachment\n\t\tconst attachmentPoint = gl.COLOR_ATTACHMENT0;\n\t\tconst level = 0;\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, attachmentPoint, gl.TEXTURE_2D, framebuffer.texture, level);\n\n\t\t// make a depth buffer and the same size as the targetTexture\n\t\tgl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, framebuffer.depthBuffer);\n\t\treturn framebuffer;\n\t}\n\n\n\tasync _updateGeometry() {\n\t\tlet gl = this.gl;\n\n\t\tlet positions = this.network.positions;\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesPositionBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, positions, gl.DYNAMIC_DRAW);\n\n\t\tlet colors = this.network.colors;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesColorBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n\n\t\tlet sizes = this.network.sizes;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesSizeBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, sizes, gl.STATIC_DRAW);\n\n\t\tlet intensities = this.network.intensities;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIntensityBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, intensities, gl.STATIC_DRAW);\n\n\t\tlet outlineWidths = this.network.outlineWidths;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineWidthBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, outlineWidths, gl.STATIC_DRAW);\n\t\t\n\t\tlet outlineColors = this.network.outlineColors;\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineColorBuffer);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, outlineColors, gl.STATIC_DRAW);\n\n\n\t\t// //Depth test is essential for the desired effects\n\n\t\t// gl.disable(gl.CULL_FACE);\n\t\t// gl.frontFace(gl.CCW);\n\n\t}\n\n\tasync _buildEdgesGeometry() {\n\t\tlet gl = this.gl;\n\t\tlet edges = this.network.indexedEdges;\n\t\tlet positions = this.network.positions;\n\t\tlet colors = this.network.colors;\n\n\t\tlet newGeometry = new Object();\n\t\tlet indicesArray;\n\n\t\t//FIXME: If num of vertices > 65k, we need to store the geometry in two different indices objects\n\t\tif (positions.length < 64000) {\n\t\t\tindicesArray = new Uint16Array(edges);\n\t\t\tnewGeometry.indexType = gl.UNSIGNED_SHORT;\n\t\t} else {\n\t\t\tvar uints_for_indices = gl.getExtension(\"OES_element_index_uint\");\n\t\t\tif (uints_for_indices == null) {\n\t\t\t\tindicesArray = new Uint16Array(edges);\n\t\t\t\tnewGeometry.indexType = gl.UNSIGNED_SHORT;\n\t\t\t} else {\n\t\t\t\tindicesArray = new Uint32Array(edges);\n\t\t\t\tnewGeometry.indexType = gl.UNSIGNED_INT;\n\t\t\t}\n\t\t}\n\n\t\t// create the lines buffer 2 vertices per geometry.\n\t\tnewGeometry.vertexObject = gl.createBuffer();\n\t\tnewGeometry.colorObject = gl.createBuffer();\n\t\tnewGeometry.numIndices = indicesArray.length;\n\t\tnewGeometry.indexObject = gl.createBuffer();\n\n\t\tthis.edgesGeometry = newGeometry;\n\t\tthis.indicesArray = indicesArray;\n\t\tawait this._updateEdgesGeometry()\n\t}\n\n\tasync _updateEdgesGeometry() {\n\t\tlet gl = this.gl;\n\t\tlet edges = this.network.indexedEdges;\n\t\tlet positions = this.network.positions;\n\t\tlet colors = this.network.colors;\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.vertexObject);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, positions, gl.STATIC_DRAW);\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.colorObject);\n\t\tgl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);\n\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.edgesGeometry.indexObject);\n\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STREAM_DRAW);\n\n\t}\n\n\tasync resizeGL(newWidth, newHeight) {\n\t\tthis.pickingFramebuffer.setSize(newWidth*this.pickingResolutionRatio, newHeight*this.pickingResolutionRatio);\n\t\twindow.requestAnimationFrame(() => this.redraw());\n\t}\n\n\n\tasync _setupCamera() {\n\t\t// this.canvasElement.onmousedown = event=>this.handleMouseDown(event);\n\t\t// document.onmouseup = event=>this.handleMouseUp(event);\n\t\t// document.onmousemove = event=>this.handleMouseMove(event);\n\t\t// document.onclick = void(0);\n\n\t\tthis.zoom = d3Zoom().on(\"zoom\", event => {\n\t\t\tthis.zoomFactor = event.transform.k;\n\t\t\tthis.triggerHoverEvents(event);\n\t\t\tif (!this.positionInterpolator) {\n\t\t\t\tthis.update();\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t\tevent => event.preventDefault();\n\t\t})\n\t\tthis.drag = d3Drag().on(\"drag\", event => {\n\t\t\tlet newRotationMatrix = glm.mat4.create();\n\n\t\t\tif (!this._use2D) {\n\t\t\t\tglm.mat4.identity(newRotationMatrix);\n\t\t\t\tglm.mat4.rotate(newRotationMatrix, newRotationMatrix, glUtils.degToRad(event.dx / 2), [0, 1, 0]);\n\t\t\t\tglm.mat4.rotate(newRotationMatrix, newRotationMatrix, glUtils.degToRad(event.dy / 2), [1, 0, 0]);\n\n\t\t\t\tglm.mat4.multiply(this.rotationMatrix, newRotationMatrix, this.rotationMatrix);\n\t\t\t} else {//pan\n\t\t\t\tlet perspectiveFactor = this.cameraDistance * this.zoomFactor;\n\t\t\t\tlet aspectRatio = this.canvasElement.width / this.canvasElement.height;\n\t\t\t\tthis.panX = this.panX + event.dx / perspectiveFactor*400;///400;\n\t\t\t\tthis.panY = this.panY - event.dy / perspectiveFactor*400;///400;\n\t\t\t}\n\t\t\tif (!this.positionInterpolator) {\n\t\t\t\tthis.update();\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t\tthis.triggerHoverEvents(event);\n\t\t\tevent => event.preventDefault();\n\t\t})\n\t\td3Select(this.canvasElement).call(this.drag)\n\t\t\t// .call(d3ZoomTransform, d3ZoomIdentity.translate(0, 0).scale(this.cameraDistance))\n\t\t\t.call(this.zoom)\n\t\t\t.on(\"dblclick.zoom\", null);\n\t}\n\n\twillResizeEvent(event) {\n\t\t//requestAnimFrame(function(){\n\t\tlet dpr = window.devicePixelRatio || 1;\n\t\tthis.canvasElement.style.width = this.element.clientWidth + \"px\";\n\t\tthis.canvasElement.style.height = this.element.clientHeight + \"px\";\n\t\tthis.canvasElement.width = dpr * this.element.clientWidth;\n\t\tthis.canvasElement.height = dpr * this.element.clientHeight;\n\t\tthis.resizeGL(this.canvasElement.width, this.canvasElement.height);\n\t\tthis.onResizeCallback?.(event);\n\t\t//});\n\t}\n\n\n\tredraw() {\n\t\tthis._redrawAll(null,false); // Normal\n\t\tthis._redrawAll(this.pickingFramebuffer,true); // Picking\n\t\tthis.onDrawCallback?.();\n\t\tthis.triggerHoverEvents(null);\n\t}\n\n\tupdate() {\n\t\tif (!this.positionInterpolator) {\n\t\t\tthis._updateGeometry();\n\t\t\tthis._updateEdgesGeometry();\n\t\t}\n\t}\n\trender() {\n\t\tif (!this.positionInterpolator) {\n\t\t\twindow.requestAnimationFrame(() => this.redraw());\n\t\t}\n\t}\n\n\n\t//destination null = normal\n\n\t_redrawPrepare(destination,isPicking, viewport) {\n\t\tlet gl = this.gl;\n\n\t\tconst fbWidth = destination?.size.width || this.canvasElement.width;\n\t\tconst fbHeight = destination?.size.height || this.canvasElement.height;\n\t\tif (destination==null) {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tgl.clearColor(...this._backgroundColor);\n\t\t} else if (isPicking){\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, destination);\n\t\t\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\n\t\t} else {\n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, destination);\n\t\t\tif(typeof destination.backgroundColor === \"undefined\"){\n\t\t\t\tgl.clearColor(...this._backgroundColor);\n\t\t\t}else{\n\t\t\t\tgl.clearColor(...destination.backgroundColor);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof viewport=== \"undefined\"){\n\t\t\tgl.viewport(0, 0, fbWidth, fbHeight);\n\t\t}else{\n\t\t\tgl.viewport(...viewport);\n\t\t}\n\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\t\tgl.depthFunc(gl.LEQUAL);\n\n\t\tthis.projectionMatrix = glm.mat4.create();\n\t\tthis.viewMatrix = glm.mat4.create();\n\n\t\tglm.mat4.perspective(this.projectionMatrix, Math.PI * 2 / 360 * 70, fbWidth / fbHeight, 1.0, 3000.0);\n\t\tglm.mat4.identity(this.viewMatrix);\n\t\tglm.mat4.translate(this.viewMatrix, this.viewMatrix, [this.panX, this.panY, -this.cameraDistance / this.zoomFactor]);\n\n\n\t\tglm.mat4.multiply(this.viewMatrix, this.viewMatrix, this.rotationMatrix);\n\t\t// glm.mat4.scale(this.viewMatrix, this.viewMatrix, [this.zoomFactor, this.zoomFactor, this.zoomFactor]);\n\t\tglm.mat4.translate(this.viewMatrix, this.viewMatrix, this.translatePosition);\n\n\n\t}\n\t\n\t_redrawNodes(destination,isPicking) {\n\t\tlet gl = this.gl;\n\t\tlet ext = gl.getExtension(\"ANGLE_instanced_arrays\");\n\n\n\t\tlet currentShaderProgram;\n\t\tif (!isPicking) {\n\t\t\t// console.log(this.verticesShaderProgram);\n\t\t\tgl.enable(gl.BLEND);\n\t\t\t// \tif(useDarkBackground){\n\t\t\t// gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t// \t}else{\n\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t// gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA,\n\t\t\t// \tgl.ZERO, gl.ONE);\n\t\t\t// \t}\n\t\t\tcurrentShaderProgram = this.verticesShaderProgram;\n\t\t} else {\n\t\t\tgl.disable(gl.BLEND);\n\t\t\t// console.log(this.verticesShaderProgram);\n\t\t\tcurrentShaderProgram = this.verticesPickingShaderProgram;\n\t\t}\n\n\t\tcurrentShaderProgram.use(gl);\n\t\tcurrentShaderProgram.attributes.enable(\"vertex\");\n\t\t// currentShaderProgram.attributes.enable(\"normal\");\n\t\tcurrentShaderProgram.attributes.enable(\"position\");\n\t\tcurrentShaderProgram.attributes.enable(\"size\");\n\t\tcurrentShaderProgram.attributes.enable(\"intensity\");\n\t\tcurrentShaderProgram.attributes.enable(\"outlineWidth\");\n\t\tcurrentShaderProgram.attributes.enable(\"outlineColor\");\n\t\tcurrentShaderProgram.attributes.enable(\"encodedIndex\");\n\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.vertexObject);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.vertex, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.vertex, 0);\n\n\t\t// gl.bindBuffer(gl.ARRAY_BUFFER, this.nodesGeometry.normalObject);\n\t\t// gl.vertexAttribPointer(currentShaderProgram.attributes.normal, 3, gl.FLOAT, false, 0, 0);\n\t\t// ext.vertexAttribDivisorANGLE(currentShaderProgram.attributes.normal, 0); \n\n\t\tif (this.nodesGeometry.indexObject) {\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.nodesGeometry.indexObject);\n\t\t}\n\n\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.projectionMatrix, false, this.projectionMatrix);\n\t\tgl.uniformMatrix4fv(currentShaderProgram.uniforms.viewMatrix, false, this.viewMatrix);\n\n\n\t\tlet normalMatrix = glm.mat3.create();\n\t\tglm.mat3.normalFromMat4(normalMatrix, this.viewMatrix);\n\t\tgl.uniformMatrix3fv(currentShaderProgram.uniforms.normalMatrix, false, normalMatrix);\n\n\t\t// Geometry Mutators and colors obtained from the network properties\n\t\tlet colorsArray = this.network.colors;\n\t\tlet positionsArray = this.network.positions;\n\t\tlet sizeValue = this.network.sizes;\n\t\tlet intensityValue = this.network.intensities;\n\t\tlet outlineWidthValue = this.network.outlineWidths;\n\n\t\t// Bind the instance position data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesPositionBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.position);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.position, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.position, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesColorBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.color);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.color, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.color, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesSizeBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.size);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.size, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.size, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineColorBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.outlineColor);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.outlineColor, 3, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.outlineColor, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesOutlineWidthBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.outlineWidth);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.outlineWidth, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.outlineWidth, 1); // This makes it instanced!\n\n\t\t// Bind the instance color data\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIntensityBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.intensity);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.intensity, 1, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.intensity, 1); // This makes it instanced!\n\t\t// Bind the instance color data\n\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.nodesIndexBuffer);\n\t\tgl.enableVertexAttribArray(currentShaderProgram.attributes.encodedIndex);\n\t\tgl.vertexAttribPointer(currentShaderProgram.attributes.encodedIndex, 4, gl.FLOAT, false, 0, 0);\n\t\text.vertexAttribDivisorANGLE(currentShaderProgram.attributes.encodedIndex, 1); // This makes it instanced!\n\n\t\t// console.log(this.network.positions.length/3)\n\t\t// Draw the instanced meshes\n\t\tif (this.nodesGeometry.indexObject) {\n\t\t\text.drawElementsInstancedANGLE(gl.TRIANGLES, this.nodesGeometry.numIndices, this.nodesGeometry.indexType, 0, this.network.positions.length / 3);\n\t\t} else {\n\t\t\text.drawArraysInstancedANGLE(gl.TRIANGLE_STRIP, 0, this.nodesGeometry.numIndices, this.network.positions.length / 3);\n\t\t}\n\n\t\t// Disable attributes\n\t\tcurrentShaderProgram.attributes.disable(\"vertex\");\n\t\t// this.verticesShaderProgram.attributes.disable(\"normal\");\n\t\tcurrentShaderProgram.attributes.disable(\"position\");\n\t\tcurrentShaderProgram.attributes.disable(\"size\");\n\t\tcurrentShaderProgram.attributes.disable(\"intensity\");\n\t\tcurrentShaderProgram.attributes.disable(\"outlineWidth\");\n\t\tcurrentShaderProgram.attributes.disable(\"outlineColor\");\n\t\tcurrentShaderProgram.attributes.disable(\"encodedIndex\");\n\n\n\t}\n\n\t_redrawEdges(destination,isPicking) {\n\t\tlet gl = this.gl;\n\t\tlet ext = gl.getExtension(\"ANGLE_instanced_arrays\");\n\t\tif ((!isPicking) && !((this.mouseDown || this.redrawingFromMouseWheelEvent) && this.fastEdges)) {\n\t\t\t// console.log(this.edgesShaderProgram)\n\t\t\tthis.edgesShaderProgram.use(gl);\n\t\t\tthis.edgesShaderProgram.attributes.enable(\"vertex\");\n\t\t\tthis.edgesShaderProgram.attributes.enable(\"color\");\n\t\t\tgl.enable(gl.BLEND);\n\t\t\t// \t//Edges are rendered with additive blending.\n\t\t\t// \tgl.enable(gl.BLEND);\n\t\t\t// \tif(useDarkBackground){\n\t\t\t\t\t// gl.blendFunc(gl.SRC_ALPHA, gl.ONE);\n\t\t\t// \t}else{\n\t\t\t// gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t// gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n\t\t\t// gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ZERO, gl.ONE ); //Original from Networks 3D\n\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE ); // New (works for transparent background)\n\n\t\t\tthis.projectionViewMatrix = glm.mat4.create();\n\t\t\tglm.mat4.multiply(this.projectionViewMatrix, this.projectionMatrix, this.viewMatrix);\n\n\t\t\t//bind attributes and unions\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.vertexObject);\n\t\t\tgl.vertexAttribPointer(this.edgesShaderProgram.attributes.vertex, 3, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(this.edgesShaderProgram.attributes.vertex, 0); // This makes it instanced!\n\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.edgesGeometry.colorObject);\n\t\t\tgl.vertexAttribPointer(this.edgesShaderProgram.attributes.color, 3, gl.FLOAT, false, 0, 0);\n\t\t\text.vertexAttribDivisorANGLE(this.edgesShaderProgram.attributes.color, 0); // This makes it instanced!\n\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.edgesGeometry.indexObject);\n\n\t\t\tgl.uniformMatrix4fv(this.edgesShaderProgram.uniforms.projectionViewMatrix, false, this.projectionViewMatrix);\n\n\t\t\t//gl.uniform2fv(edgesShaderProgram.uniforms.nearFar,[0.1,10.0]);\n\t\t\tgl.uniform1f(this.edgesShaderProgram.uniforms.linesIntensity, this._edgesIntensity);\n\n\t\t\t//drawElements is called only 1 time. no overhead from javascript\n\t\t\tgl.drawElements(gl.LINES, this.edgesGeometry.numIndices, this.edgesGeometry.indexType, 0);\n\n\t\t\t//disabling attributes\n\t\t\tthis.edgesShaderProgram.attributes.disable(\"vertex\");\n\t\t\tthis.edgesShaderProgram.attributes.disable(\"color\");\n\t\t}\n\t}\n\t_redrawAll(destination,isPicking) {\n\t\tif(typeof isPicking === 'undefined'){\n\t\t\tisPicking = false;\n\t\t}\n\t\tlet gl = this.gl;\n\t\t// isPicking=true;\n\t\tthis._redrawPrepare(destination,isPicking);\n\t\tgl.depthMask(true);\n\t\tif(this._use2D){\n\t\t\tgl.disable(gl.DEPTH_TEST);\n\t\t\tgl.depthMask(false);\n\t\t\tthis._redrawEdges(destination,isPicking);\n\t\t\tthis._redrawNodes(destination,isPicking);\n\t\t}else{\n\t\t\tgl.enable(gl.DEPTH_TEST);\n\t\t\tthis._redrawNodes(destination,isPicking);\n\t\t\tgl.depthMask(false);\n\t\t\tthis._redrawEdges(destination,isPicking);\n\t\t\tgl.depthMask(true);\n\t\t}\n\t}\n\n\n\n\t// onResizeCallback\n\t// onNodeClickCallback\n\t// onNodeHoverStartCallback \n\t// onNodeHoverEndCallback\n\t// onNodeHoverMoveCallback\n\t// onZoomCallback\n\t// onRotationCallback\n\t// onLayoutStartCallback\n\t// onLayoutFinishCallback\n\t// onDrawCallback\n\n\tonResize(callback) {\n\t\tthis.onResizeCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeClick(callback) {\n\t\tthis.onNodeClickCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeHoverStart(callback) {\n\t\tthis.onNodeHoverStartCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeHoverEnd(callback) {\n\t\tthis.onNodeHoverEndCallback = callback;\n\t\treturn this;\n\t}\n\tonNodeHoverMove(callback) {\n\t\tthis.onNodeHoverMoveCallback = callback;\n\t\treturn this;\n\t}\n\tonZoom(callback) {\n\t\tthis.onZoomCallback = callback;\n\t\treturn this;\n\t}\n\tonRotation(callback) {\n\t\tthis.onRotationCallback = callback;\n\t\treturn this;\n\t}\n\tonLayoutStart(callback) {\n\t\tthis.onLayoutStartCallback = callback;\n\t\treturn this;\n\t}\n\tonLayoutFinish(callback) {\n\t\tthis.onLayoutFinishCallback = callback;\n\t\treturn this;\n\t}\n\tonDraw(callback) {\n\t\tthis.onDrawCallback = callback;\n\t\treturn this;\n\t}\n\tonReady(callback){\n\t\tif(this.isReady){\n\t\t\tcallback?.(this);\n\t\t}else{\n\t\t\tthis.onReadyCallback = callback;\n\t\t}\n\t}\n\n\tbackgroundColor(color) {\n\t\t// check if color is defined\n\t\tif (typeof color === \"undefined\") {\n\t\t\treturn this._backgroundColor;\n\t\t} else {\n\t\t\tthis._backgroundColor = color;\n\t\t\treturn this;\n\t\t}\n\t}\n\n\n\tnodeColor(colorInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof colorInput === \"undefined\") {\n\t\t\t\treturn this.network.colors;\n\t\t\t} else if (typeof colorInput === \"function\") {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\t\tlet aColor = colorInput(node, nodeIndex, this.network);\n\t\t\t\t\tthis.network.colors[nodeIndex * 3 + 0] = aColor[0];\n\t\t\t\t\tthis.network.colors[nodeIndex * 3 + 1] = aColor[1];\n\t\t\t\t\tthis.network.colors[nodeIndex * 3 + 2] = aColor[2];\n\t\t\t\t}\n\t\t\t} else if (typeof colorInput === \"number\") {\n\t\t\t\t//index\n\t\t\t\treturn this.network.colors[this.network.ID2index[colorInput]];\n\t\t\t} else {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\t\tthis.network.colors[nodeIndex * 3 + 0] = colorInput[0];\n\t\t\t\t\tthis.network.colors[nodeIndex * 3 + 1] = colorInput[1];\n\t\t\t\t\tthis.network.colors[nodeIndex * 3 + 2] = colorInput[2];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof colorInput === \"function\") {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tlet aColor = colorInput(nodeID, nodeIndex, this.network);\n\t\t\t\tthis.network.colors[nodeIndex * 3 + 0] = aColor[0];\n\t\t\t\tthis.network.colors[nodeIndex * 3 + 1] = aColor[1];\n\t\t\t\tthis.network.colors[nodeIndex * 3 + 2] = aColor[2];\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.colors[nodeIndex * 3 + 0] = colorInput[0];\n\t\t\t\tthis.network.colors[nodeIndex * 3 + 1] = colorInput[1];\n\t\t\t\tthis.network.colors[nodeIndex * 3 + 2] = colorInput[2];\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\tnodeSize(sizeInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof sizeInput === \"undefined\") {\n\t\t\t\treturn this.network.sizes;\n\t\t\t} else if (typeof sizeInput === \"function\") {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tlet aSize = sizeInput(node, this.network);\n\t\t\t\t\tthis.network.sizes[node.index] = aSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tthis.network.sizes[node.index] = sizeInput;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof sizeInput === \"function\") {\n\t\t\t\tlet aSize = sizeInput(nodeID, this.network);\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.sizes[nodeIndex] = aSize;\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.sizes[nodeIndex] = sizeInput;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\tnodeOutlineColor(colorInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof colorInput === \"undefined\") {\n\t\t\t\treturn this.network.outlineColors;\n\t\t\t} else if (typeof colorInput === \"function\") {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\t\tlet aColor = colorInput(node, nodeIndex, this.network);\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 0] = aColor[0];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 1] = aColor[1];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 2] = aColor[2];\n\t\t\t\t}\n\t\t\t} else if (typeof colorInput === \"number\") {\n\t\t\t\t//index\n\t\t\t\treturn this.network.outlineColors[this.network.ID2index[colorInput]];\n\t\t\t} else {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 0] = colorInput[0];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 1] = colorInput[1];\n\t\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 2] = colorInput[2];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof colorInput === \"function\") {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tlet aColor = colorInput(nodeID, nodeIndex, this.network);\n\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 0] = aColor[0];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 1] = aColor[1];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 2] = aColor[2];\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 0] = colorInput[0];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 1] = colorInput[1];\n\t\t\t\tthis.network.outlineColors[nodeIndex * 3 + 2] = colorInput[2];\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\tnodeOutlineWidth(widthInput, nodeID) {\n\t\tif (typeof nodeID === \"undefined\") {\n\t\t\tif (typeof widthInput === \"undefined\") {\n\t\t\t\treturn this.network.outlineWidths;\n\t\t\t} else if (typeof widthInput === \"function\") {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tlet aWidth = widthInput(node, this.network);\n\t\t\t\t\tthis.network.outlineWidths[node.index] = aWidth;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const [nodeID, node] of Object.entries(this.network.nodes)) {\n\t\t\t\t\tthis.network.outlineWidths[node.index] = widthInput;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof widthInput === \"function\") {\n\t\t\t\tlet aWidth = widthInput(nodeID, this.network);\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineWidths[nodeIndex] = aWidth;\n\t\t\t} else {\n\t\t\t\tlet nodeIndex = this.network.ID2index[nodeID];\n\t\t\t\tthis.network.outlineWidths[nodeIndex] = widthInput;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\n\n\tpickPoint(x, y) {\n\t\tconst fbWidth = this.canvasElement.width * this.pickingResolutionRatio;\n\t\tconst fbHeight = this.canvasElement.height * this.pickingResolutionRatio;\n\t\tconst pixelX = x * fbWidth / this.canvasElement.clientWidth;\n\t\tconst pixelY = fbHeight - y * fbHeight / this.canvasElement.clientHeight - 1;\n\t\tconst data = new Uint8Array(4);\n\t\tlet gl = this.gl;\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.pickingFramebuffer);\n\t\tgl.readPixels(\n\t\t\tpixelX,            // x\n\t\t\tpixelY,            // y\n\t\t\t1,                 // width\n\t\t\t1,                 // height\n\t\t\tgl.RGBA,           // format\n\t\t\tgl.UNSIGNED_BYTE,  // type\n\t\t\tdata);             // typed array to hold result\n\t\tconst ID = (data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24)) - 1;\n\t\treturn ID;\n\t}\n\n\tedgesIntensity(intensity) {\n\t\t// check if color is defined\n\t\tif (typeof intensity === \"undefined\") {\n\t\t\treturn this._edgesIntensity;\n\t\t} else {\n\t\t\tthis._edgesIntensity = intensity;\n\t\t\treturn this;\n\t\t}\n\t}\n}\n\n// Helios.xnet = xnet;\nexport { xnet };\n"],
  "mappings": "6FAAA,0DAAO,GAAM,IAAO,aACP,GAAW,aACX,GAAM,GCGnB,GAAI,GAAU,KACV,EAAa,MAAO,eAAiB,YAAc,aAAe,MAClE,GAAS,KAAK,OAUlB,GAAI,IAAS,KAAK,GAAK,IAuBvB,AAAK,KAAK,OAAO,MAAK,MAAQ,UAAY,CAIxC,OAHI,GAAI,EACJ,EAAI,UAAU,OAEX,KACL,GAAK,UAAU,GAAK,UAAU,GAGhC,MAAO,MAAK,KAAK,KAy+BnB,aAAoB,CAClB,GAAI,GAAM,GAAI,GAAW,GAEzB,MAAI,IAAc,cAChB,GAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,GAGX,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAUT,YAAkB,EAAK,EAAG,CACxB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,IACJ,EAST,YAAiB,EAAG,CAClB,GAAI,GAAM,GAAI,GAAW,GACzB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACJ,EAUT,YAAgB,EAAK,EAAG,CACtB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACJ,EAiBT,YAAsB,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,CACjE,GAAI,GAAM,GAAI,GAAW,GACzB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAkBT,YAAe,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,CAC/D,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAST,YAAoB,EAAK,CACvB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAUT,YAAqB,EAAK,EAAG,CAE3B,GAAI,IAAQ,EAAG,CACb,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACZ,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,MAET,GAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GAGb,MAAO,GAUT,YAAkB,EAAK,EAAG,CACxB,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,CAAC,EAAM,EAAM,EAAM,EACzB,EAAM,EAAM,EAAM,EAAM,EAExB,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAExC,MAAK,GAIL,GAAM,EAAM,EACZ,EAAI,GAAK,EAAM,EACf,EAAI,GAAM,EAAC,EAAM,EAAM,EAAM,GAAO,EACpC,EAAI,GAAM,GAAM,EAAM,EAAM,GAAO,EACnC,EAAI,GAAK,EAAM,EACf,EAAI,GAAM,GAAM,EAAM,EAAM,GAAO,EACnC,EAAI,GAAM,EAAC,EAAM,EAAM,EAAM,GAAO,EACpC,EAAI,GAAK,EAAM,EACf,EAAI,GAAM,EAAC,EAAM,EAAM,EAAM,GAAO,EACpC,EAAI,GAAM,GAAM,EAAM,EAAM,GAAO,EAC5B,GAbE,KAuBX,YAAmB,EAAK,EAAG,CACzB,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACZ,SAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EAC3B,EAAI,GAAK,EAAM,EAAM,EAAM,EACpB,EAST,YAAuB,EAAG,CACxB,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACZ,MAAO,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,EAAC,EAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAWnG,YAAoB,EAAK,EAAG,EAAG,CAC7B,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACZ,SAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EAChC,EAWT,YAAqB,EAAK,EAAG,EAAG,CAC9B,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAI,EAAE,GACN,EAAI,EAAE,GACV,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EAAI,EAAM,EAAI,EAAM,EAC7B,EAAI,GAAK,EAAI,EAAM,EAAI,EAAM,EAC7B,EAAI,GAAK,EAAI,EAAM,EAAI,EAAM,EACtB,EAWT,YAAkB,EAAK,EAAG,EAAK,CAC7B,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GACjB,SAAI,GAAK,EAAI,EAAM,EAAI,EACvB,EAAI,GAAK,EAAI,EAAM,EAAI,EACvB,EAAI,GAAK,EAAI,EAAM,EAAI,EACvB,EAAI,GAAK,EAAI,EAAM,EAAI,EACvB,EAAI,GAAK,EAAI,EAAM,EAAI,EACvB,EAAI,GAAK,EAAI,EAAM,EAAI,EACvB,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAWT,YAAiB,EAAK,EAAG,EAAG,CAC1B,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACV,SAAI,GAAK,EAAI,EAAE,GACf,EAAI,GAAK,EAAI,EAAE,GACf,EAAI,GAAK,EAAI,EAAE,GACf,EAAI,GAAK,EAAI,EAAE,GACf,EAAI,GAAK,EAAI,EAAE,GACf,EAAI,GAAK,EAAI,EAAE,GACf,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACJ,EAcT,YAA2B,EAAK,EAAG,CACjC,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACF,EAcT,YAAwB,EAAK,EAAK,CAChC,GAAI,GAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GACjB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,CAAC,EACV,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAcT,YAAuB,EAAK,EAAG,CAC7B,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAUT,YAAmB,EAAK,EAAG,CACzB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACF,EAWT,YAAkB,EAAK,EAAG,CACxB,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACb,SAAI,GAAK,EAAI,EAAK,EAClB,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAI,EAAK,EAClB,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAI,EAAK,EACX,EAWT,YAAwB,EAAK,EAAG,CAC9B,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EAExB,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAE5E,MAAK,GAIL,GAAM,EAAM,EACZ,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EACxC,GAbE,KAwBX,YAAoB,EAAK,EAAO,EAAQ,CACtC,SAAI,GAAK,EAAI,EACb,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,GAAK,EACd,EAAI,GAAK,EACT,EAAI,GAAK,GACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAST,YAAe,EAAG,CAChB,MAAO,QAAU,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,IAS1I,YAAgB,EAAG,CACjB,MAAO,MAAK,MAAM,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,IAWtE,YAAe,EAAK,EAAG,EAAG,CACxB,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAWT,YAAoB,EAAK,EAAG,EAAG,CAC7B,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAWT,YAA0B,EAAK,EAAG,EAAG,CACnC,SAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EACT,EAYT,YAAgC,EAAK,EAAG,EAAG,EAAO,CAChD,SAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EAChB,EAUT,YAAuB,EAAG,EAAG,CAC3B,MAAO,GAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,GAU5J,YAAkB,EAAG,EAAG,CACtB,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACX,MAAO,MAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,IAO7qB,GAAI,IAAQ,GAMR,GAAQ,GAER,GAAoB,OAAO,OAAO,CACpC,UAAW,KACX,OAAQ,GACR,SAAU,GACV,MAAO,GACP,KAAM,GACN,WAAY,GACZ,IAAK,GACL,SAAU,GACV,UAAW,GACX,OAAQ,GACR,QAAS,GACT,YAAa,GACb,SAAU,GACV,UAAW,GACX,OAAQ,GACR,MAAO,GACP,gBAAiB,GACjB,aAAc,GACd,YAAa,GACb,UAAW,GACX,SAAU,GACV,eAAgB,GAChB,WAAY,GACZ,IAAK,GACL,KAAM,GACN,IAAK,GACL,SAAU,GACV,eAAgB,GAChB,qBAAsB,GACtB,YAAa,GACb,OAAQ,GACR,IAAK,GACL,IAAK,KAcP,aAAoB,CAClB,GAAI,GAAM,GAAI,GAAW,IAEzB,MAAI,IAAc,cAChB,GAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,GAGZ,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAST,YAAiB,EAAG,CAClB,GAAI,GAAM,GAAI,GAAW,IACzB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACL,EAUT,YAAgB,EAAK,EAAG,CACtB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACL,EAwBT,YAAsB,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,CACpG,GAAI,GAAM,GAAI,GAAW,IACzB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAyBT,YAAe,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,CAClG,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAST,YAAoB,EAAK,CACvB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAUT,YAAqB,EAAK,EAAG,CAE3B,GAAI,IAAQ,EAAG,CACb,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACZ,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,IACX,EAAI,GAAK,EACT,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,IACX,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,MAEV,GAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,IACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,IACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IAGd,MAAO,GAUT,YAAkB,EAAK,EAAG,CACxB,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EAExB,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAE5E,MAAK,GAIL,GAAM,EAAM,EACZ,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,GAAM,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAC/C,EAAI,IAAO,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAChD,EAAI,IAAO,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAChD,EAAI,IAAO,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAChD,EAAI,IAAO,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAChD,EAAI,IAAO,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EAChD,EAAI,IAAO,GAAM,EAAM,EAAM,EAAM,EAAM,GAAO,EACzC,GApBE,KA8BX,YAAmB,EAAK,EAAG,CACzB,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACZ,SAAI,GAAK,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAClG,EAAI,GAAK,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACpG,EAAI,GAAK,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAClG,EAAI,GAAK,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACpG,EAAI,GAAK,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACpG,EAAI,GAAK,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAClG,EAAI,GAAK,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACpG,EAAI,GAAK,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAClG,EAAI,GAAK,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAClG,EAAI,GAAK,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACpG,EAAI,IAAM,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GACnG,EAAI,IAAM,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACrG,EAAI,IAAM,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACrG,EAAI,IAAM,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GACnG,EAAI,IAAM,CAAE,GAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,IACrG,EAAI,IAAM,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAAO,EAAO,GAAM,EAAM,EAAM,GAC5F,EAST,YAAuB,EAAG,CACxB,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EACxB,EAAM,EAAM,EAAM,EAAM,EAE5B,MAAO,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAW3E,YAAoB,EAAK,EAAG,EAAG,CAC7B,GAAI,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IAER,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACX,SAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,IACP,EAAK,EAAE,IACP,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,GAAK,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAC/C,EAAI,IAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAChD,EAAI,IAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAChD,EAAK,EAAE,IACP,EAAK,EAAE,IACP,EAAK,EAAE,IACP,EAAK,EAAE,IACP,EAAI,IAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAChD,EAAI,IAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAChD,EAAI,IAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAChD,EAAI,IAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EAAM,EAAK,EACzC,EAWT,YAAqB,EAAK,EAAG,EAAG,CAC9B,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAK,EAAK,EAAK,EACf,EAAK,EAAK,EAAK,EACf,EAAK,EAAK,EAAK,EAEnB,MAAI,KAAM,EACR,GAAI,IAAM,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAC7C,EAAI,IAAM,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAC7C,EAAI,IAAM,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAAM,EAAI,EAAE,IAC9C,EAAI,IAAM,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAAM,EAAI,EAAE,KAE9C,GAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EAAM,EAAI,EAAM,EAAI,EAAM,EAAI,EAAE,IAC1C,EAAI,IAAM,EAAM,EAAI,EAAM,EAAI,EAAM,EAAI,EAAE,IAC1C,EAAI,IAAM,EAAM,EAAI,EAAM,EAAI,EAAM,EAAI,EAAE,IAC1C,EAAI,IAAM,EAAM,EAAI,EAAM,EAAI,EAAM,EAAI,EAAE,KAGrC,EAWT,YAAiB,EAAK,EAAG,EAAG,CAC1B,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACV,SAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,IAAM,EAAE,IAAM,EAClB,EAAI,IAAM,EAAE,IAAM,EAClB,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACL,EAYT,YAAkB,EAAK,EAAG,EAAK,EAAM,CACnC,GAAI,GAAI,EAAK,GACT,EAAI,EAAK,GACT,EAAI,EAAK,GACT,EAAM,KAAK,MAAM,EAAG,EAAG,GACvB,EAAG,EAAG,EACN,EAAK,EAAK,EAAK,EACf,EAAK,EAAK,EAAK,EACf,EAAK,EAAK,EAAK,EACf,EAAK,EAAK,EACV,EAAK,EAAK,EACV,EAAK,EAAK,EAEd,MAAI,GAAM,EACD,KAGT,GAAM,EAAI,EACV,GAAK,EACL,GAAK,EACL,GAAK,EACL,EAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GACb,EAAI,EAAI,EACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IAER,EAAM,EAAI,EAAI,EAAI,EAClB,EAAM,EAAI,EAAI,EAAI,EAAI,EACtB,EAAM,EAAI,EAAI,EAAI,EAAI,EACtB,EAAM,EAAI,EAAI,EAAI,EAAI,EACtB,EAAM,EAAI,EAAI,EAAI,EAClB,EAAM,EAAI,EAAI,EAAI,EAAI,EACtB,EAAM,EAAI,EAAI,EAAI,EAAI,EACtB,EAAM,EAAI,EAAI,EAAI,EAAI,EACtB,EAAM,EAAI,EAAI,EAAI,EAElB,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,GAAK,EAAM,EAAM,EAAM,EAAM,EAAM,EACvC,EAAI,IAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EACxC,EAAI,IAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAEpC,IAAM,GAER,GAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,KAGP,GAWT,YAAiB,EAAK,EAAG,EAAK,CAC5B,GAAI,GAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GACb,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IAEZ,MAAI,KAAM,GAER,GAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,KAId,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,IAAM,EAAM,EAAI,EAAM,EAC1B,EAAI,IAAM,EAAM,EAAI,EAAM,EACnB,EAWT,YAAiB,EAAK,EAAG,EAAK,CAC5B,GAAI,GAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GACb,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,IACR,EAAM,EAAE,IAEZ,MAAI,KAAM,GAER,GAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,KAId,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,IAAM,EAAM,EAAI,EAAM,EAC1B,EAAI,IAAM,EAAM,EAAI,EAAM,EACnB,EAWT,YAAiB,EAAK,EAAG,EAAK,CAC5B,GAAI,GAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GACb,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GACR,EAAM,EAAE,GAEZ,MAAI,KAAM,GAER,GAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,IACZ,EAAI,IAAM,EAAE,KAId,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EACzB,EAAI,GAAK,EAAM,EAAI,EAAM,EAClB,EAcT,YAA2B,EAAK,EAAG,CACjC,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EACH,EAcT,YAAuB,EAAK,EAAG,CAC7B,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAeT,YAAwB,EAAK,EAAK,EAAM,CACtC,GAAI,GAAI,EAAK,GACT,EAAI,EAAK,GACT,EAAI,EAAK,GACT,EAAM,KAAK,MAAM,EAAG,EAAG,GACvB,EAAG,EAAG,EAEV,MAAI,GAAM,EACD,KAGT,GAAM,EAAI,EACV,GAAK,EACL,GAAK,EACL,GAAK,EACL,EAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GACb,EAAI,EAAI,EAER,EAAI,GAAK,EAAI,EAAI,EAAI,EACrB,EAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EACzB,EAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EACzB,EAAI,GAAK,EACT,EAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EACzB,EAAI,GAAK,EAAI,EAAI,EAAI,EACrB,EAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EACzB,EAAI,GAAK,EACT,EAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EACzB,EAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EACzB,EAAI,IAAM,EAAI,EAAI,EAAI,EACtB,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,GAcT,YAAuB,EAAK,EAAK,CAC/B,GAAI,GAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GAEjB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,CAAC,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAcT,YAAuB,EAAK,EAAK,CAC/B,GAAI,GAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GAEjB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,CAAC,EACV,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAcT,YAAuB,EAAK,EAAK,CAC/B,GAAI,GAAI,KAAK,IAAI,GACb,EAAI,KAAK,IAAI,GAEjB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,CAAC,EACV,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAkBT,YAAiC,EAAK,EAAG,EAAG,CAE1C,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACb,SAAI,GAAK,EAAK,GAAK,GACnB,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EACT,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,GAAK,GACnB,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EACT,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,IAAM,EAAK,GAAK,GACpB,EAAI,IAAM,EACV,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EACH,EAUT,YAAmB,EAAK,EAAG,CACzB,GAAI,GAAc,GAAI,GAAW,GAC7B,EAAK,CAAC,EAAE,GACR,EAAK,CAAC,EAAE,GACR,EAAK,CAAC,EAAE,GACR,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAY,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAEnD,MAAI,GAAY,EACd,GAAY,GAAM,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAM,EAAI,EAC/D,EAAY,GAAM,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAM,EAAI,EAC/D,EAAY,GAAM,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAM,EAAI,GAE/D,GAAY,GAAM,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAM,EAC3D,EAAY,GAAM,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAM,EAC3D,EAAY,GAAM,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAM,GAG7D,GAAwB,EAAK,EAAG,GACzB,EAYT,YAAwB,EAAK,EAAK,CAChC,SAAI,GAAK,EAAI,IACb,EAAI,GAAK,EAAI,IACb,EAAI,GAAK,EAAI,IACN,EAaT,YAAoB,EAAK,EAAK,CAC5B,GAAI,GAAM,EAAI,GACV,EAAM,EAAI,GACV,EAAM,EAAI,GACV,EAAM,EAAI,GACV,EAAM,EAAI,GACV,EAAM,EAAI,GACV,EAAM,EAAI,GACV,EAAM,EAAI,GACV,EAAM,EAAI,IACd,SAAI,GAAK,KAAK,MAAM,EAAK,EAAK,GAC9B,EAAI,GAAK,KAAK,MAAM,EAAK,EAAK,GAC9B,EAAI,GAAK,KAAK,MAAM,EAAK,EAAK,GACvB,EAYT,YAAqB,EAAK,EAAK,CAC7B,GAAI,GAAU,GAAI,GAAW,GAC7B,GAAW,EAAS,GACpB,GAAI,GAAM,EAAI,EAAQ,GAClB,EAAM,EAAI,EAAQ,GAClB,EAAM,EAAI,EAAQ,GAClB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,GAAK,EAChB,EAAO,EAAI,IAAM,EACjB,EAAQ,EAAO,EAAO,EACtB,EAAI,EAER,MAAI,GAAQ,EACV,GAAI,KAAK,KAAK,EAAQ,GAAO,EAC7B,EAAI,GAAK,IAAO,EAChB,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAM,GAAO,GAAQ,GACpB,AAAI,EAAO,GAAQ,EAAO,EAC/B,GAAI,KAAK,KAAK,EAAM,EAAO,EAAO,GAAQ,EAC1C,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAK,IAAO,EAChB,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAM,GAAO,GAAQ,GACpB,AAAI,EAAO,EAChB,GAAI,KAAK,KAAK,EAAM,EAAO,EAAO,GAAQ,EAC1C,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAK,IAAO,EAChB,EAAI,GAAM,GAAO,GAAQ,GAEzB,GAAI,KAAK,KAAK,EAAM,EAAO,EAAO,GAAQ,EAC1C,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAM,GAAO,GAAQ,EACzB,EAAI,GAAK,IAAO,GAGX,EAoBT,YAAsC,EAAK,EAAG,EAAG,EAAG,CAElD,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACX,SAAI,GAAM,GAAK,GAAK,IAAO,EAC3B,EAAI,GAAM,GAAK,GAAM,EACrB,EAAI,GAAM,GAAK,GAAM,EACrB,EAAI,GAAK,EACT,EAAI,GAAM,GAAK,GAAM,EACrB,EAAI,GAAM,GAAK,GAAK,IAAO,EAC3B,EAAI,GAAM,GAAK,GAAM,EACrB,EAAI,GAAK,EACT,EAAI,GAAM,GAAK,GAAM,EACrB,EAAI,GAAM,GAAK,GAAM,EACrB,EAAI,IAAO,GAAK,GAAK,IAAO,EAC5B,EAAI,IAAM,EACV,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EAAE,GACZ,EAAI,IAAM,EACH,EAuBT,YAA4C,EAAK,EAAG,EAAG,EAAG,EAAG,CAE3D,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAQ,GAAK,GAAK,IAAO,EACzB,EAAQ,GAAK,GAAM,EACnB,EAAQ,GAAK,GAAM,EACnB,EAAQ,GAAK,GAAM,EACnB,EAAQ,GAAK,GAAK,IAAO,EACzB,EAAQ,GAAK,GAAM,EACnB,EAAQ,GAAK,GAAM,EACnB,EAAQ,GAAK,GAAM,EACnB,EAAS,GAAK,GAAK,IAAO,EAC9B,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EAAE,GAAK,EAAM,GAAO,EAAK,EAAO,EAAK,EAAO,GACtD,EAAI,IAAM,EAAE,GAAK,EAAM,GAAO,EAAK,EAAO,EAAK,EAAO,GACtD,EAAI,IAAM,EAAE,GAAK,EAAM,GAAO,EAAK,EAAO,EAAK,EAAQ,GACvD,EAAI,IAAM,EACH,EAWT,YAAoB,EAAK,EAAG,CAC1B,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACT,EAAK,EAAI,EACb,SAAI,GAAK,EAAI,EAAK,EAClB,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EACT,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAI,EAAK,EAClB,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EACT,EAAI,GAAK,EAAK,EACd,EAAI,GAAK,EAAK,EACd,EAAI,IAAM,EAAI,EAAK,EACnB,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAeT,YAAiB,EAAK,EAAM,EAAO,EAAQ,EAAK,EAAM,EAAK,CACzD,GAAI,GAAK,EAAK,GAAQ,GAClB,EAAK,EAAK,GAAM,GAChB,EAAK,EAAK,GAAO,GACrB,SAAI,GAAK,EAAO,EAAI,EACpB,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EAAO,EAAI,EACpB,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAM,GAAQ,GAAQ,EAC1B,EAAI,GAAM,GAAM,GAAU,EAC1B,EAAI,IAAO,GAAM,GAAQ,EACzB,EAAI,IAAM,GACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EAAM,EAAO,EAAI,EAC3B,EAAI,IAAM,EACH,EAcT,YAAqB,EAAK,EAAM,EAAQ,EAAM,EAAK,CACjD,GAAI,GAAI,EAAM,KAAK,IAAI,EAAO,GAC1B,EACJ,SAAI,GAAK,EAAI,EACb,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,GACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EAEV,AAAI,GAAO,MAAQ,IAAQ,SACzB,GAAK,EAAK,GAAO,GACjB,EAAI,IAAO,GAAM,GAAQ,EACzB,EAAI,IAAM,EAAI,EAAM,EAAO,GAE3B,GAAI,IAAM,GACV,EAAI,IAAM,GAAK,GAGV,EAcT,YAAoC,EAAK,EAAK,EAAM,EAAK,CACvD,GAAI,GAAQ,KAAK,IAAI,EAAI,UAAY,KAAK,GAAK,KAC3C,EAAU,KAAK,IAAI,EAAI,YAAc,KAAK,GAAK,KAC/C,EAAU,KAAK,IAAI,EAAI,YAAc,KAAK,GAAK,KAC/C,EAAW,KAAK,IAAI,EAAI,aAAe,KAAK,GAAK,KACjD,EAAS,EAAO,GAAU,GAC1B,EAAS,EAAO,GAAQ,GAC5B,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,CAAG,IAAU,GAAY,EAAS,IAC3C,EAAI,GAAM,GAAQ,GAAW,EAAS,GACtC,EAAI,IAAM,EAAO,GAAO,GACxB,EAAI,IAAM,GACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EAAM,EAAQ,GAAO,GAC/B,EAAI,IAAM,EACH,EAeT,YAAe,EAAK,EAAM,EAAO,EAAQ,EAAK,EAAM,EAAK,CACvD,GAAI,GAAK,EAAK,GAAO,GACjB,EAAK,EAAK,GAAS,GACnB,EAAK,EAAK,GAAO,GACrB,SAAI,GAAK,GAAK,EACd,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,GAAK,EACd,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EAAI,EACd,EAAI,IAAM,EACV,EAAI,IAAO,GAAO,GAAS,EAC3B,EAAI,IAAO,GAAM,GAAU,EAC3B,EAAI,IAAO,GAAM,GAAQ,EACzB,EAAI,IAAM,EACH,EAaT,YAAgB,EAAK,EAAK,EAAQ,EAAI,CACpC,GAAI,GAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EACpC,EAAO,EAAI,GACX,EAAO,EAAI,GACX,EAAO,EAAI,GACX,EAAM,EAAG,GACT,EAAM,EAAG,GACT,EAAM,EAAG,GACT,EAAU,EAAO,GACjB,EAAU,EAAO,GACjB,EAAU,EAAO,GAErB,MAAI,MAAK,IAAI,EAAO,GAAW,GAAW,KAAK,IAAI,EAAO,GAAW,GAAW,KAAK,IAAI,EAAO,GAAW,EAClG,GAAW,GAGpB,GAAK,EAAO,EACZ,EAAK,EAAO,EACZ,EAAK,EAAO,EACZ,EAAM,EAAI,KAAK,MAAM,EAAI,EAAI,GAC7B,GAAM,EACN,GAAM,EACN,GAAM,EACN,EAAK,EAAM,EAAK,EAAM,EACtB,EAAK,EAAM,EAAK,EAAM,EACtB,EAAK,EAAM,EAAK,EAAM,EACtB,EAAM,KAAK,MAAM,EAAI,EAAI,GAEzB,AAAK,EAKH,GAAM,EAAI,EACV,GAAM,EACN,GAAM,EACN,GAAM,GAPN,GAAK,EACL,EAAK,EACL,EAAK,GAQP,EAAK,EAAK,EAAK,EAAK,EACpB,EAAK,EAAK,EAAK,EAAK,EACpB,EAAK,EAAK,EAAK,EAAK,EACpB,EAAM,KAAK,MAAM,EAAI,EAAI,GAEzB,AAAK,EAKH,GAAM,EAAI,EACV,GAAM,EACN,GAAM,EACN,GAAM,GAPN,GAAK,EACL,EAAK,EACL,EAAK,GAQP,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,CAAE,GAAK,EAAO,EAAK,EAAO,EAAK,GACzC,EAAI,IAAM,CAAE,GAAK,EAAO,EAAK,EAAO,EAAK,GACzC,EAAI,IAAM,CAAE,GAAK,EAAO,EAAK,EAAO,EAAK,GACzC,EAAI,IAAM,EACH,GAYT,YAAkB,EAAK,EAAK,EAAQ,EAAI,CACtC,GAAI,GAAO,EAAI,GACX,EAAO,EAAI,GACX,EAAO,EAAI,GACX,EAAM,EAAG,GACT,EAAM,EAAG,GACT,EAAM,EAAG,GACT,EAAK,EAAO,EAAO,GACnB,EAAK,EAAO,EAAO,GACnB,EAAK,EAAO,EAAO,GACnB,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAEnC,AAAI,EAAM,GACR,GAAM,EAAI,KAAK,KAAK,GACpB,GAAM,EACN,GAAM,EACN,GAAM,GAGR,GAAI,GAAK,EAAM,EAAK,EAAM,EACtB,EAAK,EAAM,EAAK,EAAM,EACtB,EAAK,EAAM,EAAK,EAAM,EAC1B,SAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAE3B,EAAM,GACR,GAAM,EAAI,KAAK,KAAK,GACpB,GAAM,EACN,GAAM,EACN,GAAM,GAGR,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EAAK,EAAK,EAAK,EACxB,EAAI,GAAK,EAAK,EAAK,EAAK,EACxB,EAAI,GAAK,EAAK,EAAK,EAAK,EACxB,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACV,EAAI,IAAM,EACH,EAST,YAAe,EAAG,CAChB,MAAO,QAAU,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,IAAM,KAAO,EAAE,IAAM,KAAO,EAAE,IAAM,KAAO,EAAE,IAAM,KAAO,EAAE,IAAM,KAAO,EAAE,IAAM,IASlP,YAAgB,EAAG,CACjB,MAAO,MAAK,MAAM,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,GAAI,EAAE,IAAK,EAAE,IAAK,EAAE,IAAK,EAAE,IAAK,EAAE,IAAK,EAAE,KAWrH,YAAe,EAAK,EAAG,EAAG,CACxB,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACb,EAWT,YAAoB,EAAK,EAAG,EAAG,CAC7B,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACpB,EAAI,IAAM,EAAE,IAAM,EAAE,IACb,EAWT,YAA0B,EAAK,EAAG,EAAG,CACnC,SAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,IAAM,EAAE,IAAM,EAClB,EAAI,IAAM,EAAE,IAAM,EAClB,EAAI,IAAM,EAAE,IAAM,EAClB,EAAI,IAAM,EAAE,IAAM,EAClB,EAAI,IAAM,EAAE,IAAM,EAClB,EAAI,IAAM,EAAE,IAAM,EACX,EAYT,YAAgC,EAAK,EAAG,EAAG,EAAO,CAChD,SAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,IAAM,EAAE,IAAM,EAAE,IAAM,EAC1B,EAAI,IAAM,EAAE,IAAM,EAAE,IAAM,EAC1B,EAAI,IAAM,EAAE,IAAM,EAAE,IAAM,EAC1B,EAAI,IAAM,EAAE,IAAM,EAAE,IAAM,EAC1B,EAAI,IAAM,EAAE,IAAM,EAAE,IAAM,EAC1B,EAAI,IAAM,EAAE,IAAM,EAAE,IAAM,EACnB,EAUT,YAAuB,EAAG,EAAG,CAC3B,MAAO,GAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,MAAQ,EAAE,KAAO,EAAE,MAAQ,EAAE,KAAO,EAAE,MAAQ,EAAE,KAAO,EAAE,MAAQ,EAAE,KAAO,EAAE,MAAQ,EAAE,KAAO,EAAE,MAAQ,EAAE,IAU9R,YAAkB,EAAG,EAAG,CACtB,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACR,EAAM,EAAE,IACZ,MAAO,MAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAM,IAAQ,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAM,KAAK,IAAI,KAAS,KAAK,IAAI,EAAM,IAAQ,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAM,KAAK,IAAI,KAAS,KAAK,IAAI,EAAM,IAAQ,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAM,KAAK,IAAI,KAAS,KAAK,IAAI,EAAM,IAAQ,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAM,KAAK,IAAI,KAAS,KAAK,IAAI,EAAM,IAAQ,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAM,KAAK,IAAI,KAAS,KAAK,IAAI,EAAM,IAAQ,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAM,KAAK,IAAI,IAOxtC,GAAI,IAAQ,GAMR,GAAQ,GAER,EAAoB,OAAO,OAAO,CACpC,UAAW,KACX,OAAQ,GACR,MAAO,GACP,KAAM,GACN,WAAY,GACZ,IAAK,GACL,SAAU,GACV,UAAW,GACX,OAAQ,GACR,QAAS,GACT,YAAa,GACb,SAAU,GACV,UAAW,GACX,MAAO,GACP,OAAQ,GACR,QAAS,GACT,QAAS,GACT,QAAS,GACT,gBAAiB,GACjB,YAAa,GACb,aAAc,GACd,cAAe,GACf,cAAe,GACf,cAAe,GACf,wBAAyB,GACzB,UAAW,GACX,eAAgB,GAChB,WAAY,GACZ,YAAa,GACb,6BAA8B,GAC9B,mCAAoC,GACpC,SAAU,GACV,QAAS,GACT,YAAa,GACb,2BAA4B,GAC5B,MAAO,GACP,OAAQ,GACR,SAAU,GACV,IAAK,GACL,KAAM,GACN,IAAK,GACL,SAAU,GACV,eAAgB,GAChB,qBAAsB,GACtB,YAAa,GACb,OAAQ,GACR,IAAK,GACL,IAAK,KAcP,aAAoB,CAClB,GAAI,GAAM,GAAI,GAAW,GAEzB,MAAI,IAAc,cAChB,GAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,GAGJ,EAST,YAAiB,EAAG,CAClB,GAAI,GAAM,GAAI,GAAW,GACzB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACJ,EAST,YAAgB,EAAG,CACjB,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACV,MAAO,MAAK,MAAM,EAAG,EAAG,GAW1B,YAAsB,EAAG,EAAG,EAAG,CAC7B,GAAI,GAAM,GAAI,GAAW,GACzB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAUT,YAAgB,EAAK,EAAG,CACtB,SAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,GACJ,EAYT,YAAe,EAAK,EAAG,EAAG,EAAG,CAC3B,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAWT,YAAe,EAAK,EAAG,EAAG,CACxB,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAWT,YAAoB,EAAK,EAAG,EAAG,CAC7B,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAWT,YAAoB,EAAK,EAAG,EAAG,CAC7B,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAWT,YAAgB,EAAK,EAAG,EAAG,CACzB,SAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAUT,YAAc,EAAK,EAAG,CACpB,SAAI,GAAK,KAAK,KAAK,EAAE,IACrB,EAAI,GAAK,KAAK,KAAK,EAAE,IACrB,EAAI,GAAK,KAAK,KAAK,EAAE,IACd,EAUT,YAAe,EAAK,EAAG,CACrB,SAAI,GAAK,KAAK,MAAM,EAAE,IACtB,EAAI,GAAK,KAAK,MAAM,EAAE,IACtB,EAAI,GAAK,KAAK,MAAM,EAAE,IACf,EAWT,YAAa,EAAK,EAAG,EAAG,CACtB,SAAI,GAAK,KAAK,IAAI,EAAE,GAAI,EAAE,IAC1B,EAAI,GAAK,KAAK,IAAI,EAAE,GAAI,EAAE,IAC1B,EAAI,GAAK,KAAK,IAAI,EAAE,GAAI,EAAE,IACnB,EAWT,YAAa,EAAK,EAAG,EAAG,CACtB,SAAI,GAAK,KAAK,IAAI,EAAE,GAAI,EAAE,IAC1B,EAAI,GAAK,KAAK,IAAI,EAAE,GAAI,EAAE,IAC1B,EAAI,GAAK,KAAK,IAAI,EAAE,GAAI,EAAE,IACnB,EAUT,YAAe,EAAK,EAAG,CACrB,SAAI,GAAK,KAAK,MAAM,EAAE,IACtB,EAAI,GAAK,KAAK,MAAM,EAAE,IACtB,EAAI,GAAK,KAAK,MAAM,EAAE,IACf,EAWT,YAAiB,EAAK,EAAG,EAAG,CAC1B,SAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EACT,EAYT,YAAqB,EAAK,EAAG,EAAG,EAAO,CACrC,SAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EACvB,EAAI,GAAK,EAAE,GAAK,EAAE,GAAK,EAChB,EAUT,YAAkB,EAAG,EAAG,CACtB,GAAI,GAAI,EAAE,GAAK,EAAE,GACb,EAAI,EAAE,GAAK,EAAE,GACb,EAAI,EAAE,GAAK,EAAE,GACjB,MAAO,MAAK,MAAM,EAAG,EAAG,GAU1B,YAAyB,EAAG,EAAG,CAC7B,GAAI,GAAI,EAAE,GAAK,EAAE,GACb,EAAI,EAAE,GAAK,EAAE,GACb,EAAI,EAAE,GAAK,EAAE,GACjB,MAAO,GAAI,EAAI,EAAI,EAAI,EAAI,EAS7B,YAAuB,EAAG,CACxB,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACV,MAAO,GAAI,EAAI,EAAI,EAAI,EAAI,EAU7B,YAAgB,EAAK,EAAG,CACtB,SAAI,GAAK,CAAC,EAAE,GACZ,EAAI,GAAK,CAAC,EAAE,GACZ,EAAI,GAAK,CAAC,EAAE,GACL,EAUT,YAAiB,EAAK,EAAG,CACvB,SAAI,GAAK,EAAM,EAAE,GACjB,EAAI,GAAK,EAAM,EAAE,GACjB,EAAI,GAAK,EAAM,EAAE,GACV,EAUT,YAAmB,EAAK,EAAG,CACzB,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAM,EAAI,EAAI,EAAI,EAAI,EAAI,EAE9B,MAAI,GAAM,GAER,GAAM,EAAI,KAAK,KAAK,IAGtB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EAChB,EAAI,GAAK,EAAE,GAAK,EACT,EAUT,YAAa,EAAG,EAAG,CACjB,MAAO,GAAE,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAAK,EAAE,GAW9C,YAAe,EAAK,EAAG,EAAG,CACxB,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACX,SAAI,GAAK,EAAK,EAAK,EAAK,EACxB,EAAI,GAAK,EAAK,EAAK,EAAK,EACxB,EAAI,GAAK,EAAK,EAAK,EAAK,EACjB,EAYT,YAAc,EAAK,EAAG,EAAG,EAAG,CAC1B,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACX,SAAI,GAAK,EAAK,EAAK,GAAE,GAAK,GAC1B,EAAI,GAAK,EAAK,EAAK,GAAE,GAAK,GAC1B,EAAI,GAAK,EAAK,EAAK,GAAE,GAAK,GACnB,EAcT,YAAiB,EAAK,EAAG,EAAG,EAAG,EAAG,EAAG,CACnC,GAAI,GAAe,EAAI,EACnB,EAAU,EAAgB,GAAI,EAAI,GAAK,EACvC,EAAU,EAAgB,GAAI,GAAK,EACnC,EAAU,EAAgB,GAAI,GAC9B,EAAU,EAAgB,GAAI,EAAI,GACtC,SAAI,GAAK,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EACnE,EAAI,GAAK,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EACnE,EAAI,GAAK,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAC5D,EAcT,YAAgB,EAAK,EAAG,EAAG,EAAG,EAAG,EAAG,CAClC,GAAI,GAAgB,EAAI,EACpB,EAAwB,EAAgB,EACxC,EAAe,EAAI,EACnB,EAAU,EAAwB,EAClC,EAAU,EAAI,EAAI,EAClB,EAAU,EAAI,EAAe,EAC7B,EAAU,EAAe,EAC7B,SAAI,GAAK,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EACnE,EAAI,GAAK,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EACnE,EAAI,GAAK,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAAU,EAAE,GAAK,EAC5D,EAUT,YAAgB,EAAK,EAAO,CAC1B,EAAQ,GAAS,EACjB,GAAI,GAAI,KAAW,EAAM,KAAK,GAC1B,EAAI,KAAW,EAAM,EACrB,EAAS,KAAK,KAAK,EAAM,EAAI,GAAK,EACtC,SAAI,GAAK,KAAK,IAAI,GAAK,EACvB,EAAI,GAAK,KAAK,IAAI,GAAK,EACvB,EAAI,GAAK,EAAI,EACN,EAYT,YAAuB,EAAK,EAAG,EAAG,CAChC,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAAM,EAAI,EAAE,IAC5C,SAAI,GAAK,EACT,EAAI,GAAM,GAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,KAAO,EACpD,EAAI,GAAM,GAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,KAAO,EACpD,EAAI,GAAM,GAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,IAAM,EAAI,EAAE,KAAO,EAC9C,EAWT,YAAuB,EAAK,EAAG,EAAG,CAChC,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACV,SAAI,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GACrC,EAAI,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GACrC,EAAI,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAAK,EAAI,EAAE,GAC9B,EAYT,YAAuB,EAAK,EAAG,EAAG,CAEhC,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GAGN,EAAM,EAAK,EAAI,EAAK,EACpB,EAAM,EAAK,EAAI,EAAK,EACpB,EAAM,EAAK,EAAI,EAAK,EAEpB,EAAO,EAAK,EAAM,EAAK,EACvB,EAAO,EAAK,EAAM,EAAK,EACvB,EAAO,EAAK,EAAM,EAAK,EAEvB,EAAK,EAAK,EACd,UAAO,EACP,GAAO,EACP,GAAO,EAEP,GAAQ,EACR,GAAQ,EACR,GAAQ,EAER,EAAI,GAAK,EAAI,EAAM,EACnB,EAAI,GAAK,EAAI,EAAM,EACnB,EAAI,GAAK,EAAI,EAAM,EACZ,EAWT,YAAmB,EAAK,EAAG,EAAG,EAAK,CACjC,GAAI,GAAI,GACJ,EAAI,GAER,SAAE,GAAK,EAAE,GAAK,EAAE,GAChB,EAAE,GAAK,EAAE,GAAK,EAAE,GAChB,EAAE,GAAK,EAAE,GAAK,EAAE,GAEhB,EAAE,GAAK,EAAE,GACT,EAAE,GAAK,EAAE,GAAK,KAAK,IAAI,GAAO,EAAE,GAAK,KAAK,IAAI,GAC9C,EAAE,GAAK,EAAE,GAAK,KAAK,IAAI,GAAO,EAAE,GAAK,KAAK,IAAI,GAE9C,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAWT,YAAmB,EAAK,EAAG,EAAG,EAAK,CACjC,GAAI,GAAI,GACJ,EAAI,GAER,SAAE,GAAK,EAAE,GAAK,EAAE,GAChB,EAAE,GAAK,EAAE,GAAK,EAAE,GAChB,EAAE,GAAK,EAAE,GAAK,EAAE,GAEhB,EAAE,GAAK,EAAE,GAAK,KAAK,IAAI,GAAO,EAAE,GAAK,KAAK,IAAI,GAC9C,EAAE,GAAK,EAAE,GACT,EAAE,GAAK,EAAE,GAAK,KAAK,IAAI,GAAO,EAAE,GAAK,KAAK,IAAI,GAE9C,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAWT,YAAmB,EAAK,EAAG,EAAG,EAAK,CACjC,GAAI,GAAI,GACJ,EAAI,GAER,SAAE,GAAK,EAAE,GAAK,EAAE,GAChB,EAAE,GAAK,EAAE,GAAK,EAAE,GAChB,EAAE,GAAK,EAAE,GAAK,EAAE,GAEhB,EAAE,GAAK,EAAE,GAAK,KAAK,IAAI,GAAO,EAAE,GAAK,KAAK,IAAI,GAC9C,EAAE,GAAK,EAAE,GAAK,KAAK,IAAI,GAAO,EAAE,GAAK,KAAK,IAAI,GAC9C,EAAE,GAAK,EAAE,GAET,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GAClB,EAAI,GAAK,EAAE,GAAK,EAAE,GACX,EAST,YAAe,EAAG,EAAG,CACnB,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAO,KAAK,KAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC1C,EAAO,KAAK,KAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAC1C,EAAM,EAAO,EACb,EAAS,GAAO,GAAI,EAAG,GAAK,EAChC,MAAO,MAAK,KAAK,KAAK,IAAI,KAAK,IAAI,EAAQ,IAAK,IASlD,YAAc,EAAK,CACjB,SAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,EAST,YAAe,EAAG,CAChB,MAAO,QAAU,EAAE,GAAK,KAAO,EAAE,GAAK,KAAO,EAAE,GAAK,IAUtD,YAAuB,EAAG,EAAG,CAC3B,MAAO,GAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,IAAM,EAAE,KAAO,EAAE,GAUtD,YAAkB,EAAG,EAAG,CACtB,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACX,MAAO,MAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,KAAQ,KAAK,IAAI,EAAK,IAAO,EAAU,KAAK,IAAI,EAAK,KAAK,IAAI,GAAK,KAAK,IAAI,IAOrO,GAAI,IAAQ,GAMR,GAAQ,GAMR,GAAM,GAMN,GAAO,GAMP,GAAU,GAMV,GAAM,GAMN,GAAS,GAcT,GAAU,UAAY,CACxB,GAAI,GAAM,KACV,MAAO,UAAU,EAAG,EAAQ,EAAQ,EAAO,EAAI,EAAK,CAClD,GAAI,GAAG,EAgBP,IAdK,GACH,GAAS,GAGN,GACH,GAAS,GAGX,AAAI,EACF,EAAI,KAAK,IAAI,EAAQ,EAAS,EAAQ,EAAE,QAExC,EAAI,EAAE,OAGH,EAAI,EAAQ,EAAI,EAAG,GAAK,EAC3B,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,EAAI,GACf,EAAI,GAAK,EAAE,EAAI,GACf,EAAG,EAAK,EAAK,GACb,EAAE,GAAK,EAAI,GACX,EAAE,EAAI,GAAK,EAAI,GACf,EAAE,EAAI,GAAK,EAAI,GAGjB,MAAO,OAIP,GAAoB,OAAO,OAAO,CACpC,UAAW,KACX,OAAQ,GACR,MAAO,GACP,OAAQ,GACR,WAAY,GACZ,KAAM,GACN,IAAK,GACL,IAAK,GACL,SAAU,GACV,SAAU,GACV,OAAQ,GACR,KAAM,GACN,MAAO,GACP,IAAK,GACL,IAAK,GACL,MAAO,GACP,MAAO,GACP,YAAa,GACb,SAAU,GACV,gBAAiB,GACjB,cAAe,GACf,OAAQ,GACR,QAAS,GACT,UAAW,GACX,IAAK,GACL,MAAO,GACP,KAAM,GACN,QAAS,GACT,OAAQ,GACR,OAAQ,GACR,cAAe,GACf,cAAe,GACf,cAAe,GACf,QAAS,GACT,QAAS,GACT,QAAS,GACT,MAAO,GACP,KAAM,GACN,IAAK,GACL,YAAa,GACb,OAAQ,GACR,IAAK,GACL,IAAK,GACL,IAAK,GACL,KAAM,GACN,QAAS,GACT,IAAK,GACL,OAAQ,GACR,QAAS,KAcX,aAAoB,CAClB,GAAI,GAAM,GAAI,GAAW,GAEzB,MAAI,IAAc,cAChB,GAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,GAGJ,EAkVT,YAAqB,EAAK,EAAG,CAC3B,GAAI,GAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAI,EAAE,GACN,EAAM,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,EAEtC,MAAI,GAAM,GACR,GAAM,EAAI,KAAK,KAAK,IAGtB,EAAI,GAAK,EAAI,EACb,EAAI,GAAK,EAAI,EACb,EAAI,GAAK,EAAI,EACb,EAAI,GAAK,EAAI,EACN,EA8PT,GAAI,IAAY,UAAY,CAC1B,GAAI,GAAM,KACV,MAAO,UAAU,EAAG,EAAQ,EAAQ,EAAO,EAAI,EAAK,CAClD,GAAI,GAAG,EAgBP,IAdK,GACH,GAAS,GAGN,GACH,GAAS,GAGX,AAAI,EACF,EAAI,KAAK,IAAI,EAAQ,EAAS,EAAQ,EAAE,QAExC,EAAI,EAAE,OAGH,EAAI,EAAQ,EAAI,EAAG,GAAK,EAC3B,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,EAAI,GACf,EAAI,GAAK,EAAE,EAAI,GACf,EAAI,GAAK,EAAE,EAAI,GACf,EAAG,EAAK,EAAK,GACb,EAAE,GAAK,EAAI,GACX,EAAE,EAAI,GAAK,EAAI,GACf,EAAE,EAAI,GAAK,EAAI,GACf,EAAE,EAAI,GAAK,EAAI,GAGjB,MAAO,OA4DX,aAAoB,CAClB,GAAI,GAAM,GAAI,GAAW,GAEzB,MAAI,IAAc,cAChB,GAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,GAGX,EAAI,GAAK,EACF,EA0BT,YAAsB,EAAK,EAAM,EAAK,CACpC,EAAM,EAAM,GACZ,GAAI,GAAI,KAAK,IAAI,GACjB,SAAI,GAAK,EAAI,EAAK,GAClB,EAAI,GAAK,EAAI,EAAK,GAClB,EAAI,GAAK,EAAI,EAAK,GAClB,EAAI,GAAK,KAAK,IAAI,GACX,EAkOT,YAAe,EAAK,EAAG,EAAG,EAAG,CAG3B,GAAI,GAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAK,EAAE,GACP,EAAO,EAAO,EAAO,EAAQ,EAEjC,SAAQ,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAEvC,EAAQ,GACV,GAAQ,CAAC,EACT,EAAK,CAAC,EACN,EAAK,CAAC,EACN,EAAK,CAAC,EACN,EAAK,CAAC,GAIR,AAAI,EAAM,EAAQ,EAEhB,GAAQ,KAAK,KAAK,GAClB,EAAQ,KAAK,IAAI,GACjB,EAAS,KAAK,IAAK,GAAM,GAAK,GAAS,EACvC,EAAS,KAAK,IAAI,EAAI,GAAS,GAI/B,GAAS,EAAM,EACf,EAAS,GAIX,EAAI,GAAK,EAAS,EAAK,EAAS,EAChC,EAAI,GAAK,EAAS,EAAK,EAAS,EAChC,EAAI,GAAK,EAAS,EAAK,EAAS,EAChC,EAAI,GAAK,EAAS,EAAK,EAAS,EACzB,EAyET,YAAkB,EAAK,EAAG,CAGxB,GAAI,GAAS,EAAE,GAAK,EAAE,GAAK,EAAE,GACzB,EAEJ,GAAI,EAAS,EAEX,EAAQ,KAAK,KAAK,EAAS,GAE3B,EAAI,GAAK,GAAM,EACf,EAAQ,GAAM,EAEd,EAAI,GAAM,GAAE,GAAK,EAAE,IAAM,EACzB,EAAI,GAAM,GAAE,GAAK,EAAE,IAAM,EACzB,EAAI,GAAM,GAAE,GAAK,EAAE,IAAM,MACpB,CAEL,GAAI,GAAI,EACR,AAAI,EAAE,GAAK,EAAE,IAAI,GAAI,GACjB,EAAE,GAAK,EAAE,EAAI,EAAI,IAAI,GAAI,GAC7B,GAAI,GAAK,GAAI,GAAK,EACd,EAAK,GAAI,GAAK,EAClB,EAAQ,KAAK,KAAK,EAAE,EAAI,EAAI,GAAK,EAAE,EAAI,EAAI,GAAK,EAAE,EAAI,EAAI,GAAK,GAC/D,EAAI,GAAK,GAAM,EACf,EAAQ,GAAM,EACd,EAAI,GAAM,GAAE,EAAI,EAAI,GAAK,EAAE,EAAI,EAAI,IAAM,EACzC,EAAI,GAAM,GAAE,EAAI,EAAI,GAAK,EAAE,EAAI,EAAI,IAAM,EACzC,EAAI,GAAM,GAAE,EAAI,EAAI,GAAK,EAAE,EAAI,EAAI,IAAM,EAG3C,MAAO,GA4KT,GAAI,IAAc,GA+BlB,GAAI,IAAa,UAAY,CAC3B,GAAI,GAAU,KACV,EAAY,GAAa,EAAG,EAAG,GAC/B,EAAY,GAAa,EAAG,EAAG,GACnC,MAAO,UAAU,EAAK,EAAG,EAAG,CAC1B,GAAI,GAAQ,GAAI,EAAG,GAEnB,MAAI,GAAQ,SACV,IAAM,EAAS,EAAW,GACtB,GAAI,GAAW,MAAU,GAAM,EAAS,EAAW,GACvD,GAAU,EAAS,GACnB,GAAa,EAAK,EAAS,KAAK,IACzB,GACE,EAAQ,QACjB,GAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACT,EAAI,GAAK,EACF,GAEP,IAAM,EAAS,EAAG,GAClB,EAAI,GAAK,EAAQ,GACjB,EAAI,GAAK,EAAQ,GACjB,EAAI,GAAK,EAAQ,GACjB,EAAI,GAAK,EAAI,EACN,GAAY,EAAK,QAgB1B,GAAS,UAAY,CACvB,GAAI,GAAQ,KACR,EAAQ,KACZ,MAAO,UAAU,EAAK,EAAG,EAAG,EAAG,EAAG,EAAG,CACnC,UAAM,EAAO,EAAG,EAAG,GACnB,GAAM,EAAO,EAAG,EAAG,GACnB,GAAM,EAAK,EAAO,EAAO,EAAI,EAAK,GAAI,IAC/B,MAcP,GAAU,UAAY,CACxB,GAAI,GAAO,KACX,MAAO,UAAU,EAAK,EAAM,EAAO,EAAI,CACrC,SAAK,GAAK,EAAM,GAChB,EAAK,GAAK,EAAM,GAChB,EAAK,GAAK,EAAM,GAChB,EAAK,GAAK,EAAG,GACb,EAAK,GAAK,EAAG,GACb,EAAK,GAAK,EAAG,GACb,EAAK,GAAK,CAAC,EAAK,GAChB,EAAK,GAAK,CAAC,EAAK,GAChB,EAAK,GAAK,CAAC,EAAK,GACT,GAAY,EAAK,GAAS,EAAK,QAs6B1C,aAAoB,CAClB,GAAI,GAAM,GAAI,GAAW,GAEzB,MAAI,IAAc,cAChB,GAAI,GAAK,EACT,EAAI,GAAK,GAGJ,EA8jBT,GAAI,IAAY,UAAY,CAC1B,GAAI,GAAM,KACV,MAAO,UAAU,EAAG,EAAQ,EAAQ,EAAO,EAAI,EAAK,CAClD,GAAI,GAAG,EAgBP,IAdK,GACH,GAAS,GAGN,GACH,GAAS,GAGX,AAAI,EACF,EAAI,KAAK,IAAI,EAAQ,EAAS,EAAQ,EAAE,QAExC,EAAI,EAAE,OAGH,EAAI,EAAQ,EAAI,EAAG,GAAK,EAC3B,EAAI,GAAK,EAAE,GACX,EAAI,GAAK,EAAE,EAAI,GACf,EAAG,EAAK,EAAK,GACb,EAAE,GAAK,EAAI,GACX,EAAE,EAAI,GAAK,EAAI,GAGjB,MAAO,OCt1OX,YAAmB,EAAO,EAAO,EAAO,EAAM,CAG1C,GAAI,GAAQ,EACR,MAAO,GAEX,GAAM,GAAQ,KAAK,MAAM,EAAS,GAAO,GAAS,GAC5C,EAAQ,EAAQ,EAAM,GAAO,MAC7B,EAAS,EAAQ,EAAM,EAAQ,GAAG,MACxC,MAAI,GAAQ,EACD,GAAU,EAAO,EAAO,EAAO,EAAQ,GAEzC,EAAS,EACP,EAGA,GAAU,EAAO,EAAO,EAAQ,EAAG,GAGlD,GAAM,IAAc,CAAC,EAAO,EAAgB,IAAmB,CAC3D,GAAM,GAAQ,GAAQ,GAAmB,GAAiB,GAC1D,MAAO,CAAC,EAAI,EAAM,IAGtB,YAAgB,EAAM,CAClB,MAAO,GAAK,QAAU,QAAa,EAAK,SAAW,OAEvD,YAAqB,EAAO,CACxB,MAAO,GAAM,OAAS,GAAK,GAAO,EAAM,IAE5C,YAA0B,EAAG,EAAG,EAAG,EAAG,CAClC,MAAO,CACH,EAAI,EAAE,GAAK,EAAI,EAAE,GACjB,EAAI,EAAE,GAAK,EAAI,EAAE,GACjB,EAAI,EAAE,GAAK,EAAI,EAAE,IAGzB,YAAqB,EAAO,CACxB,MAAO,IAAgB,GAE3B,YAAwB,EAAQ,EAAO,EAAO,CAC1C,MAAI,CAAC,MAAM,QAAQ,IAAW,EAAO,OAAS,EACnC,GAEP,GAAY,GACL,GAAmB,EAAQ,EAAO,GAAY,GAAQ,IAGtD,GAAmB,EAAQ,EAAO,GAAY,GAAQ,IAGrE,YAA4B,EAAO,EAAO,EAAO,EAAmB,CAChE,GAAM,GAAc,EAAM,KAAK,CAAC,EAAG,IAAM,EAAE,MAAQ,EAAE,MAAQ,GAAK,GAClE,MAAO,UAAU,EAAO,CACpB,GAAM,GAAc,EAAM,GACpB,EAAQ,GAAU,EAAa,EAAa,EAAG,EAAY,OAAS,GAC1E,GAAI,GAAS,GAAK,EAAc,EAAY,GAAG,MAC3C,MAAO,GAAY,GAAO,OAEzB,GAAI,GAAS,EAAY,OAAS,EACnC,MAAO,GAAY,GAAO,OAE9B,GAAM,CAAC,EAAQ,GAAU,EAAM,EAAa,EAAY,GAAO,MAAO,EAAY,EAAQ,GAAG,OAC7F,MAAO,GAAkB,EAAQ,EAAY,GAAO,OAAQ,EAAQ,EAAY,EAAQ,GAAG,SAGnG,YAA4B,EAAK,EAAO,EAAO,EAAmB,CAC9D,MAAO,UAAU,EAAO,CACpB,GAAM,GAAc,EAAM,GACpB,EAAc,GAAI,OAAS,GAAK,EACtC,GAAI,GAAc,EACd,MAAO,GAAI,GAEV,GAAI,GAAc,EAAI,OAAS,EAChC,MAAO,GAAI,EAAI,OAAS,GAE5B,GAAM,GAAQ,KAAK,MAAM,GACnB,CAAC,EAAQ,GAAU,EAAM,EAAY,EAAO,EAAQ,GAC1D,MAAO,GAAkB,EAAQ,EAAI,GAAQ,EAAQ,EAAI,EAAQ,KAGzE,YAAoB,EAAQ,CACxB,MAAO,CAAC,EAAG,EAAG,GAGlB,YAAqB,EAAQ,EAAO,CAChC,GAAI,CAAC,EAAI,GAAM,EACT,CAAC,EAAI,GAAM,EACjB,MAAI,MAAK,IAAI,EAAK,GAAM,OAAO,SAC3B,GAAK,EAAK,GAEP,SAAU,EAAO,CACpB,MAAO,GAAM,GAAK,GAAQ,IAAQ,GAAO,GAAK,KC4KtD,GAAM,IAAW,CACb,CAAC,QAAU,OAAU,SACrB,CAAC,QAAU,OAAS,QACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,OAAS,SACnB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,MAAQ,SACnB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,OACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,MAAQ,QAAU,SACnB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,OACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,MAAQ,QAAU,SACnB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,MAAQ,QAAU,SACnB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,QACpB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,OAAS,QAAU,SACpB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,QACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,QACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,QACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,OAAS,SACpB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAAU,SACrB,CAAC,QAAU,QAA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",
  "names": []
}
